var yg=e=>{throw TypeError(e)};var _m=(e,t,r)=>t.has(e)||yg("Cannot "+r);var R=(e,t,r)=>(_m(e,t,"read from private field"),r?r.call(e):t.get(e)),Ie=(e,t,r)=>t.has(e)?yg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ce=(e,t,r,n)=>(_m(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ze=(e,t,r)=>(_m(e,t,"access private method"),r);var Kc=(e,t,r,n)=>({set _(a){Ce(e,t,a,r)},get _(){return R(e,t,n)}});function $2(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function c0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var d0={exports:{}},Fu={},u0={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sc=Symbol.for("react.element"),U2=Symbol.for("react.portal"),z2=Symbol.for("react.fragment"),B2=Symbol.for("react.strict_mode"),q2=Symbol.for("react.profiler"),V2=Symbol.for("react.provider"),W2=Symbol.for("react.context"),H2=Symbol.for("react.forward_ref"),K2=Symbol.for("react.suspense"),Q2=Symbol.for("react.memo"),G2=Symbol.for("react.lazy"),vg=Symbol.iterator;function Y2(e){return e===null||typeof e!="object"?null:(e=vg&&e[vg]||e["@@iterator"],typeof e=="function"?e:null)}var m0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h0=Object.assign,f0={};function Ul(e,t,r){this.props=e,this.context=t,this.refs=f0,this.updater=r||m0}Ul.prototype.isReactComponent={};Ul.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ul.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function x0(){}x0.prototype=Ul.prototype;function ux(e,t,r){this.props=e,this.context=t,this.refs=f0,this.updater=r||m0}var mx=ux.prototype=new x0;mx.constructor=ux;h0(mx,Ul.prototype);mx.isPureReactComponent=!0;var jg=Array.isArray,p0=Object.prototype.hasOwnProperty,hx={current:null},g0={key:!0,ref:!0,__self:!0,__source:!0};function y0(e,t,r){var n,a={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)p0.call(t,n)&&!g0.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Sc,type:e,key:i,ref:l,props:a,_owner:hx.current}}function Z2(e,t){return{$$typeof:Sc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sc}function X2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var wg=/\/+/g;function Dm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?X2(""+e.key):t.toString(36)}function jd(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Sc:case U2:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+Dm(l,0):n,jg(a)?(r="",e!=null&&(r=e.replace(wg,"$&/")+"/"),jd(a,t,r,"",function(d){return d})):a!=null&&(fx(a)&&(a=Z2(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(wg,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",jg(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Dm(i,o);l+=jd(i,t,r,c,a)}else if(c=Y2(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Dm(i,o++),l+=jd(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Qc(e,t,r){if(e==null)return e;var n=[],a=0;return jd(e,n,"","",function(i){return t.call(r,i,a++)}),n}function J2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _s={current:null},wd={transition:null},ek={ReactCurrentDispatcher:_s,ReactCurrentBatchConfig:wd,ReactCurrentOwner:hx};function v0(){throw Error("act(...) is not supported in production builds of React.")}et.Children={map:Qc,forEach:function(e,t,r){Qc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Qc(e,function(){t++}),t},toArray:function(e){return Qc(e,function(t){return t})||[]},only:function(e){if(!fx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};et.Component=Ul;et.Fragment=z2;et.Profiler=q2;et.PureComponent=ux;et.StrictMode=B2;et.Suspense=K2;et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ek;et.act=v0;et.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=h0({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=hx.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)p0.call(t,c)&&!g0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Sc,type:e.type,key:a,ref:i,props:n,_owner:l}};et.createContext=function(e){return e={$$typeof:W2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:V2,_context:e},e.Consumer=e};et.createElement=y0;et.createFactory=function(e){var t=y0.bind(null,e);return t.type=e,t};et.createRef=function(){return{current:null}};et.forwardRef=function(e){return{$$typeof:H2,render:e}};et.isValidElement=fx;et.lazy=function(e){return{$$typeof:G2,_payload:{_status:-1,_result:e},_init:J2}};et.memo=function(e,t){return{$$typeof:Q2,type:e,compare:t===void 0?null:t}};et.startTransition=function(e){var t=wd.transition;wd.transition={};try{e()}finally{wd.transition=t}};et.unstable_act=v0;et.useCallback=function(e,t){return _s.current.useCallback(e,t)};et.useContext=function(e){return _s.current.useContext(e)};et.useDebugValue=function(){};et.useDeferredValue=function(e){return _s.current.useDeferredValue(e)};et.useEffect=function(e,t){return _s.current.useEffect(e,t)};et.useId=function(){return _s.current.useId()};et.useImperativeHandle=function(e,t,r){return _s.current.useImperativeHandle(e,t,r)};et.useInsertionEffect=function(e,t){return _s.current.useInsertionEffect(e,t)};et.useLayoutEffect=function(e,t){return _s.current.useLayoutEffect(e,t)};et.useMemo=function(e,t){return _s.current.useMemo(e,t)};et.useReducer=function(e,t,r){return _s.current.useReducer(e,t,r)};et.useRef=function(e){return _s.current.useRef(e)};et.useState=function(e){return _s.current.useState(e)};et.useSyncExternalStore=function(e,t,r){return _s.current.useSyncExternalStore(e,t,r)};et.useTransition=function(){return _s.current.useTransition()};et.version="18.3.1";u0.exports=et;var m=u0.exports;const We=c0(m),j0=$2({__proto__:null,default:We},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk=m,sk=Symbol.for("react.element"),rk=Symbol.for("react.fragment"),nk=Object.prototype.hasOwnProperty,ak=tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ik={key:!0,ref:!0,__self:!0,__source:!0};function w0(e,t,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)nk.call(t,n)&&!ik.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:sk,type:e,key:i,ref:l,props:a,_owner:ak.current}}Fu.Fragment=rk;Fu.jsx=w0;Fu.jsxs=w0;d0.exports=Fu;var s=d0.exports,b0={exports:{}},rr={},N0={exports:{}},S0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,U){var Z=F.length;F.push(U);e:for(;0<Z;){var q=Z-1>>>1,K=F[q];if(0<a(K,U))F[q]=U,F[Z]=K,Z=q;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var U=F[0],Z=F.pop();if(Z!==U){F[0]=Z;e:for(var q=0,K=F.length,I=K>>>1;q<I;){var z=2*(q+1)-1,ee=F[z],ge=z+1,Y=F[ge];if(0>a(ee,Z))ge<K&&0>a(Y,ee)?(F[q]=Y,F[ge]=Z,q=ge):(F[q]=ee,F[z]=Z,q=z);else if(ge<K&&0>a(Y,Z))F[q]=Y,F[ge]=Z,q=ge;else break e}}return U}function a(F,U){var Z=F.sortIndex-U.sortIndex;return Z!==0?Z:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,x=3,y=!1,v=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(F){for(var U=r(d);U!==null;){if(U.callback===null)n(d);else if(U.startTime<=F)n(d),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(d)}}function b(F){if(g=!1,j(F),!v)if(r(c)!==null)v=!0,se(k);else{var U=r(d);U!==null&&A(b,U.startTime-F)}}function k(F,U){v=!1,g&&(g=!1,p(P),P=-1),y=!0;var Z=x;try{for(j(U),h=r(c);h!==null&&(!(h.expirationTime>U)||F&&!D());){var q=h.callback;if(typeof q=="function"){h.callback=null,x=h.priorityLevel;var K=q(h.expirationTime<=U);U=e.unstable_now(),typeof K=="function"?h.callback=K:h===r(c)&&n(c),j(U)}else n(c);h=r(c)}if(h!==null)var I=!0;else{var z=r(d);z!==null&&A(b,z.startTime-U),I=!1}return I}finally{h=null,x=Z,y=!1}}var S=!1,C=null,P=-1,N=5,O=-1;function D(){return!(e.unstable_now()-O<N)}function M(){if(C!==null){var F=e.unstable_now();O=F;var U=!0;try{U=C(!0,F)}finally{U?H():(S=!1,C=null)}}else S=!1}var H;if(typeof f=="function")H=function(){f(M)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Q=B.port2;B.port1.onmessage=M,H=function(){Q.postMessage(null)}}else H=function(){w(M,0)};function se(F){C=F,S||(S=!0,H())}function A(F,U){P=w(function(){F(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,se(k))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(F){switch(x){case 1:case 2:case 3:var U=3;break;default:U=x}var Z=x;x=U;try{return F()}finally{x=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Z=x;x=F;try{return U()}finally{x=Z}},e.unstable_scheduleCallback=function(F,U,Z){var q=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?q+Z:q):Z=q,F){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Z+K,F={id:u++,callback:U,priorityLevel:F,startTime:Z,expirationTime:K,sortIndex:-1},Z>q?(F.sortIndex=Z,t(d,F),r(c)===null&&F===r(d)&&(g?(p(P),P=-1):g=!0,A(b,Z-q))):(F.sortIndex=K,t(c,F),v||y||(v=!0,se(k))),F},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(F){var U=x;return function(){var Z=x;x=U;try{return F.apply(this,arguments)}finally{x=Z}}}})(S0);N0.exports=S0;var lk=N0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ok=m,tr=lk;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k0=new Set,Io={};function wi(e,t){bl(e,t),bl(e+"Capture",t)}function bl(e,t){for(Io[e]=t,e=0;e<t.length;e++)k0.add(t[e])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_h=Object.prototype.hasOwnProperty,ck=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bg={},Ng={};function dk(e){return _h.call(Ng,e)?!0:_h.call(bg,e)?!1:ck.test(e)?Ng[e]=!0:(bg[e]=!0,!1)}function uk(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mk(e,t,r,n){if(t===null||typeof t>"u"||uk(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ds(e,t,r,n,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var os={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){os[e]=new Ds(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];os[t]=new Ds(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){os[e]=new Ds(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){os[e]=new Ds(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){os[e]=new Ds(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){os[e]=new Ds(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){os[e]=new Ds(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){os[e]=new Ds(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){os[e]=new Ds(e,5,!1,e.toLowerCase(),null,!1,!1)});var xx=/[\-:]([a-z])/g;function px(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xx,px);os[t]=new Ds(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xx,px);os[t]=new Ds(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xx,px);os[t]=new Ds(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){os[e]=new Ds(e,1,!1,e.toLowerCase(),null,!1,!1)});os.xlinkHref=new Ds("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){os[e]=new Ds(e,1,!1,e.toLowerCase(),null,!0,!0)});function gx(e,t,r,n){var a=os.hasOwnProperty(t)?os[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mk(t,r,a,n)&&(r=null),n||a===null?dk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var On=ok.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gc=Symbol.for("react.element"),Li=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),yx=Symbol.for("react.strict_mode"),Dh=Symbol.for("react.profiler"),C0=Symbol.for("react.provider"),T0=Symbol.for("react.context"),vx=Symbol.for("react.forward_ref"),Rh=Symbol.for("react.suspense"),Mh=Symbol.for("react.suspense_list"),jx=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),P0=Symbol.for("react.offscreen"),Sg=Symbol.iterator;function to(e){return e===null||typeof e!="object"?null:(e=Sg&&e[Sg]||e["@@iterator"],typeof e=="function"?e:null)}var Ot=Object.assign,Rm;function po(e){if(Rm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Rm=t&&t[1]||""}return`
`+Rm+e}var Mm=!1;function Fm(e,t){if(!e||Mm)return"";Mm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Mm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?po(e):""}function hk(e){switch(e.tag){case 5:return po(e.type);case 16:return po("Lazy");case 13:return po("Suspense");case 19:return po("SuspenseList");case 0:case 2:case 15:return e=Fm(e.type,!1),e;case 11:return e=Fm(e.type.render,!1),e;case 1:return e=Fm(e.type,!0),e;default:return""}}function Fh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $i:return"Fragment";case Li:return"Portal";case Dh:return"Profiler";case yx:return"StrictMode";case Rh:return"Suspense";case Mh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case T0:return(e.displayName||"Context")+".Consumer";case C0:return(e._context.displayName||"Context")+".Provider";case vx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jx:return t=e.displayName||null,t!==null?t:Fh(e.type)||"Memo";case Hn:t=e._payload,e=e._init;try{return Fh(e(t))}catch{}}return null}function fk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fh(t);case 8:return t===yx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function va(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function E0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xk(e){var t=E0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yc(e){e._valueTracker||(e._valueTracker=xk(e))}function A0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=E0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Bd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Oh(e,t){var r=t.checked;return Ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function kg(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=va(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _0(e,t){t=t.checked,t!=null&&gx(e,"checked",t,!1)}function Ih(e,t){_0(e,t);var r=va(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lh(e,t.type,va(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lh(e,t,r){(t!=="number"||Bd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var go=Array.isArray;function Zi(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+va(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function $h(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return Ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(le(92));if(go(r)){if(1<r.length)throw Error(le(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:va(r)}}function D0(e,t){var r=va(t.value),n=va(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Pg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function R0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?R0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zc,M0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zc=Zc||document.createElement("div"),Zc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pk=["Webkit","ms","Moz","O"];Object.keys(ko).forEach(function(e){pk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ko[t]=ko[e]})});function F0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ko.hasOwnProperty(e)&&ko[e]?(""+t).trim():t+"px"}function O0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=F0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var gk=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zh(e,t){if(t){if(gk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function Bh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qh=null;function wx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vh=null,Xi=null,Ji=null;function Eg(e){if(e=Tc(e)){if(typeof Vh!="function")throw Error(le(280));var t=e.stateNode;t&&(t=Uu(t),Vh(e.stateNode,e.type,t))}}function I0(e){Xi?Ji?Ji.push(e):Ji=[e]:Xi=e}function L0(){if(Xi){var e=Xi,t=Ji;if(Ji=Xi=null,Eg(e),t)for(e=0;e<t.length;e++)Eg(t[e])}}function $0(e,t){return e(t)}function U0(){}var Om=!1;function z0(e,t,r){if(Om)return e(t,r);Om=!0;try{return $0(e,t,r)}finally{Om=!1,(Xi!==null||Ji!==null)&&(U0(),L0())}}function $o(e,t){var r=e.stateNode;if(r===null)return null;var n=Uu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(le(231,t,typeof r));return r}var Wh=!1;if(Cn)try{var so={};Object.defineProperty(so,"passive",{get:function(){Wh=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Wh=!1}function yk(e,t,r,n,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Co=!1,qd=null,Vd=!1,Hh=null,vk={onError:function(e){Co=!0,qd=e}};function jk(e,t,r,n,a,i,l,o,c){Co=!1,qd=null,yk.apply(vk,arguments)}function wk(e,t,r,n,a,i,l,o,c){if(jk.apply(this,arguments),Co){if(Co){var d=qd;Co=!1,qd=null}else throw Error(le(198));Vd||(Vd=!0,Hh=d)}}function bi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function B0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ag(e){if(bi(e)!==e)throw Error(le(188))}function bk(e){var t=e.alternate;if(!t){if(t=bi(e),t===null)throw Error(le(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Ag(a),e;if(i===n)return Ag(a),t;i=i.sibling}throw Error(le(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?e:t}function q0(e){return e=bk(e),e!==null?V0(e):null}function V0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=V0(e);if(t!==null)return t;e=e.sibling}return null}var W0=tr.unstable_scheduleCallback,_g=tr.unstable_cancelCallback,Nk=tr.unstable_shouldYield,Sk=tr.unstable_requestPaint,Bt=tr.unstable_now,kk=tr.unstable_getCurrentPriorityLevel,bx=tr.unstable_ImmediatePriority,H0=tr.unstable_UserBlockingPriority,Wd=tr.unstable_NormalPriority,Ck=tr.unstable_LowPriority,K0=tr.unstable_IdlePriority,Ou=null,Xr=null;function Tk(e){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(Ou,e,void 0,(e.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:Ak,Pk=Math.log,Ek=Math.LN2;function Ak(e){return e>>>=0,e===0?32:31-(Pk(e)/Ek|0)|0}var Xc=64,Jc=4194304;function yo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=yo(o):(i&=l,i!==0&&(n=yo(i)))}else l=r&~a,l!==0?n=yo(l):i!==0&&(n=yo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_r(t),a=1<<r,n|=e[r],t&=~a;return n}function _k(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dk(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-_r(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=_k(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Kh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Q0(){var e=Xc;return Xc<<=1,!(Xc&4194240)&&(Xc=64),e}function Im(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function kc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_r(t),e[t]=r}function Rk(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-_r(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Nx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_r(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var pt=0;function G0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Y0,Sx,Z0,X0,J0,Qh=!1,ed=[],ca=null,da=null,ua=null,Uo=new Map,zo=new Map,Qn=[],Mk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dg(e,t){switch(e){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":Uo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(t.pointerId)}}function ro(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Tc(t),t!==null&&Sx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Fk(e,t,r,n,a){switch(t){case"focusin":return ca=ro(ca,e,t,r,n,a),!0;case"dragenter":return da=ro(da,e,t,r,n,a),!0;case"mouseover":return ua=ro(ua,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Uo.set(i,ro(Uo.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,zo.set(i,ro(zo.get(i)||null,e,t,r,n,a)),!0}return!1}function ej(e){var t=$a(e.target);if(t!==null){var r=bi(t);if(r!==null){if(t=r.tag,t===13){if(t=B0(r),t!==null){e.blockedOn=t,J0(e.priority,function(){Z0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);qh=n,r.target.dispatchEvent(n),qh=null}else return t=Tc(r),t!==null&&Sx(t),e.blockedOn=r,!1;t.shift()}return!0}function Rg(e,t,r){bd(e)&&r.delete(t)}function Ok(){Qh=!1,ca!==null&&bd(ca)&&(ca=null),da!==null&&bd(da)&&(da=null),ua!==null&&bd(ua)&&(ua=null),Uo.forEach(Rg),zo.forEach(Rg)}function no(e,t){e.blockedOn===t&&(e.blockedOn=null,Qh||(Qh=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,Ok)))}function Bo(e){function t(a){return no(a,e)}if(0<ed.length){no(ed[0],e);for(var r=1;r<ed.length;r++){var n=ed[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ca!==null&&no(ca,e),da!==null&&no(da,e),ua!==null&&no(ua,e),Uo.forEach(t),zo.forEach(t),r=0;r<Qn.length;r++)n=Qn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Qn.length&&(r=Qn[0],r.blockedOn===null);)ej(r),r.blockedOn===null&&Qn.shift()}var el=On.ReactCurrentBatchConfig,Kd=!0;function Ik(e,t,r,n){var a=pt,i=el.transition;el.transition=null;try{pt=1,kx(e,t,r,n)}finally{pt=a,el.transition=i}}function Lk(e,t,r,n){var a=pt,i=el.transition;el.transition=null;try{pt=4,kx(e,t,r,n)}finally{pt=a,el.transition=i}}function kx(e,t,r,n){if(Kd){var a=Gh(e,t,r,n);if(a===null)Km(e,t,n,Qd,r),Dg(e,n);else if(Fk(a,e,t,r,n))n.stopPropagation();else if(Dg(e,n),t&4&&-1<Mk.indexOf(e)){for(;a!==null;){var i=Tc(a);if(i!==null&&Y0(i),i=Gh(e,t,r,n),i===null&&Km(e,t,n,Qd,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Km(e,t,n,null,r)}}var Qd=null;function Gh(e,t,r,n){if(Qd=null,e=wx(n),e=$a(e),e!==null)if(t=bi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=B0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qd=e,null}function tj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kk()){case bx:return 1;case H0:return 4;case Wd:case Ck:return 16;case K0:return 536870912;default:return 16}default:return 16}}var ia=null,Cx=null,Nd=null;function sj(){if(Nd)return Nd;var e,t=Cx,r=t.length,n,a="value"in ia?ia.value:ia.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===a[i-n];n++);return Nd=a.slice(e,1<n?1-n:void 0)}function Sd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function td(){return!0}function Mg(){return!1}function nr(e){function t(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?td:Mg,this.isPropagationStopped=Mg,this}return Ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=td)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=td)},persist:function(){},isPersistent:td}),t}var zl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tx=nr(zl),Cc=Ot({},zl,{view:0,detail:0}),$k=nr(Cc),Lm,$m,ao,Iu=Ot({},Cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Px,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ao&&(ao&&e.type==="mousemove"?(Lm=e.screenX-ao.screenX,$m=e.screenY-ao.screenY):$m=Lm=0,ao=e),Lm)},movementY:function(e){return"movementY"in e?e.movementY:$m}}),Fg=nr(Iu),Uk=Ot({},Iu,{dataTransfer:0}),zk=nr(Uk),Bk=Ot({},Cc,{relatedTarget:0}),Um=nr(Bk),qk=Ot({},zl,{animationName:0,elapsedTime:0,pseudoElement:0}),Vk=nr(qk),Wk=Ot({},zl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hk=nr(Wk),Kk=Ot({},zl,{data:0}),Og=nr(Kk),Qk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yk[e])?!!t[e]:!1}function Px(){return Zk}var Xk=Ot({},Cc,{key:function(e){if(e.key){var t=Qk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Px,charCode:function(e){return e.type==="keypress"?Sd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jk=nr(Xk),eC=Ot({},Iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ig=nr(eC),tC=Ot({},Cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Px}),sC=nr(tC),rC=Ot({},zl,{propertyName:0,elapsedTime:0,pseudoElement:0}),nC=nr(rC),aC=Ot({},Iu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iC=nr(aC),lC=[9,13,27,32],Ex=Cn&&"CompositionEvent"in window,To=null;Cn&&"documentMode"in document&&(To=document.documentMode);var oC=Cn&&"TextEvent"in window&&!To,rj=Cn&&(!Ex||To&&8<To&&11>=To),Lg=" ",$g=!1;function nj(e,t){switch(e){case"keyup":return lC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ui=!1;function cC(e,t){switch(e){case"compositionend":return aj(t);case"keypress":return t.which!==32?null:($g=!0,Lg);case"textInput":return e=t.data,e===Lg&&$g?null:e;default:return null}}function dC(e,t){if(Ui)return e==="compositionend"||!Ex&&nj(e,t)?(e=sj(),Nd=Cx=ia=null,Ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rj&&t.locale!=="ko"?null:t.data;default:return null}}var uC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ug(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uC[e.type]:t==="textarea"}function ij(e,t,r,n){I0(n),t=Gd(t,"onChange"),0<t.length&&(r=new Tx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Po=null,qo=null;function mC(e){gj(e,0)}function Lu(e){var t=qi(e);if(A0(t))return e}function hC(e,t){if(e==="change")return t}var lj=!1;if(Cn){var zm;if(Cn){var Bm="oninput"in document;if(!Bm){var zg=document.createElement("div");zg.setAttribute("oninput","return;"),Bm=typeof zg.oninput=="function"}zm=Bm}else zm=!1;lj=zm&&(!document.documentMode||9<document.documentMode)}function Bg(){Po&&(Po.detachEvent("onpropertychange",oj),qo=Po=null)}function oj(e){if(e.propertyName==="value"&&Lu(qo)){var t=[];ij(t,qo,e,wx(e)),z0(mC,t)}}function fC(e,t,r){e==="focusin"?(Bg(),Po=t,qo=r,Po.attachEvent("onpropertychange",oj)):e==="focusout"&&Bg()}function xC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lu(qo)}function pC(e,t){if(e==="click")return Lu(t)}function gC(e,t){if(e==="input"||e==="change")return Lu(t)}function yC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mr=typeof Object.is=="function"?Object.is:yC;function Vo(e,t){if(Mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!_h.call(t,a)||!Mr(e[a],t[a]))return!1}return!0}function qg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vg(e,t){var r=qg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qg(r)}}function cj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dj(){for(var e=window,t=Bd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Bd(e.document)}return t}function Ax(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vC(e){var t=dj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&cj(r.ownerDocument.documentElement,r)){if(n!==null&&Ax(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Vg(r,i);var l=Vg(r,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jC=Cn&&"documentMode"in document&&11>=document.documentMode,zi=null,Yh=null,Eo=null,Zh=!1;function Wg(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zh||zi==null||zi!==Bd(n)||(n=zi,"selectionStart"in n&&Ax(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Eo&&Vo(Eo,n)||(Eo=n,n=Gd(Yh,"onSelect"),0<n.length&&(t=new Tx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=zi)))}function sd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Bi={animationend:sd("Animation","AnimationEnd"),animationiteration:sd("Animation","AnimationIteration"),animationstart:sd("Animation","AnimationStart"),transitionend:sd("Transition","TransitionEnd")},qm={},uj={};Cn&&(uj=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function $u(e){if(qm[e])return qm[e];if(!Bi[e])return e;var t=Bi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in uj)return qm[e]=t[r];return e}var mj=$u("animationend"),hj=$u("animationiteration"),fj=$u("animationstart"),xj=$u("transitionend"),pj=new Map,Hg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ea(e,t){pj.set(e,t),wi(t,[e])}for(var Vm=0;Vm<Hg.length;Vm++){var Wm=Hg[Vm],wC=Wm.toLowerCase(),bC=Wm[0].toUpperCase()+Wm.slice(1);Ea(wC,"on"+bC)}Ea(mj,"onAnimationEnd");Ea(hj,"onAnimationIteration");Ea(fj,"onAnimationStart");Ea("dblclick","onDoubleClick");Ea("focusin","onFocus");Ea("focusout","onBlur");Ea(xj,"onTransitionEnd");bl("onMouseEnter",["mouseout","mouseover"]);bl("onMouseLeave",["mouseout","mouseover"]);bl("onPointerEnter",["pointerout","pointerover"]);bl("onPointerLeave",["pointerout","pointerover"]);wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NC=new Set("cancel close invalid load scroll toggle".split(" ").concat(vo));function Kg(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,wk(n,t,void 0,e),e.currentTarget=null}function gj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Kg(a,o,d),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Kg(a,o,d),i=c}}}if(Vd)throw e=Hh,Vd=!1,Hh=null,e}function Ct(e,t){var r=t[sf];r===void 0&&(r=t[sf]=new Set);var n=e+"__bubble";r.has(n)||(yj(t,e,2,!1),r.add(n))}function Hm(e,t,r){var n=0;t&&(n|=4),yj(r,e,n,t)}var rd="_reactListening"+Math.random().toString(36).slice(2);function Wo(e){if(!e[rd]){e[rd]=!0,k0.forEach(function(r){r!=="selectionchange"&&(NC.has(r)||Hm(r,!1,e),Hm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rd]||(t[rd]=!0,Hm("selectionchange",!1,t))}}function yj(e,t,r,n){switch(tj(t)){case 1:var a=Ik;break;case 4:a=Lk;break;default:a=kx}r=a.bind(null,t,r,e),a=void 0,!Wh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Km(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=$a(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}z0(function(){var d=i,u=wx(r),h=[];e:{var x=pj.get(e);if(x!==void 0){var y=Tx,v=e;switch(e){case"keypress":if(Sd(r)===0)break e;case"keydown":case"keyup":y=Jk;break;case"focusin":v="focus",y=Um;break;case"focusout":v="blur",y=Um;break;case"beforeblur":case"afterblur":y=Um;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Fg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=zk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=sC;break;case mj:case hj:case fj:y=Vk;break;case xj:y=nC;break;case"scroll":y=$k;break;case"wheel":y=iC;break;case"copy":case"cut":case"paste":y=Hk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ig}var g=(t&4)!==0,w=!g&&e==="scroll",p=g?x!==null?x+"Capture":null:x;g=[];for(var f=d,j;f!==null;){j=f;var b=j.stateNode;if(j.tag===5&&b!==null&&(j=b,p!==null&&(b=$o(f,p),b!=null&&g.push(Ho(f,b,j)))),w)break;f=f.return}0<g.length&&(x=new y(x,v,null,r,u),h.push({event:x,listeners:g}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",x&&r!==qh&&(v=r.relatedTarget||r.fromElement)&&($a(v)||v[Tn]))break e;if((y||x)&&(x=u.window===u?u:(x=u.ownerDocument)?x.defaultView||x.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=d,v=v?$a(v):null,v!==null&&(w=bi(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=d),y!==v)){if(g=Fg,b="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(g=Ig,b="onPointerLeave",p="onPointerEnter",f="pointer"),w=y==null?x:qi(y),j=v==null?x:qi(v),x=new g(b,f+"leave",y,r,u),x.target=w,x.relatedTarget=j,b=null,$a(u)===d&&(g=new g(p,f+"enter",v,r,u),g.target=j,g.relatedTarget=w,b=g),w=b,y&&v)t:{for(g=y,p=v,f=0,j=g;j;j=Ti(j))f++;for(j=0,b=p;b;b=Ti(b))j++;for(;0<f-j;)g=Ti(g),f--;for(;0<j-f;)p=Ti(p),j--;for(;f--;){if(g===p||p!==null&&g===p.alternate)break t;g=Ti(g),p=Ti(p)}g=null}else g=null;y!==null&&Qg(h,x,y,g,!1),v!==null&&w!==null&&Qg(h,w,v,g,!0)}}e:{if(x=d?qi(d):window,y=x.nodeName&&x.nodeName.toLowerCase(),y==="select"||y==="input"&&x.type==="file")var k=hC;else if(Ug(x))if(lj)k=gC;else{k=xC;var S=fC}else(y=x.nodeName)&&y.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(k=pC);if(k&&(k=k(e,d))){ij(h,k,r,u);break e}S&&S(e,x,d),e==="focusout"&&(S=x._wrapperState)&&S.controlled&&x.type==="number"&&Lh(x,"number",x.value)}switch(S=d?qi(d):window,e){case"focusin":(Ug(S)||S.contentEditable==="true")&&(zi=S,Yh=d,Eo=null);break;case"focusout":Eo=Yh=zi=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Wg(h,r,u);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":Wg(h,r,u)}var C;if(Ex)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ui?nj(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(rj&&r.locale!=="ko"&&(Ui||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ui&&(C=sj()):(ia=u,Cx="value"in ia?ia.value:ia.textContent,Ui=!0)),S=Gd(d,P),0<S.length&&(P=new Og(P,e,null,r,u),h.push({event:P,listeners:S}),C?P.data=C:(C=aj(r),C!==null&&(P.data=C)))),(C=oC?cC(e,r):dC(e,r))&&(d=Gd(d,"onBeforeInput"),0<d.length&&(u=new Og("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=C))}gj(h,t)})}function Ho(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gd(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=$o(e,r),i!=null&&n.unshift(Ho(e,i,a)),i=$o(e,t),i!=null&&n.push(Ho(e,i,a))),e=e.return}return n}function Ti(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qg(e,t,r,n,a){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=$o(r,i),c!=null&&l.unshift(Ho(r,c,o))):a||(c=$o(r,i),c!=null&&l.push(Ho(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var SC=/\r\n?/g,kC=/\u0000|\uFFFD/g;function Gg(e){return(typeof e=="string"?e:""+e).replace(SC,`
`).replace(kC,"")}function nd(e,t,r){if(t=Gg(t),Gg(e)!==t&&r)throw Error(le(425))}function Yd(){}var Xh=null,Jh=null;function ef(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tf=typeof setTimeout=="function"?setTimeout:void 0,CC=typeof clearTimeout=="function"?clearTimeout:void 0,Yg=typeof Promise=="function"?Promise:void 0,TC=typeof queueMicrotask=="function"?queueMicrotask:typeof Yg<"u"?function(e){return Yg.resolve(null).then(e).catch(PC)}:tf;function PC(e){setTimeout(function(){throw e})}function Qm(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Bo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Bo(t)}function ma(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bl=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Bl,Ko="__reactProps$"+Bl,Tn="__reactContainer$"+Bl,sf="__reactEvents$"+Bl,EC="__reactListeners$"+Bl,AC="__reactHandles$"+Bl;function $a(e){var t=e[Gr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Tn]||r[Gr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Zg(e);e!==null;){if(r=e[Gr])return r;e=Zg(e)}return t}e=r,r=e.parentNode}return null}function Tc(e){return e=e[Gr]||e[Tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function Uu(e){return e[Ko]||null}var rf=[],Vi=-1;function Aa(e){return{current:e}}function Pt(e){0>Vi||(e.current=rf[Vi],rf[Vi]=null,Vi--)}function St(e,t){Vi++,rf[Vi]=e.current,e.current=t}var ja={},js=Aa(ja),$s=Aa(!1),ti=ja;function Nl(e,t){var r=e.type.contextTypes;if(!r)return ja;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Us(e){return e=e.childContextTypes,e!=null}function Zd(){Pt($s),Pt(js)}function Xg(e,t,r){if(js.current!==ja)throw Error(le(168));St(js,t),St($s,r)}function vj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(le(108,fk(e)||"Unknown",a));return Ot({},r,n)}function Xd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ja,ti=js.current,St(js,e),St($s,$s.current),!0}function Jg(e,t,r){var n=e.stateNode;if(!n)throw Error(le(169));r?(e=vj(e,t,ti),n.__reactInternalMemoizedMergedChildContext=e,Pt($s),Pt(js),St(js,e)):Pt($s),St($s,r)}var gn=null,zu=!1,Gm=!1;function jj(e){gn===null?gn=[e]:gn.push(e)}function _C(e){zu=!0,jj(e)}function _a(){if(!Gm&&gn!==null){Gm=!0;var e=0,t=pt;try{var r=gn;for(pt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}gn=null,zu=!1}catch(a){throw gn!==null&&(gn=gn.slice(e+1)),W0(bx,_a),a}finally{pt=t,Gm=!1}}return null}var Wi=[],Hi=0,Jd=null,eu=0,mr=[],hr=0,si=null,jn=1,wn="";function Oa(e,t){Wi[Hi++]=eu,Wi[Hi++]=Jd,Jd=e,eu=t}function wj(e,t,r){mr[hr++]=jn,mr[hr++]=wn,mr[hr++]=si,si=e;var n=jn;e=wn;var a=32-_r(n)-1;n&=~(1<<a),r+=1;var i=32-_r(t)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,jn=1<<32-_r(t)+a|r<<a|n,wn=i+e}else jn=1<<i|r<<a|n,wn=e}function _x(e){e.return!==null&&(Oa(e,1),wj(e,1,0))}function Dx(e){for(;e===Jd;)Jd=Wi[--Hi],Wi[Hi]=null,eu=Wi[--Hi],Wi[Hi]=null;for(;e===si;)si=mr[--hr],mr[hr]=null,wn=mr[--hr],mr[hr]=null,jn=mr[--hr],mr[hr]=null}var Zs=null,Ys=null,_t=!1,Cr=null;function bj(e,t){var r=fr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ey(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zs=e,Ys=ma(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zs=e,Ys=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=si!==null?{id:jn,overflow:wn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Zs=e,Ys=null,!0):!1;default:return!1}}function nf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function af(e){if(_t){var t=Ys;if(t){var r=t;if(!ey(e,t)){if(nf(e))throw Error(le(418));t=ma(r.nextSibling);var n=Zs;t&&ey(e,t)?bj(n,r):(e.flags=e.flags&-4097|2,_t=!1,Zs=e)}}else{if(nf(e))throw Error(le(418));e.flags=e.flags&-4097|2,_t=!1,Zs=e}}}function ty(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zs=e}function ad(e){if(e!==Zs)return!1;if(!_t)return ty(e),_t=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ef(e.type,e.memoizedProps)),t&&(t=Ys)){if(nf(e))throw Nj(),Error(le(418));for(;t;)bj(e,t),t=ma(t.nextSibling)}if(ty(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ys=ma(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ys=null}}else Ys=Zs?ma(e.stateNode.nextSibling):null;return!0}function Nj(){for(var e=Ys;e;)e=ma(e.nextSibling)}function Sl(){Ys=Zs=null,_t=!1}function Rx(e){Cr===null?Cr=[e]:Cr.push(e)}var DC=On.ReactCurrentBatchConfig;function io(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,e))}return e}function id(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sy(e){var t=e._init;return t(e._payload)}function Sj(e){function t(p,f){if(e){var j=p.deletions;j===null?(p.deletions=[f],p.flags|=16):j.push(f)}}function r(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function n(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function a(p,f){return p=pa(p,f),p.index=0,p.sibling=null,p}function i(p,f,j){return p.index=j,e?(j=p.alternate,j!==null?(j=j.index,j<f?(p.flags|=2,f):j):(p.flags|=2,f)):(p.flags|=1048576,f)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,f,j,b){return f===null||f.tag!==6?(f=sh(j,p.mode,b),f.return=p,f):(f=a(f,j),f.return=p,f)}function c(p,f,j,b){var k=j.type;return k===$i?u(p,f,j.props.children,b,j.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Hn&&sy(k)===f.type)?(b=a(f,j.props),b.ref=io(p,f,j),b.return=p,b):(b=_d(j.type,j.key,j.props,null,p.mode,b),b.ref=io(p,f,j),b.return=p,b)}function d(p,f,j,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==j.containerInfo||f.stateNode.implementation!==j.implementation?(f=rh(j,p.mode,b),f.return=p,f):(f=a(f,j.children||[]),f.return=p,f)}function u(p,f,j,b,k){return f===null||f.tag!==7?(f=Ja(j,p.mode,b,k),f.return=p,f):(f=a(f,j),f.return=p,f)}function h(p,f,j){if(typeof f=="string"&&f!==""||typeof f=="number")return f=sh(""+f,p.mode,j),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Gc:return j=_d(f.type,f.key,f.props,null,p.mode,j),j.ref=io(p,null,f),j.return=p,j;case Li:return f=rh(f,p.mode,j),f.return=p,f;case Hn:var b=f._init;return h(p,b(f._payload),j)}if(go(f)||to(f))return f=Ja(f,p.mode,j,null),f.return=p,f;id(p,f)}return null}function x(p,f,j,b){var k=f!==null?f.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return k!==null?null:o(p,f,""+j,b);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Gc:return j.key===k?c(p,f,j,b):null;case Li:return j.key===k?d(p,f,j,b):null;case Hn:return k=j._init,x(p,f,k(j._payload),b)}if(go(j)||to(j))return k!==null?null:u(p,f,j,b,null);id(p,j)}return null}function y(p,f,j,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(j)||null,o(f,p,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gc:return p=p.get(b.key===null?j:b.key)||null,c(f,p,b,k);case Li:return p=p.get(b.key===null?j:b.key)||null,d(f,p,b,k);case Hn:var S=b._init;return y(p,f,j,S(b._payload),k)}if(go(b)||to(b))return p=p.get(j)||null,u(f,p,b,k,null);id(f,b)}return null}function v(p,f,j,b){for(var k=null,S=null,C=f,P=f=0,N=null;C!==null&&P<j.length;P++){C.index>P?(N=C,C=null):N=C.sibling;var O=x(p,C,j[P],b);if(O===null){C===null&&(C=N);break}e&&C&&O.alternate===null&&t(p,C),f=i(O,f,P),S===null?k=O:S.sibling=O,S=O,C=N}if(P===j.length)return r(p,C),_t&&Oa(p,P),k;if(C===null){for(;P<j.length;P++)C=h(p,j[P],b),C!==null&&(f=i(C,f,P),S===null?k=C:S.sibling=C,S=C);return _t&&Oa(p,P),k}for(C=n(p,C);P<j.length;P++)N=y(C,p,P,j[P],b),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?P:N.key),f=i(N,f,P),S===null?k=N:S.sibling=N,S=N);return e&&C.forEach(function(D){return t(p,D)}),_t&&Oa(p,P),k}function g(p,f,j,b){var k=to(j);if(typeof k!="function")throw Error(le(150));if(j=k.call(j),j==null)throw Error(le(151));for(var S=k=null,C=f,P=f=0,N=null,O=j.next();C!==null&&!O.done;P++,O=j.next()){C.index>P?(N=C,C=null):N=C.sibling;var D=x(p,C,O.value,b);if(D===null){C===null&&(C=N);break}e&&C&&D.alternate===null&&t(p,C),f=i(D,f,P),S===null?k=D:S.sibling=D,S=D,C=N}if(O.done)return r(p,C),_t&&Oa(p,P),k;if(C===null){for(;!O.done;P++,O=j.next())O=h(p,O.value,b),O!==null&&(f=i(O,f,P),S===null?k=O:S.sibling=O,S=O);return _t&&Oa(p,P),k}for(C=n(p,C);!O.done;P++,O=j.next())O=y(C,p,P,O.value,b),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?P:O.key),f=i(O,f,P),S===null?k=O:S.sibling=O,S=O);return e&&C.forEach(function(M){return t(p,M)}),_t&&Oa(p,P),k}function w(p,f,j,b){if(typeof j=="object"&&j!==null&&j.type===$i&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Gc:e:{for(var k=j.key,S=f;S!==null;){if(S.key===k){if(k=j.type,k===$i){if(S.tag===7){r(p,S.sibling),f=a(S,j.props.children),f.return=p,p=f;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Hn&&sy(k)===S.type){r(p,S.sibling),f=a(S,j.props),f.ref=io(p,S,j),f.return=p,p=f;break e}r(p,S);break}else t(p,S);S=S.sibling}j.type===$i?(f=Ja(j.props.children,p.mode,b,j.key),f.return=p,p=f):(b=_d(j.type,j.key,j.props,null,p.mode,b),b.ref=io(p,f,j),b.return=p,p=b)}return l(p);case Li:e:{for(S=j.key;f!==null;){if(f.key===S)if(f.tag===4&&f.stateNode.containerInfo===j.containerInfo&&f.stateNode.implementation===j.implementation){r(p,f.sibling),f=a(f,j.children||[]),f.return=p,p=f;break e}else{r(p,f);break}else t(p,f);f=f.sibling}f=rh(j,p.mode,b),f.return=p,p=f}return l(p);case Hn:return S=j._init,w(p,f,S(j._payload),b)}if(go(j))return v(p,f,j,b);if(to(j))return g(p,f,j,b);id(p,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,f!==null&&f.tag===6?(r(p,f.sibling),f=a(f,j),f.return=p,p=f):(r(p,f),f=sh(j,p.mode,b),f.return=p,p=f),l(p)):r(p,f)}return w}var kl=Sj(!0),kj=Sj(!1),tu=Aa(null),su=null,Ki=null,Mx=null;function Fx(){Mx=Ki=su=null}function Ox(e){var t=tu.current;Pt(tu),e._currentValue=t}function lf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function tl(e,t){su=e,Mx=Ki=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Is=!0),e.firstContext=null)}function pr(e){var t=e._currentValue;if(Mx!==e)if(e={context:e,memoizedValue:t,next:null},Ki===null){if(su===null)throw Error(le(308));Ki=e,su.dependencies={lanes:0,firstContext:e}}else Ki=Ki.next=e;return t}var Ua=null;function Ix(e){Ua===null?Ua=[e]:Ua.push(e)}function Cj(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Ix(t)):(r.next=a.next,a.next=r),t.interleaved=r,Pn(e,n)}function Pn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Kn=!1;function Lx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ha(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,nt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Pn(e,r)}return a=n.interleaved,a===null?(t.next=t,Ix(n)):(t.next=a.next,a.next=t),n.interleaved=t,Pn(e,r)}function kd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nx(e,r)}}function ry(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ru(e,t,r,n){var a=e.updateQueue;Kn=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;l=0,u=d=c=null,o=i;do{var x=o.lane,y=o.eventTime;if((n&x)===x){u!==null&&(u=u.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,g=o;switch(x=t,y=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(y,h,x);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,x=typeof v=="function"?v.call(y,h,x):v,x==null)break e;h=Ot({},h,x);break e;case 2:Kn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[o]:x.push(o))}else y={eventTime:y,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=y,c=h):u=u.next=y,l|=x;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;x=o,o=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ni|=l,e.lanes=l,e.memoizedState=h}}function ny(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(le(191,a));a.call(n)}}}var Pc={},Jr=Aa(Pc),Qo=Aa(Pc),Go=Aa(Pc);function za(e){if(e===Pc)throw Error(le(174));return e}function $x(e,t){switch(St(Go,t),St(Qo,e),St(Jr,Pc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uh(t,e)}Pt(Jr),St(Jr,t)}function Cl(){Pt(Jr),Pt(Qo),Pt(Go)}function Pj(e){za(Go.current);var t=za(Jr.current),r=Uh(t,e.type);t!==r&&(St(Qo,e),St(Jr,r))}function Ux(e){Qo.current===e&&(Pt(Jr),Pt(Qo))}var Mt=Aa(0);function nu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ym=[];function zx(){for(var e=0;e<Ym.length;e++)Ym[e]._workInProgressVersionPrimary=null;Ym.length=0}var Cd=On.ReactCurrentDispatcher,Zm=On.ReactCurrentBatchConfig,ri=0,Ft=null,Gt=null,es=null,au=!1,Ao=!1,Yo=0,RC=0;function ms(){throw Error(le(321))}function Bx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Mr(e[r],t[r]))return!1;return!0}function qx(e,t,r,n,a,i){if(ri=i,Ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cd.current=e===null||e.memoizedState===null?IC:LC,e=r(n,a),Ao){i=0;do{if(Ao=!1,Yo=0,25<=i)throw Error(le(301));i+=1,es=Gt=null,t.updateQueue=null,Cd.current=$C,e=r(n,a)}while(Ao)}if(Cd.current=iu,t=Gt!==null&&Gt.next!==null,ri=0,es=Gt=Ft=null,au=!1,t)throw Error(le(300));return e}function Vx(){var e=Yo!==0;return Yo=0,e}function Vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return es===null?Ft.memoizedState=es=e:es=es.next=e,es}function gr(){if(Gt===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=Gt.next;var t=es===null?Ft.memoizedState:es.next;if(t!==null)es=t,Gt=e;else{if(e===null)throw Error(le(310));Gt=e,e={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},es===null?Ft.memoizedState=es=e:es=es.next=e}return es}function Zo(e,t){return typeof t=="function"?t(e):t}function Xm(e){var t=gr(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=Gt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((ri&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,l=n):c=c.next=h,Ft.lanes|=u,ni|=u}d=d.next}while(d!==null&&d!==i);c===null?l=n:c.next=o,Mr(n,t.memoizedState)||(Is=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ft.lanes|=i,ni|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Jm(e){var t=gr(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);Mr(i,t.memoizedState)||(Is=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Ej(){}function Aj(e,t){var r=Ft,n=gr(),a=t(),i=!Mr(n.memoizedState,a);if(i&&(n.memoizedState=a,Is=!0),n=n.queue,Wx(Rj.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||es!==null&&es.memoizedState.tag&1){if(r.flags|=2048,Xo(9,Dj.bind(null,r,n,a,t),void 0,null),ts===null)throw Error(le(349));ri&30||_j(r,t,a)}return a}function _j(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Dj(e,t,r,n){t.value=r,t.getSnapshot=n,Mj(t)&&Fj(e)}function Rj(e,t,r){return r(function(){Mj(t)&&Fj(e)})}function Mj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Mr(e,r)}catch{return!0}}function Fj(e){var t=Pn(e,1);t!==null&&Dr(t,e,1,-1)}function ay(e){var t=Vr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e},t.queue=e,e=e.dispatch=OC.bind(null,Ft,e),[t.memoizedState,e]}function Xo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ft.updateQueue,t===null?(t={lastEffect:null,stores:null},Ft.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Oj(){return gr().memoizedState}function Td(e,t,r,n){var a=Vr();Ft.flags|=e,a.memoizedState=Xo(1|t,r,void 0,n===void 0?null:n)}function Bu(e,t,r,n){var a=gr();n=n===void 0?null:n;var i=void 0;if(Gt!==null){var l=Gt.memoizedState;if(i=l.destroy,n!==null&&Bx(n,l.deps)){a.memoizedState=Xo(t,r,i,n);return}}Ft.flags|=e,a.memoizedState=Xo(1|t,r,i,n)}function iy(e,t){return Td(8390656,8,e,t)}function Wx(e,t){return Bu(2048,8,e,t)}function Ij(e,t){return Bu(4,2,e,t)}function Lj(e,t){return Bu(4,4,e,t)}function $j(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uj(e,t,r){return r=r!=null?r.concat([e]):null,Bu(4,4,$j.bind(null,t,e),r)}function Hx(){}function zj(e,t){var r=gr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Bj(e,t){var r=gr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function qj(e,t,r){return ri&21?(Mr(r,t)||(r=Q0(),Ft.lanes|=r,ni|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Is=!0),e.memoizedState=r)}function MC(e,t){var r=pt;pt=r!==0&&4>r?r:4,e(!0);var n=Zm.transition;Zm.transition={};try{e(!1),t()}finally{pt=r,Zm.transition=n}}function Vj(){return gr().memoizedState}function FC(e,t,r){var n=xa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Wj(e))Hj(t,r);else if(r=Cj(e,t,r,n),r!==null){var a=Es();Dr(r,e,n,a),Kj(r,t,n)}}function OC(e,t,r){var n=xa(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wj(e))Hj(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,Mr(o,l)){var c=t.interleaved;c===null?(a.next=a,Ix(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Cj(e,t,a,n),r!==null&&(a=Es(),Dr(r,e,n,a),Kj(r,t,n))}}function Wj(e){var t=e.alternate;return e===Ft||t!==null&&t===Ft}function Hj(e,t){Ao=au=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Kj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nx(e,r)}}var iu={readContext:pr,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},IC={readContext:pr,useCallback:function(e,t){return Vr().memoizedState=[e,t===void 0?null:t],e},useContext:pr,useEffect:iy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Td(4194308,4,$j.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Td(4194308,4,e,t)},useInsertionEffect:function(e,t){return Td(4,2,e,t)},useMemo:function(e,t){var r=Vr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Vr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=FC.bind(null,Ft,e),[n.memoizedState,e]},useRef:function(e){var t=Vr();return e={current:e},t.memoizedState=e},useState:ay,useDebugValue:Hx,useDeferredValue:function(e){return Vr().memoizedState=e},useTransition:function(){var e=ay(!1),t=e[0];return e=MC.bind(null,e[1]),Vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ft,a=Vr();if(_t){if(r===void 0)throw Error(le(407));r=r()}else{if(r=t(),ts===null)throw Error(le(349));ri&30||_j(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,iy(Rj.bind(null,n,i,e),[e]),n.flags|=2048,Xo(9,Dj.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Vr(),t=ts.identifierPrefix;if(_t){var r=wn,n=jn;r=(n&~(1<<32-_r(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Yo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=RC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},LC={readContext:pr,useCallback:zj,useContext:pr,useEffect:Wx,useImperativeHandle:Uj,useInsertionEffect:Ij,useLayoutEffect:Lj,useMemo:Bj,useReducer:Xm,useRef:Oj,useState:function(){return Xm(Zo)},useDebugValue:Hx,useDeferredValue:function(e){var t=gr();return qj(t,Gt.memoizedState,e)},useTransition:function(){var e=Xm(Zo)[0],t=gr().memoizedState;return[e,t]},useMutableSource:Ej,useSyncExternalStore:Aj,useId:Vj,unstable_isNewReconciler:!1},$C={readContext:pr,useCallback:zj,useContext:pr,useEffect:Wx,useImperativeHandle:Uj,useInsertionEffect:Ij,useLayoutEffect:Lj,useMemo:Bj,useReducer:Jm,useRef:Oj,useState:function(){return Jm(Zo)},useDebugValue:Hx,useDeferredValue:function(e){var t=gr();return Gt===null?t.memoizedState=e:qj(t,Gt.memoizedState,e)},useTransition:function(){var e=Jm(Zo)[0],t=gr().memoizedState;return[e,t]},useMutableSource:Ej,useSyncExternalStore:Aj,useId:Vj,unstable_isNewReconciler:!1};function Nr(e,t){if(e&&e.defaultProps){t=Ot({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function of(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ot({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var qu={isMounted:function(e){return(e=e._reactInternals)?bi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Es(),a=xa(e),i=Nn(n,a);i.payload=t,r!=null&&(i.callback=r),t=ha(e,i,a),t!==null&&(Dr(t,e,a,n),kd(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Es(),a=xa(e),i=Nn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ha(e,i,a),t!==null&&(Dr(t,e,a,n),kd(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Es(),n=xa(e),a=Nn(r,n);a.tag=2,t!=null&&(a.callback=t),t=ha(e,a,n),t!==null&&(Dr(t,e,n,r),kd(t,e,n))}};function ly(e,t,r,n,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!Vo(r,n)||!Vo(a,i):!0}function Qj(e,t,r){var n=!1,a=ja,i=t.contextType;return typeof i=="object"&&i!==null?i=pr(i):(a=Us(t)?ti:js.current,n=t.contextTypes,i=(n=n!=null)?Nl(e,a):ja),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function oy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&qu.enqueueReplaceState(t,t.state,null)}function cf(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Lx(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=pr(i):(i=Us(t)?ti:js.current,a.context=Nl(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(of(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&qu.enqueueReplaceState(a,a.state,null),ru(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Tl(e,t){try{var r="",n=t;do r+=hk(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function eh(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function df(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var UC=typeof WeakMap=="function"?WeakMap:Map;function Gj(e,t,r){r=Nn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ou||(ou=!0,jf=n),df(e,t)},r}function Yj(e,t,r){r=Nn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){df(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){df(e,t),typeof n!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function cy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new UC;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=eT.bind(null,e,t,r),t.then(e,e))}function dy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uy(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Nn(-1,1),t.tag=2,ha(r,t,1))),r.lanes|=1),e)}var zC=On.ReactCurrentOwner,Is=!1;function Cs(e,t,r,n){t.child=e===null?kj(t,null,r,n):kl(t,e.child,r,n)}function my(e,t,r,n,a){r=r.render;var i=t.ref;return tl(t,a),n=qx(e,t,r,n,i,a),r=Vx(),e!==null&&!Is?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,En(e,t,a)):(_t&&r&&_x(t),t.flags|=1,Cs(e,t,n,a),t.child)}function hy(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!ep(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Zj(e,t,i,n,a)):(e=_d(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:Vo,r(l,n)&&e.ref===t.ref)return En(e,t,a)}return t.flags|=1,e=pa(i,n),e.ref=t.ref,e.return=t,t.child=e}function Zj(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Vo(i,n)&&e.ref===t.ref)if(Is=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Is=!0);else return t.lanes=e.lanes,En(e,t,a)}return uf(e,t,r,n,a)}function Xj(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(Gi,Ks),Ks|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,St(Gi,Ks),Ks|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,St(Gi,Ks),Ks|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,St(Gi,Ks),Ks|=n;return Cs(e,t,a,r),t.child}function Jj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function uf(e,t,r,n,a){var i=Us(r)?ti:js.current;return i=Nl(t,i),tl(t,a),r=qx(e,t,r,n,i,a),n=Vx(),e!==null&&!Is?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,En(e,t,a)):(_t&&n&&_x(t),t.flags|=1,Cs(e,t,r,a),t.child)}function fy(e,t,r,n,a){if(Us(r)){var i=!0;Xd(t)}else i=!1;if(tl(t,a),t.stateNode===null)Pd(e,t),Qj(t,r,n),cf(t,r,n,a),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=pr(d):(d=Us(r)?ti:js.current,d=Nl(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&oy(t,l,n,d),Kn=!1;var x=t.memoizedState;l.state=x,ru(t,n,l,a),c=t.memoizedState,o!==n||x!==c||$s.current||Kn?(typeof u=="function"&&(of(t,r,u,n),c=t.memoizedState),(o=Kn||ly(t,r,o,n,x,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Tj(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Nr(t.type,o),l.props=d,h=t.pendingProps,x=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=pr(c):(c=Us(r)?ti:js.current,c=Nl(t,c));var y=r.getDerivedStateFromProps;(u=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||x!==c)&&oy(t,l,n,c),Kn=!1,x=t.memoizedState,l.state=x,ru(t,n,l,a);var v=t.memoizedState;o!==h||x!==v||$s.current||Kn?(typeof y=="function"&&(of(t,r,y,n),v=t.memoizedState),(d=Kn||ly(t,r,d,n,x,v,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,v,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,v,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),l.props=n,l.state=v,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return mf(e,t,r,n,i,a)}function mf(e,t,r,n,a,i){Jj(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&Jg(t,r,!1),En(e,t,i);n=t.stateNode,zC.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=kl(t,e.child,null,i),t.child=kl(t,null,o,i)):Cs(e,t,o,i),t.memoizedState=n.state,a&&Jg(t,r,!0),t.child}function ew(e){var t=e.stateNode;t.pendingContext?Xg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xg(e,t.context,!1),$x(e,t.containerInfo)}function xy(e,t,r,n,a){return Sl(),Rx(a),t.flags|=256,Cs(e,t,r,n),t.child}var hf={dehydrated:null,treeContext:null,retryLane:0};function ff(e){return{baseLanes:e,cachePool:null,transitions:null}}function tw(e,t,r){var n=t.pendingProps,a=Mt.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),St(Mt,a&1),e===null)return af(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Hu(l,n,0,null),e=Ja(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ff(r),t.memoizedState=hf,e):Kx(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return BC(e,t,l,n,o,a,r);if(i){i=n.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=pa(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=pa(o,i):(i=Ja(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?ff(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=hf,n}return i=e.child,e=i.sibling,n=pa(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Kx(e,t){return t=Hu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ld(e,t,r,n){return n!==null&&Rx(n),kl(t,e.child,null,r),e=Kx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function BC(e,t,r,n,a,i,l){if(r)return t.flags&256?(t.flags&=-257,n=eh(Error(le(422))),ld(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Hu({mode:"visible",children:n.children},a,0,null),i=Ja(i,a,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&kl(t,e.child,null,l),t.child.memoizedState=ff(l),t.memoizedState=hf,i);if(!(t.mode&1))return ld(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(le(419)),n=eh(i,n,void 0),ld(e,t,l,n)}if(o=(l&e.childLanes)!==0,Is||o){if(n=ts,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Pn(e,a),Dr(n,e,a,-1))}return Jx(),n=eh(Error(le(421))),ld(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=tT.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ys=ma(a.nextSibling),Zs=t,_t=!0,Cr=null,e!==null&&(mr[hr++]=jn,mr[hr++]=wn,mr[hr++]=si,jn=e.id,wn=e.overflow,si=t),t=Kx(t,n.children),t.flags|=4096,t)}function py(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),lf(e.return,t,r)}function th(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function sw(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Cs(e,t,n.children,r),n=Mt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&py(e,r,t);else if(e.tag===19)py(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(St(Mt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&nu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),th(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&nu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}th(t,!0,r,null,i);break;case"together":th(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function En(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ni|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,r=pa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=pa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function qC(e,t,r){switch(t.tag){case 3:ew(t),Sl();break;case 5:Pj(t);break;case 1:Us(t.type)&&Xd(t);break;case 4:$x(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;St(tu,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(St(Mt,Mt.current&1),t.flags|=128,null):r&t.child.childLanes?tw(e,t,r):(St(Mt,Mt.current&1),e=En(e,t,r),e!==null?e.sibling:null);St(Mt,Mt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return sw(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),St(Mt,Mt.current),n)break;return null;case 22:case 23:return t.lanes=0,Xj(e,t,r)}return En(e,t,r)}var rw,xf,nw,aw;rw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};xf=function(){};nw=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,za(Jr.current);var i=null;switch(r){case"input":a=Oh(e,a),n=Oh(e,n),i=[];break;case"select":a=Ot({},a,{value:void 0}),n=Ot({},n,{value:void 0}),i=[];break;case"textarea":a=$h(e,a),n=$h(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Yd)}zh(r,n);var l;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Io.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Io.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ct("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};aw=function(e,t,r,n){r!==n&&(t.flags|=4)};function lo(e,t){if(!_t)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function hs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function VC(e,t,r){var n=t.pendingProps;switch(Dx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hs(t),null;case 1:return Us(t.type)&&Zd(),hs(t),null;case 3:return n=t.stateNode,Cl(),Pt($s),Pt(js),zx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ad(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cr!==null&&(Nf(Cr),Cr=null))),xf(e,t),hs(t),null;case 5:Ux(t);var a=za(Go.current);if(r=t.type,e!==null&&t.stateNode!=null)nw(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(le(166));return hs(t),null}if(e=za(Jr.current),ad(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Gr]=t,n[Ko]=i,e=(t.mode&1)!==0,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<vo.length;a++)Ct(vo[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":kg(n,i),Ct("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ct("invalid",n);break;case"textarea":Tg(n,i),Ct("invalid",n)}zh(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&nd(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&nd(n.textContent,o,e),a=["children",""+o]):Io.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Ct("scroll",n)}switch(r){case"input":Yc(n),Cg(n,i,!0);break;case"textarea":Yc(n),Pg(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Yd)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=R0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Gr]=t,e[Ko]=n,rw(e,t,!1,!1),t.stateNode=e;e:{switch(l=Bh(r,n),r){case"dialog":Ct("cancel",e),Ct("close",e),a=n;break;case"iframe":case"object":case"embed":Ct("load",e),a=n;break;case"video":case"audio":for(a=0;a<vo.length;a++)Ct(vo[a],e);a=n;break;case"source":Ct("error",e),a=n;break;case"img":case"image":case"link":Ct("error",e),Ct("load",e),a=n;break;case"details":Ct("toggle",e),a=n;break;case"input":kg(e,n),a=Oh(e,n),Ct("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ot({},n,{value:void 0}),Ct("invalid",e);break;case"textarea":Tg(e,n),a=$h(e,n),Ct("invalid",e);break;default:a=n}zh(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?O0(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&M0(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Lo(e,c):typeof c=="number"&&Lo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Io.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ct("scroll",e):c!=null&&gx(e,i,c,l))}switch(r){case"input":Yc(e),Cg(e,n,!1);break;case"textarea":Yc(e),Pg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+va(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Zi(e,!!n.multiple,i,!1):n.defaultValue!=null&&Zi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Yd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return hs(t),null;case 6:if(e&&t.stateNode!=null)aw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(le(166));if(r=za(Go.current),za(Jr.current),ad(t)){if(n=t.stateNode,r=t.memoizedProps,n[Gr]=t,(i=n.nodeValue!==r)&&(e=Zs,e!==null))switch(e.tag){case 3:nd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nd(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Gr]=t,t.stateNode=n}return hs(t),null;case 13:if(Pt(Mt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_t&&Ys!==null&&t.mode&1&&!(t.flags&128))Nj(),Sl(),t.flags|=98560,i=!1;else if(i=ad(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(le(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(le(317));i[Gr]=t}else Sl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;hs(t),i=!1}else Cr!==null&&(Nf(Cr),Cr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Mt.current&1?Xt===0&&(Xt=3):Jx())),t.updateQueue!==null&&(t.flags|=4),hs(t),null);case 4:return Cl(),xf(e,t),e===null&&Wo(t.stateNode.containerInfo),hs(t),null;case 10:return Ox(t.type._context),hs(t),null;case 17:return Us(t.type)&&Zd(),hs(t),null;case 19:if(Pt(Mt),i=t.memoizedState,i===null)return hs(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)lo(i,!1);else{if(Xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=nu(e),l!==null){for(t.flags|=128,lo(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return St(Mt,Mt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Bt()>Pl&&(t.flags|=128,n=!0,lo(i,!1),t.lanes=4194304)}else{if(!n)if(e=nu(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),lo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!_t)return hs(t),null}else 2*Bt()-i.renderingStartTime>Pl&&r!==1073741824&&(t.flags|=128,n=!0,lo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Bt(),t.sibling=null,r=Mt.current,St(Mt,n?r&1|2:r&1),t):(hs(t),null);case 22:case 23:return Xx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ks&1073741824&&(hs(t),t.subtreeFlags&6&&(t.flags|=8192)):hs(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function WC(e,t){switch(Dx(t),t.tag){case 1:return Us(t.type)&&Zd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cl(),Pt($s),Pt(js),zx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ux(t),null;case 13:if(Pt(Mt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));Sl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pt(Mt),null;case 4:return Cl(),null;case 10:return Ox(t.type._context),null;case 22:case 23:return Xx(),null;case 24:return null;default:return null}}var od=!1,ps=!1,HC=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Qi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ut(e,t,n)}else r.current=null}function pf(e,t,r){try{r()}catch(n){Ut(e,t,n)}}var gy=!1;function KC(e,t){if(Xh=Kd,e=dj(),Ax(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=e,x=null;t:for(;;){for(var y;h!==r||a!==0&&h.nodeType!==3||(o=l+a),h!==i||n!==0&&h.nodeType!==3||(c=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(y=h.firstChild)!==null;)x=h,h=y;for(;;){if(h===e)break t;if(x===r&&++d===a&&(o=l),x===i&&++u===n&&(c=l),(y=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=y}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jh={focusedElem:e,selectionRange:r},Kd=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,w=v.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:Nr(t.type,g),w);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(b){Ut(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return v=gy,gy=!1,v}function _o(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&pf(t,r,i)}a=a.next}while(a!==n)}}function Vu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function gf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function iw(e){var t=e.alternate;t!==null&&(e.alternate=null,iw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gr],delete t[Ko],delete t[sf],delete t[EC],delete t[AC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lw(e){return e.tag===5||e.tag===3||e.tag===4}function yy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Yd));else if(n!==4&&(e=e.child,e!==null))for(yf(e,t,r),e=e.sibling;e!==null;)yf(e,t,r),e=e.sibling}function vf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vf(e,t,r),e=e.sibling;e!==null;)vf(e,t,r),e=e.sibling}var rs=null,kr=!1;function Un(e,t,r){for(r=r.child;r!==null;)ow(e,t,r),r=r.sibling}function ow(e,t,r){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(Ou,r)}catch{}switch(r.tag){case 5:ps||Qi(r,t);case 6:var n=rs,a=kr;rs=null,Un(e,t,r),rs=n,kr=a,rs!==null&&(kr?(e=rs,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):rs.removeChild(r.stateNode));break;case 18:rs!==null&&(kr?(e=rs,r=r.stateNode,e.nodeType===8?Qm(e.parentNode,r):e.nodeType===1&&Qm(e,r),Bo(e)):Qm(rs,r.stateNode));break;case 4:n=rs,a=kr,rs=r.stateNode.containerInfo,kr=!0,Un(e,t,r),rs=n,kr=a;break;case 0:case 11:case 14:case 15:if(!ps&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&pf(r,t,l),a=a.next}while(a!==n)}Un(e,t,r);break;case 1:if(!ps&&(Qi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ut(r,t,o)}Un(e,t,r);break;case 21:Un(e,t,r);break;case 22:r.mode&1?(ps=(n=ps)||r.memoizedState!==null,Un(e,t,r),ps=n):Un(e,t,r);break;default:Un(e,t,r)}}function vy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new HC),t.forEach(function(n){var a=sT.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function wr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:rs=o.stateNode,kr=!1;break e;case 3:rs=o.stateNode.containerInfo,kr=!0;break e;case 4:rs=o.stateNode.containerInfo,kr=!0;break e}o=o.return}if(rs===null)throw Error(le(160));ow(i,l,a),rs=null,kr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Ut(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cw(t,e),t=t.sibling}function cw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wr(t,e),Br(e),n&4){try{_o(3,e,e.return),Vu(3,e)}catch(g){Ut(e,e.return,g)}try{_o(5,e,e.return)}catch(g){Ut(e,e.return,g)}}break;case 1:wr(t,e),Br(e),n&512&&r!==null&&Qi(r,r.return);break;case 5:if(wr(t,e),Br(e),n&512&&r!==null&&Qi(r,r.return),e.flags&32){var a=e.stateNode;try{Lo(a,"")}catch(g){Ut(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&_0(a,i),Bh(o,l);var d=Bh(o,i);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];u==="style"?O0(a,h):u==="dangerouslySetInnerHTML"?M0(a,h):u==="children"?Lo(a,h):gx(a,u,h,d)}switch(o){case"input":Ih(a,i);break;case"textarea":D0(a,i);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Zi(a,!!i.multiple,y,!1):x!==!!i.multiple&&(i.defaultValue!=null?Zi(a,!!i.multiple,i.defaultValue,!0):Zi(a,!!i.multiple,i.multiple?[]:"",!1))}a[Ko]=i}catch(g){Ut(e,e.return,g)}}break;case 6:if(wr(t,e),Br(e),n&4){if(e.stateNode===null)throw Error(le(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Ut(e,e.return,g)}}break;case 3:if(wr(t,e),Br(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Bo(t.containerInfo)}catch(g){Ut(e,e.return,g)}break;case 4:wr(t,e),Br(e);break;case 13:wr(t,e),Br(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Yx=Bt())),n&4&&vy(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ps=(d=ps)||u,wr(t,e),ps=d):wr(t,e),Br(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Ae=e,u=e.child;u!==null;){for(h=Ae=u;Ae!==null;){switch(x=Ae,y=x.child,x.tag){case 0:case 11:case 14:case 15:_o(4,x,x.return);break;case 1:Qi(x,x.return);var v=x.stateNode;if(typeof v.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ut(n,r,g)}}break;case 5:Qi(x,x.return);break;case 22:if(x.memoizedState!==null){wy(h);continue}}y!==null?(y.return=x,Ae=y):wy(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=F0("display",l))}catch(g){Ut(e,e.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Ut(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wr(t,e),Br(e),n&4&&vy(e);break;case 21:break;default:wr(t,e),Br(e)}}function Br(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(lw(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Lo(a,""),n.flags&=-33);var i=yy(e);vf(e,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=yy(e);yf(e,o,l);break;default:throw Error(le(161))}}catch(c){Ut(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function QC(e,t,r){Ae=e,dw(e)}function dw(e,t,r){for(var n=(e.mode&1)!==0;Ae!==null;){var a=Ae,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||od;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||ps;o=od;var d=ps;if(od=l,(ps=c)&&!d)for(Ae=a;Ae!==null;)l=Ae,c=l.child,l.tag===22&&l.memoizedState!==null?by(a):c!==null?(c.return=l,Ae=c):by(a);for(;i!==null;)Ae=i,dw(i),i=i.sibling;Ae=a,od=o,ps=d}jy(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ae=i):jy(e)}}function jy(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ps||Vu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ps)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Nr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ny(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ny(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Bo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}ps||t.flags&512&&gf(t)}catch(x){Ut(t,t.return,x)}}if(t===e){Ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function wy(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function by(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Vu(4,t)}catch(c){Ut(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Ut(t,a,c)}}var i=t.return;try{gf(t)}catch(c){Ut(t,i,c)}break;case 5:var l=t.return;try{gf(t)}catch(c){Ut(t,l,c)}}}catch(c){Ut(t,t.return,c)}if(t===e){Ae=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ae=o;break}Ae=t.return}}var GC=Math.ceil,lu=On.ReactCurrentDispatcher,Qx=On.ReactCurrentOwner,xr=On.ReactCurrentBatchConfig,nt=0,ts=null,Ht=null,ls=0,Ks=0,Gi=Aa(0),Xt=0,Jo=null,ni=0,Wu=0,Gx=0,Do=null,Os=null,Yx=0,Pl=1/0,pn=null,ou=!1,jf=null,fa=null,cd=!1,la=null,cu=0,Ro=0,wf=null,Ed=-1,Ad=0;function Es(){return nt&6?Bt():Ed!==-1?Ed:Ed=Bt()}function xa(e){return e.mode&1?nt&2&&ls!==0?ls&-ls:DC.transition!==null?(Ad===0&&(Ad=Q0()),Ad):(e=pt,e!==0||(e=window.event,e=e===void 0?16:tj(e.type)),e):1}function Dr(e,t,r,n){if(50<Ro)throw Ro=0,wf=null,Error(le(185));kc(e,r,n),(!(nt&2)||e!==ts)&&(e===ts&&(!(nt&2)&&(Wu|=r),Xt===4&&Gn(e,ls)),zs(e,n),r===1&&nt===0&&!(t.mode&1)&&(Pl=Bt()+500,zu&&_a()))}function zs(e,t){var r=e.callbackNode;Dk(e,t);var n=Hd(e,e===ts?ls:0);if(n===0)r!==null&&_g(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&_g(r),t===1)e.tag===0?_C(Ny.bind(null,e)):jj(Ny.bind(null,e)),TC(function(){!(nt&6)&&_a()}),r=null;else{switch(G0(n)){case 1:r=bx;break;case 4:r=H0;break;case 16:r=Wd;break;case 536870912:r=K0;break;default:r=Wd}r=yw(r,uw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function uw(e,t){if(Ed=-1,Ad=0,nt&6)throw Error(le(327));var r=e.callbackNode;if(sl()&&e.callbackNode!==r)return null;var n=Hd(e,e===ts?ls:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=du(e,n);else{t=n;var a=nt;nt|=2;var i=hw();(ts!==e||ls!==t)&&(pn=null,Pl=Bt()+500,Xa(e,t));do try{XC();break}catch(o){mw(e,o)}while(!0);Fx(),lu.current=i,nt=a,Ht!==null?t=0:(ts=null,ls=0,t=Xt)}if(t!==0){if(t===2&&(a=Kh(e),a!==0&&(n=a,t=bf(e,a))),t===1)throw r=Jo,Xa(e,0),Gn(e,n),zs(e,Bt()),r;if(t===6)Gn(e,n);else{if(a=e.current.alternate,!(n&30)&&!YC(a)&&(t=du(e,n),t===2&&(i=Kh(e),i!==0&&(n=i,t=bf(e,i))),t===1))throw r=Jo,Xa(e,0),Gn(e,n),zs(e,Bt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(le(345));case 2:Ia(e,Os,pn);break;case 3:if(Gn(e,n),(n&130023424)===n&&(t=Yx+500-Bt(),10<t)){if(Hd(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Es(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=tf(Ia.bind(null,e,Os,pn),t);break}Ia(e,Os,pn);break;case 4:if(Gn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-_r(n);i=1<<l,l=t[l],l>a&&(a=l),n&=~i}if(n=a,n=Bt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*GC(n/1960))-n,10<n){e.timeoutHandle=tf(Ia.bind(null,e,Os,pn),n);break}Ia(e,Os,pn);break;case 5:Ia(e,Os,pn);break;default:throw Error(le(329))}}}return zs(e,Bt()),e.callbackNode===r?uw.bind(null,e):null}function bf(e,t){var r=Do;return e.current.memoizedState.isDehydrated&&(Xa(e,t).flags|=256),e=du(e,t),e!==2&&(t=Os,Os=r,t!==null&&Nf(t)),e}function Nf(e){Os===null?Os=e:Os.push.apply(Os,e)}function YC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Mr(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gn(e,t){for(t&=~Gx,t&=~Wu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_r(t),n=1<<r;e[r]=-1,t&=~n}}function Ny(e){if(nt&6)throw Error(le(327));sl();var t=Hd(e,0);if(!(t&1))return zs(e,Bt()),null;var r=du(e,t);if(e.tag!==0&&r===2){var n=Kh(e);n!==0&&(t=n,r=bf(e,n))}if(r===1)throw r=Jo,Xa(e,0),Gn(e,t),zs(e,Bt()),r;if(r===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ia(e,Os,pn),zs(e,Bt()),null}function Zx(e,t){var r=nt;nt|=1;try{return e(t)}finally{nt=r,nt===0&&(Pl=Bt()+500,zu&&_a())}}function ai(e){la!==null&&la.tag===0&&!(nt&6)&&sl();var t=nt;nt|=1;var r=xr.transition,n=pt;try{if(xr.transition=null,pt=1,e)return e()}finally{pt=n,xr.transition=r,nt=t,!(nt&6)&&_a()}}function Xx(){Ks=Gi.current,Pt(Gi)}function Xa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,CC(r)),Ht!==null)for(r=Ht.return;r!==null;){var n=r;switch(Dx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Zd();break;case 3:Cl(),Pt($s),Pt(js),zx();break;case 5:Ux(n);break;case 4:Cl();break;case 13:Pt(Mt);break;case 19:Pt(Mt);break;case 10:Ox(n.type._context);break;case 22:case 23:Xx()}r=r.return}if(ts=e,Ht=e=pa(e.current,null),ls=Ks=t,Xt=0,Jo=null,Gx=Wu=ni=0,Os=Do=null,Ua!==null){for(t=0;t<Ua.length;t++)if(r=Ua[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}Ua=null}return e}function mw(e,t){do{var r=Ht;try{if(Fx(),Cd.current=iu,au){for(var n=Ft.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}au=!1}if(ri=0,es=Gt=Ft=null,Ao=!1,Yo=0,Qx.current=null,r===null||r.return===null){Xt=1,Jo=t,Ht=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=ls,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var x=u.alternate;x?(u.updateQueue=x.updateQueue,u.memoizedState=x.memoizedState,u.lanes=x.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=dy(l);if(y!==null){y.flags&=-257,uy(y,l,o,i,t),y.mode&1&&cy(i,d,t),t=y,c=d;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){cy(i,d,t),Jx();break e}c=Error(le(426))}}else if(_t&&o.mode&1){var w=dy(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),uy(w,l,o,i,t),Rx(Tl(c,o));break e}}i=c=Tl(c,o),Xt!==4&&(Xt=2),Do===null?Do=[i]:Do.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Gj(i,c,t);ry(i,p);break e;case 1:o=c;var f=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(fa===null||!fa.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Yj(i,o,t);ry(i,b);break e}}i=i.return}while(i!==null)}xw(r)}catch(k){t=k,Ht===r&&r!==null&&(Ht=r=r.return);continue}break}while(!0)}function hw(){var e=lu.current;return lu.current=iu,e===null?iu:e}function Jx(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),ts===null||!(ni&268435455)&&!(Wu&268435455)||Gn(ts,ls)}function du(e,t){var r=nt;nt|=2;var n=hw();(ts!==e||ls!==t)&&(pn=null,Xa(e,t));do try{ZC();break}catch(a){mw(e,a)}while(!0);if(Fx(),nt=r,lu.current=n,Ht!==null)throw Error(le(261));return ts=null,ls=0,Xt}function ZC(){for(;Ht!==null;)fw(Ht)}function XC(){for(;Ht!==null&&!Nk();)fw(Ht)}function fw(e){var t=gw(e.alternate,e,Ks);e.memoizedProps=e.pendingProps,t===null?xw(e):Ht=t,Qx.current=null}function xw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=WC(r,t),r!==null){r.flags&=32767,Ht=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xt=6,Ht=null;return}}else if(r=VC(r,t,Ks),r!==null){Ht=r;return}if(t=t.sibling,t!==null){Ht=t;return}Ht=t=e}while(t!==null);Xt===0&&(Xt=5)}function Ia(e,t,r){var n=pt,a=xr.transition;try{xr.transition=null,pt=1,JC(e,t,r,n)}finally{xr.transition=a,pt=n}return null}function JC(e,t,r,n){do sl();while(la!==null);if(nt&6)throw Error(le(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Rk(e,i),e===ts&&(Ht=ts=null,ls=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||cd||(cd=!0,yw(Wd,function(){return sl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=xr.transition,xr.transition=null;var l=pt;pt=1;var o=nt;nt|=4,Qx.current=null,KC(e,r),cw(r,e),vC(Jh),Kd=!!Xh,Jh=Xh=null,e.current=r,QC(r),Sk(),nt=o,pt=l,xr.transition=i}else e.current=r;if(cd&&(cd=!1,la=e,cu=a),i=e.pendingLanes,i===0&&(fa=null),Tk(r.stateNode),zs(e,Bt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ou)throw ou=!1,e=jf,jf=null,e;return cu&1&&e.tag!==0&&sl(),i=e.pendingLanes,i&1?e===wf?Ro++:(Ro=0,wf=e):Ro=0,_a(),null}function sl(){if(la!==null){var e=G0(cu),t=xr.transition,r=pt;try{if(xr.transition=null,pt=16>e?16:e,la===null)var n=!1;else{if(e=la,la=null,cu=0,nt&6)throw Error(le(331));var a=nt;for(nt|=4,Ae=e.current;Ae!==null;){var i=Ae,l=i.child;if(Ae.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(Ae=d;Ae!==null;){var u=Ae;switch(u.tag){case 0:case 11:case 15:_o(8,u,i)}var h=u.child;if(h!==null)h.return=u,Ae=h;else for(;Ae!==null;){u=Ae;var x=u.sibling,y=u.return;if(iw(u),u===d){Ae=null;break}if(x!==null){x.return=y,Ae=x;break}Ae=y}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Ae=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,Ae=l;else e:for(;Ae!==null;){if(i=Ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_o(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,Ae=p;break e}Ae=i.return}}var f=e.current;for(Ae=f;Ae!==null;){l=Ae;var j=l.child;if(l.subtreeFlags&2064&&j!==null)j.return=l,Ae=j;else e:for(l=f;Ae!==null;){if(o=Ae,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Vu(9,o)}}catch(k){Ut(o,o.return,k)}if(o===l){Ae=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,Ae=b;break e}Ae=o.return}}if(nt=a,_a(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(Ou,e)}catch{}n=!0}return n}finally{pt=r,xr.transition=t}}return!1}function Sy(e,t,r){t=Tl(r,t),t=Gj(e,t,1),e=ha(e,t,1),t=Es(),e!==null&&(kc(e,1,t),zs(e,t))}function Ut(e,t,r){if(e.tag===3)Sy(e,e,r);else for(;t!==null;){if(t.tag===3){Sy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fa===null||!fa.has(n))){e=Tl(r,e),e=Yj(t,e,1),t=ha(t,e,1),e=Es(),t!==null&&(kc(t,1,e),zs(t,e));break}}t=t.return}}function eT(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Es(),e.pingedLanes|=e.suspendedLanes&r,ts===e&&(ls&r)===r&&(Xt===4||Xt===3&&(ls&130023424)===ls&&500>Bt()-Yx?Xa(e,0):Gx|=r),zs(e,t)}function pw(e,t){t===0&&(e.mode&1?(t=Jc,Jc<<=1,!(Jc&130023424)&&(Jc=4194304)):t=1);var r=Es();e=Pn(e,t),e!==null&&(kc(e,t,r),zs(e,r))}function tT(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),pw(e,r)}function sT(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(t),pw(e,r)}var gw;gw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$s.current)Is=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Is=!1,qC(e,t,r);Is=!!(e.flags&131072)}else Is=!1,_t&&t.flags&1048576&&wj(t,eu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Pd(e,t),e=t.pendingProps;var a=Nl(t,js.current);tl(t,r),a=qx(null,t,n,e,a,r);var i=Vx();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Us(n)?(i=!0,Xd(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Lx(t),a.updater=qu,t.stateNode=a,a._reactInternals=t,cf(t,n,e,r),t=mf(null,t,n,!0,i,r)):(t.tag=0,_t&&i&&_x(t),Cs(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Pd(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=nT(n),e=Nr(n,e),a){case 0:t=uf(null,t,n,e,r);break e;case 1:t=fy(null,t,n,e,r);break e;case 11:t=my(null,t,n,e,r);break e;case 14:t=hy(null,t,n,Nr(n.type,e),r);break e}throw Error(le(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Nr(n,a),uf(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Nr(n,a),fy(e,t,n,a,r);case 3:e:{if(ew(t),e===null)throw Error(le(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Tj(e,t),ru(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Tl(Error(le(423)),t),t=xy(e,t,n,r,a);break e}else if(n!==a){a=Tl(Error(le(424)),t),t=xy(e,t,n,r,a);break e}else for(Ys=ma(t.stateNode.containerInfo.firstChild),Zs=t,_t=!0,Cr=null,r=kj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Sl(),n===a){t=En(e,t,r);break e}Cs(e,t,n,r)}t=t.child}return t;case 5:return Pj(t),e===null&&af(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,ef(n,a)?l=null:i!==null&&ef(n,i)&&(t.flags|=32),Jj(e,t),Cs(e,t,l,r),t.child;case 6:return e===null&&af(t),null;case 13:return tw(e,t,r);case 4:return $x(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=kl(t,null,n,r):Cs(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Nr(n,a),my(e,t,n,a,r);case 7:return Cs(e,t,t.pendingProps,r),t.child;case 8:return Cs(e,t,t.pendingProps.children,r),t.child;case 12:return Cs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,St(tu,n._currentValue),n._currentValue=l,i!==null)if(Mr(i.value,l)){if(i.children===a.children&&!$s.current){t=En(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Nn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),lf(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(le(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),lf(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Cs(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,tl(t,r),a=pr(a),n=n(a),t.flags|=1,Cs(e,t,n,r),t.child;case 14:return n=t.type,a=Nr(n,t.pendingProps),a=Nr(n.type,a),hy(e,t,n,a,r);case 15:return Zj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Nr(n,a),Pd(e,t),t.tag=1,Us(n)?(e=!0,Xd(t)):e=!1,tl(t,r),Qj(t,n,a),cf(t,n,a,r),mf(null,t,n,!0,e,r);case 19:return sw(e,t,r);case 22:return Xj(e,t,r)}throw Error(le(156,t.tag))};function yw(e,t){return W0(e,t)}function rT(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(e,t,r,n){return new rT(e,t,r,n)}function ep(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nT(e){if(typeof e=="function")return ep(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vx)return 11;if(e===jx)return 14}return 2}function pa(e,t){var r=e.alternate;return r===null?(r=fr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _d(e,t,r,n,a,i){var l=2;if(n=e,typeof e=="function")ep(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case $i:return Ja(r.children,a,i,t);case yx:l=8,a|=8;break;case Dh:return e=fr(12,r,t,a|2),e.elementType=Dh,e.lanes=i,e;case Rh:return e=fr(13,r,t,a),e.elementType=Rh,e.lanes=i,e;case Mh:return e=fr(19,r,t,a),e.elementType=Mh,e.lanes=i,e;case P0:return Hu(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C0:l=10;break e;case T0:l=9;break e;case vx:l=11;break e;case jx:l=14;break e;case Hn:l=16,n=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=fr(l,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Ja(e,t,r,n){return e=fr(7,e,n,t),e.lanes=r,e}function Hu(e,t,r,n){return e=fr(22,e,n,t),e.elementType=P0,e.lanes=r,e.stateNode={isHidden:!1},e}function sh(e,t,r){return e=fr(6,e,null,t),e.lanes=r,e}function rh(e,t,r){return t=fr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function aT(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Im(0),this.expirationTimes=Im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Im(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function tp(e,t,r,n,a,i,l,o,c){return e=new aT(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=fr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lx(i),e}function iT(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Li,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function vw(e){if(!e)return ja;e=e._reactInternals;e:{if(bi(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Us(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var r=e.type;if(Us(r))return vj(e,r,t)}return t}function jw(e,t,r,n,a,i,l,o,c){return e=tp(r,n,!0,e,a,i,l,o,c),e.context=vw(null),r=e.current,n=Es(),a=xa(r),i=Nn(n,a),i.callback=t??null,ha(r,i,a),e.current.lanes=a,kc(e,a,n),zs(e,n),e}function Ku(e,t,r,n){var a=t.current,i=Es(),l=xa(a);return r=vw(r),t.context===null?t.context=r:t.pendingContext=r,t=Nn(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ha(a,t,l),e!==null&&(Dr(e,a,l,i),kd(e,a,l)),l}function uu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ky(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sp(e,t){ky(e,t),(e=e.alternate)&&ky(e,t)}function lT(){return null}var ww=typeof reportError=="function"?reportError:function(e){console.error(e)};function rp(e){this._internalRoot=e}Qu.prototype.render=rp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));Ku(e,t,null,null)};Qu.prototype.unmount=rp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ai(function(){Ku(null,e,null,null)}),t[Tn]=null}};function Qu(e){this._internalRoot=e}Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=X0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qn.length&&t!==0&&t<Qn[r].priority;r++);Qn.splice(r,0,e),r===0&&ej(e)}};function np(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cy(){}function oT(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=uu(l);i.call(d)}}var l=jw(t,n,e,0,null,!1,!1,"",Cy);return e._reactRootContainer=l,e[Tn]=l.current,Wo(e.nodeType===8?e.parentNode:e),ai(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=uu(c);o.call(d)}}var c=tp(e,0,!1,null,null,!1,!1,"",Cy);return e._reactRootContainer=c,e[Tn]=c.current,Wo(e.nodeType===8?e.parentNode:e),ai(function(){Ku(t,c,r,n)}),c}function Yu(e,t,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=uu(l);o.call(c)}}Ku(t,l,e,a)}else l=oT(r,t,e,a,n);return uu(l)}Y0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yo(t.pendingLanes);r!==0&&(Nx(t,r|1),zs(t,Bt()),!(nt&6)&&(Pl=Bt()+500,_a()))}break;case 13:ai(function(){var n=Pn(e,1);if(n!==null){var a=Es();Dr(n,e,1,a)}}),sp(e,1)}};Sx=function(e){if(e.tag===13){var t=Pn(e,134217728);if(t!==null){var r=Es();Dr(t,e,134217728,r)}sp(e,134217728)}};Z0=function(e){if(e.tag===13){var t=xa(e),r=Pn(e,t);if(r!==null){var n=Es();Dr(r,e,t,n)}sp(e,t)}};X0=function(){return pt};J0=function(e,t){var r=pt;try{return pt=e,t()}finally{pt=r}};Vh=function(e,t,r){switch(t){case"input":if(Ih(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Uu(n);if(!a)throw Error(le(90));A0(n),Ih(n,a)}}}break;case"textarea":D0(e,r);break;case"select":t=r.value,t!=null&&Zi(e,!!r.multiple,t,!1)}};$0=Zx;U0=ai;var cT={usingClientEntryPoint:!1,Events:[Tc,qi,Uu,I0,L0,Zx]},oo={findFiberByHostInstance:$a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dT={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:On.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=q0(e),e===null?null:e.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||lT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{Ou=dd.inject(dT),Xr=dd}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cT;rr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!np(t))throw Error(le(200));return iT(e,t,null,r)};rr.createRoot=function(e,t){if(!np(e))throw Error(le(299));var r=!1,n="",a=ww;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=tp(e,1,!1,null,null,r,!1,n,a),e[Tn]=t.current,Wo(e.nodeType===8?e.parentNode:e),new rp(t)};rr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=q0(t),e=e===null?null:e.stateNode,e};rr.flushSync=function(e){return ai(e)};rr.hydrate=function(e,t,r){if(!Gu(t))throw Error(le(200));return Yu(null,e,t,!0,r)};rr.hydrateRoot=function(e,t,r){if(!np(e))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=ww;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=jw(t,null,e,1,r??null,a,!1,i,l),e[Tn]=t.current,Wo(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Qu(t)};rr.render=function(e,t,r){if(!Gu(t))throw Error(le(200));return Yu(null,e,t,!1,r)};rr.unmountComponentAtNode=function(e){if(!Gu(e))throw Error(le(40));return e._reactRootContainer?(ai(function(){Yu(null,null,e,!1,function(){e._reactRootContainer=null,e[Tn]=null})}),!0):!1};rr.unstable_batchedUpdates=Zx;rr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gu(r))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return Yu(e,t,r,!1,n)};rr.version="18.3.1-next-f1338f8080-20240426";function bw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bw)}catch(e){console.error(e)}}bw(),b0.exports=rr;var Ni=b0.exports;const uT=c0(Ni);var Nw,Ty=Ni;Nw=Ty.createRoot,Ty.hydrateRoot;function mT(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,i,l=[],o="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(l.push(r),o+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),l.push(a.substring(1,~n?n:~i?i:a.length)),o+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~n?"?":"")+"\\"+a.substring(i))):o+="/"+a;return{keys:l,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}}var Sw={exports:{}},kw={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=m;function hT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fT=typeof Object.is=="function"?Object.is:hT,xT=El.useState,pT=El.useEffect,gT=El.useLayoutEffect,yT=El.useDebugValue;function vT(e,t){var r=t(),n=xT({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return gT(function(){a.value=r,a.getSnapshot=t,nh(a)&&i({inst:a})},[e,r,t]),pT(function(){return nh(a)&&i({inst:a}),e(function(){nh(a)&&i({inst:a})})},[e]),yT(r),r}function nh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!fT(e,r)}catch{return!0}}function jT(e,t){return t()}var wT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jT:vT;kw.useSyncExternalStore=El.useSyncExternalStore!==void 0?El.useSyncExternalStore:wT;Sw.exports=kw;var bT=Sw.exports;const NT=j0.useInsertionEffect,ST=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kT=ST?m.useLayoutEffect:m.useEffect,CT=NT||kT,Cw=e=>{const t=m.useRef([e,(...r)=>t[0](...r)]).current;return CT(()=>{t[0]=e}),t[1]},TT="popstate",ap="pushState",ip="replaceState",PT="hashchange",Py=[TT,ap,ip,PT],ET=e=>{for(const t of Py)addEventListener(t,e);return()=>{for(const t of Py)removeEventListener(t,e)}},Tw=(e,t)=>bT.useSyncExternalStore(ET,e,t),AT=()=>location.search,_T=({ssrSearch:e=""}={})=>Tw(AT,()=>e),Ey=()=>location.pathname,DT=({ssrPath:e}={})=>Tw(Ey,e?()=>e:Ey),RT=(e,{replace:t=!1,state:r=null}={})=>history[t?ip:ap](r,"",e),MT=(e={})=>[DT(e),RT],Ay=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Ay]>"u"){for(const e of[ap,ip]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Ay,{value:!0})}const FT=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Pw=(e="")=>e==="/"?"":e,OT=(e,t)=>e[0]==="~"?e.slice(1):Pw(t)+e,IT=(e="",t)=>FT(_y(Pw(e)),_y(t)),_y=e=>{try{return decodeURI(e)}catch{return e}},Ew={hook:MT,searchHook:_T,parser:mT,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Aw=m.createContext(Ew),ql=()=>m.useContext(Aw),_w={},Dw=m.createContext(_w),Rw=()=>m.useContext(Dw),Zu=e=>{const[t,r]=e.hook(e);return[IT(e.base,t),Cw((n,a)=>r(OT(n,e.base),a))]},on=()=>Zu(ql()),lp=(e,t,r,n)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),l=a.exec(r)||[],[o,...c]=l;return o!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((h,x)=>[h,c[x]])):l.groups;let u={...c};return d&&Object.assign(u,d),u})(),...n?[o]:[]]:[!1,null]},LT=e=>lp(ql().parser,e,on()[0]),$T=({children:e,...t})=>{var u,h;const r=ql(),n=t.hook?Ew:r;let a=n;const[i,l]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];l&&(t.ssrSearch=l,t.ssrPath=i),t.hrefs=t.hrefs??((h=t.hook)==null?void 0:h.hrefs);let o=m.useRef({}),c=o.current,d=c;for(let x in n){const y=x==="base"?n[x]+(t[x]||""):t[x]||n[x];c===d&&y!==d[x]&&(o.current=d={...d}),d[x]=y,y!==n[x]&&(a=d)}return m.createElement(Aw.Provider,{value:a,children:e})},Dy=({children:e,component:t},r)=>t?m.createElement(t,{params:r}):typeof e=="function"?e(r):e,UT=e=>{let t=m.useRef(_w),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},gt=({path:e,nest:t,match:r,...n})=>{const a=ql(),[i]=Zu(a),[l,o,c]=r??lp(a.parser,e,i,t),d=UT({...Rw(),...o});if(!l)return null;const u=c?m.createElement($T,{base:c},Dy(n,d)):Dy(n,d);return m.createElement(Dw.Provider,{value:d,children:u})},$e=m.forwardRef((e,t)=>{const r=ql(),[n,a]=Zu(r),{to:i="",href:l=i,onClick:o,asChild:c,children:d,className:u,replace:h,state:x,...y}=e,v=Cw(w=>{w.ctrlKey||w.metaKey||w.altKey||w.shiftKey||w.button!==0||(o==null||o(w),w.defaultPrevented||(w.preventDefault(),a(l,e)))}),g=r.hrefs(l[0]==="~"?l.slice(1):r.base+l,r);return c&&m.isValidElement(d)?m.cloneElement(d,{onClick:v,href:g}):m.createElement("a",{...y,onClick:v,href:g,className:u!=null&&u.call?u(n===l):u,children:d,ref:t})}),Mw=e=>Array.isArray(e)?e.flatMap(t=>Mw(t&&t.type===m.Fragment?t.props.children:t)):[e],zT=({children:e,location:t})=>{const r=ql(),[n]=Zu(r);for(const a of Mw(e)){let i=0;if(m.isValidElement(a)&&(i=lp(r.parser,a.props.path,t||n,a.props.nest))[0])return m.cloneElement(a,{match:i})}return null};var Vl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ii=typeof window>"u"||"Deno"in globalThis;function ur(){}function BT(e,t){return typeof e=="function"?e(t):e}function Sf(e){return typeof e=="number"&&e>=0&&e!==1/0}function Fw(e,t){return Math.max(e+(t||0)-Date.now(),0)}function rl(e,t){return typeof e=="function"?e(t):e}function Tr(e,t){return typeof e=="function"?e(t):e}function Ry(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:o}=e;if(l){if(n){if(t.queryHash!==op(l,t.options))return!1}else if(!ec(t.queryKey,l))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function My(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(li(t.options.mutationKey)!==li(i))return!1}else if(!ec(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function op(e,t){return((t==null?void 0:t.queryKeyHashFn)||li)(e)}function li(e){return JSON.stringify(e,(t,r)=>kf(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function ec(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!ec(e[r],t[r])):!1}function Ow(e,t){if(e===t)return e;const r=Fy(e)&&Fy(t);if(r||kf(e)&&kf(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),l=i.length,o=r?[]:{};let c=0;for(let d=0;d<l;d++){const u=r?d:i[d];(!r&&n.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(o[u]=void 0,c++):(o[u]=Ow(e[u],t[u]),o[u]===e[u]&&e[u]!==void 0&&c++)}return a===l&&c===a?e:o}return t}function mu(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Fy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function kf(e){if(!Oy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Oy(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Oy(e){return Object.prototype.toString.call(e)==="[object Object]"}function qT(e){return new Promise(t=>{setTimeout(t,e)})}function Cf(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Ow(e,t):t}function VT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function WT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var cp=Symbol();function Iw(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===cp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Wa,Zn,cl,Jv,HT=(Jv=class extends Vl{constructor(){super();Ie(this,Wa);Ie(this,Zn);Ie(this,cl);Ce(this,cl,t=>{if(!ii&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,Zn)||this.setEventListener(R(this,cl))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,Zn))==null||t.call(this),Ce(this,Zn,void 0))}setEventListener(t){var r;Ce(this,cl,t),(r=R(this,Zn))==null||r.call(this),Ce(this,Zn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){R(this,Wa)!==t&&(Ce(this,Wa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof R(this,Wa)=="boolean"?R(this,Wa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Wa=new WeakMap,Zn=new WeakMap,cl=new WeakMap,Jv),dp=new HT,dl,Xn,ul,e0,KT=(e0=class extends Vl{constructor(){super();Ie(this,dl,!0);Ie(this,Xn);Ie(this,ul);Ce(this,ul,t=>{if(!ii&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,Xn)||this.setEventListener(R(this,ul))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,Xn))==null||t.call(this),Ce(this,Xn,void 0))}setEventListener(t){var r;Ce(this,ul,t),(r=R(this,Xn))==null||r.call(this),Ce(this,Xn,t(this.setOnline.bind(this)))}setOnline(t){R(this,dl)!==t&&(Ce(this,dl,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return R(this,dl)}},dl=new WeakMap,Xn=new WeakMap,ul=new WeakMap,e0),hu=new KT;function Tf(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function QT(e){return Math.min(1e3*2**e,3e4)}function Lw(e){return(e??"online")==="online"?hu.isOnline():!0}var $w=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ah(e){return e instanceof $w}function Uw(e){let t=!1,r=0,n=!1,a;const i=Tf(),l=g=>{var w;n||(x(new $w(g)),(w=e.abort)==null||w.call(e))},o=()=>{t=!0},c=()=>{t=!1},d=()=>dp.isFocused()&&(e.networkMode==="always"||hu.isOnline())&&e.canRun(),u=()=>Lw(e.networkMode)&&e.canRun(),h=g=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,g),a==null||a(),i.resolve(g))},x=g=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,g),a==null||a(),i.reject(g))},y=()=>new Promise(g=>{var w;a=p=>{(n||d())&&g(p)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;a=void 0,n||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(n)return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(p){g=Promise.reject(p)}Promise.resolve(g).then(h).catch(p=>{var S;if(n)return;const f=e.retry??(ii?0:3),j=e.retryDelay??QT,b=typeof j=="function"?j(r,p):j,k=f===!0||typeof f=="number"&&r<f||typeof f=="function"&&f(r,p);if(t||!k){x(p);return}r++,(S=e.onFail)==null||S.call(e,r,p),qT(b).then(()=>d()?void 0:y()).then(()=>{t?x(p):v()})})};return{promise:i,cancel:l,continue:()=>(a==null||a(),i),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?v():y().then(v),i)}}function GT(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=o=>setTimeout(o,0);const i=o=>{t?e.push(o):a(()=>{r(o)})},l=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var Yt=GT(),Ha,t0,zw=(t0=class{constructor(){Ie(this,Ha)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sf(this.gcTime)&&Ce(this,Ha,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ii?1/0:5*60*1e3))}clearGcTimeout(){R(this,Ha)&&(clearTimeout(R(this,Ha)),Ce(this,Ha,void 0))}},Ha=new WeakMap,t0),ml,hl,dr,fs,jc,Ka,Sr,hn,s0,YT=(s0=class extends zw{constructor(t){super();Ie(this,Sr);Ie(this,ml);Ie(this,hl);Ie(this,dr);Ie(this,fs);Ie(this,jc);Ie(this,Ka);Ce(this,Ka,!1),Ce(this,jc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ce(this,dr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ce(this,ml,ZT(this.options)),this.state=t.state??R(this,ml),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=R(this,fs))==null?void 0:t.promise}setOptions(t){this.options={...R(this,jc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,dr).remove(this)}setData(t,r){const n=Cf(this.state.data,t,this.options);return Ze(this,Sr,hn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ze(this,Sr,hn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=R(this,fs))==null?void 0:n.promise;return(a=R(this,fs))==null||a.cancel(t),r?r.then(ur).catch(ur):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,ml))}isActive(){return this.observers.some(t=>Tr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Fw(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=R(this,fs))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=R(this,fs))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),R(this,dr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(R(this,fs)&&(R(this,Ka)?R(this,fs).cancel({revert:!0}):R(this,fs).cancelRetry()),this.scheduleGc()),R(this,dr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,Sr,hn).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,fs))return R(this,fs).continueRetry(),R(this,fs).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(x=>x.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ce(this,Ka,!0),n.signal)})},i=()=>{const h=Iw(this.options,r),x={queryKey:this.queryKey,meta:this.meta};return a(x),Ce(this,Ka,!1),this.options.persister?this.options.persister(h,x,this):h(x)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(l),(c=this.options.behavior)==null||c.onFetch(l,this),Ce(this,hl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Ze(this,Sr,hn).call(this,{type:"fetch",meta:(u=l.fetchOptions)==null?void 0:u.meta});const o=h=>{var x,y,v,g;ah(h)&&h.silent||Ze(this,Sr,hn).call(this,{type:"error",error:h}),ah(h)||((y=(x=R(this,dr).config).onError)==null||y.call(x,h,this),(g=(v=R(this,dr).config).onSettled)==null||g.call(v,this.state.data,h,this)),this.scheduleGc()};return Ce(this,fs,Uw({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var x,y,v,g;if(h===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(w){o(w);return}(y=(x=R(this,dr).config).onSuccess)==null||y.call(x,h,this),(g=(v=R(this,dr).config).onSettled)==null||g.call(v,h,this.state.error,this),this.scheduleGc()},onError:o,onFail:(h,x)=>{Ze(this,Sr,hn).call(this,{type:"failed",failureCount:h,error:x})},onPause:()=>{Ze(this,Sr,hn).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Sr,hn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),R(this,fs).start()}},ml=new WeakMap,hl=new WeakMap,dr=new WeakMap,fs=new WeakMap,jc=new WeakMap,Ka=new WeakMap,Sr=new WeakSet,hn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Bw(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return ah(a)&&a.revert&&R(this,hl)?{...R(this,hl),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Yt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,dr).notify({query:this,type:"updated",action:t})})},s0);function Bw(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Lw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ZT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Wr,r0,XT=(r0=class extends Vl{constructor(t={}){super();Ie(this,Wr);this.config=t,Ce(this,Wr,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??op(a,r);let l=this.get(i);return l||(l=new YT({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){R(this,Wr).has(t.queryHash)||(R(this,Wr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=R(this,Wr).get(t.queryHash);r&&(t.destroy(),r===t&&R(this,Wr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Yt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return R(this,Wr).get(t)}getAll(){return[...R(this,Wr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ry(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Ry(t,n)):r}notify(t){Yt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Yt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Yt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Wr=new WeakMap,r0),Hr,Ns,Qa,Kr,Vn,n0,JT=(n0=class extends zw{constructor(t){super();Ie(this,Kr);Ie(this,Hr);Ie(this,Ns);Ie(this,Qa);this.mutationId=t.mutationId,Ce(this,Ns,t.mutationCache),Ce(this,Hr,[]),this.state=t.state||qw(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){R(this,Hr).includes(t)||(R(this,Hr).push(t),this.clearGcTimeout(),R(this,Ns).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ce(this,Hr,R(this,Hr).filter(r=>r!==t)),this.scheduleGc(),R(this,Ns).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){R(this,Hr).length||(this.state.status==="pending"?this.scheduleGc():R(this,Ns).remove(this))}continue(){var t;return((t=R(this,Qa))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,l,o,c,d,u,h,x,y,v,g,w,p,f,j,b,k,S,C;Ce(this,Qa,Uw({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,N)=>{Ze(this,Kr,Vn).call(this,{type:"failed",failureCount:P,error:N})},onPause:()=>{Ze(this,Kr,Vn).call(this,{type:"pause"})},onContinue:()=>{Ze(this,Kr,Vn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Ns).canRun(this)}));const r=this.state.status==="pending",n=!R(this,Qa).canStart();try{if(!r){Ze(this,Kr,Vn).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(a=R(this,Ns).config).onMutate)==null?void 0:i.call(a,t,this));const N=await((o=(l=this.options).onMutate)==null?void 0:o.call(l,t));N!==this.state.context&&Ze(this,Kr,Vn).call(this,{type:"pending",context:N,variables:t,isPaused:n})}const P=await R(this,Qa).start();return await((d=(c=R(this,Ns).config).onSuccess)==null?void 0:d.call(c,P,t,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,P,t,this.state.context)),await((y=(x=R(this,Ns).config).onSettled)==null?void 0:y.call(x,P,null,this.state.variables,this.state.context,this)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,P,null,t,this.state.context)),Ze(this,Kr,Vn).call(this,{type:"success",data:P}),P}catch(P){try{throw await((p=(w=R(this,Ns).config).onError)==null?void 0:p.call(w,P,t,this.state.context,this)),await((j=(f=this.options).onError)==null?void 0:j.call(f,P,t,this.state.context)),await((k=(b=R(this,Ns).config).onSettled)==null?void 0:k.call(b,void 0,P,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,P,t,this.state.context)),P}finally{Ze(this,Kr,Vn).call(this,{type:"error",error:P})}}finally{R(this,Ns).runNext(this)}}},Hr=new WeakMap,Ns=new WeakMap,Qa=new WeakMap,Kr=new WeakSet,Vn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Yt.batch(()=>{R(this,Hr).forEach(n=>{n.onMutationUpdate(t)}),R(this,Ns).notify({mutation:this,type:"updated",action:t})})},n0);function qw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Hs,wc,a0,eP=(a0=class extends Vl{constructor(t={}){super();Ie(this,Hs);Ie(this,wc);this.config=t,Ce(this,Hs,new Map),Ce(this,wc,Date.now())}build(t,r,n){const a=new JT({mutationCache:this,mutationId:++Kc(this,wc)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=ud(t),n=R(this,Hs).get(r)??[];n.push(t),R(this,Hs).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=ud(t);if(R(this,Hs).has(r)){const a=(n=R(this,Hs).get(r))==null?void 0:n.filter(i=>i!==t);a&&(a.length===0?R(this,Hs).delete(r):R(this,Hs).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=R(this,Hs).get(ud(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=R(this,Hs).get(ud(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Yt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...R(this,Hs).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>My(r,n))}findAll(t={}){return this.getAll().filter(r=>My(t,r))}notify(t){Yt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Yt.batch(()=>Promise.all(t.map(r=>r.continue().catch(ur))))}},Hs=new WeakMap,wc=new WeakMap,a0);function ud(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Iy(e){return{onFetch:(t,r)=>{var u,h,x,y,v;const n=t.options,a=(x=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:x.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],l=((v=t.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const w=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},p=Iw(t.options,t.fetchOptions),f=async(j,b,k)=>{if(g)return Promise.reject();if(b==null&&j.pages.length)return Promise.resolve(j);const S={queryKey:t.queryKey,pageParam:b,direction:k?"backward":"forward",meta:t.options.meta};w(S);const C=await p(S),{maxPages:P}=t.options,N=k?WT:VT;return{pages:N(j.pages,C,P),pageParams:N(j.pageParams,b,P)}};if(a&&i.length){const j=a==="backward",b=j?tP:Ly,k={pages:i,pageParams:l},S=b(n,k);o=await f(k,S,j)}else{const j=e??i.length;do{const b=c===0?l[0]??n.initialPageParam:Ly(n,o);if(c>0&&b==null)break;o=await f(o,b),c++}while(c<j)}return o};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Ly(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function tP(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var $t,Jn,ea,fl,xl,ta,pl,gl,i0,sP=(i0=class{constructor(e={}){Ie(this,$t);Ie(this,Jn);Ie(this,ea);Ie(this,fl);Ie(this,xl);Ie(this,ta);Ie(this,pl);Ie(this,gl);Ce(this,$t,e.queryCache||new XT),Ce(this,Jn,e.mutationCache||new eP),Ce(this,ea,e.defaultOptions||{}),Ce(this,fl,new Map),Ce(this,xl,new Map),Ce(this,ta,0)}mount(){Kc(this,ta)._++,R(this,ta)===1&&(Ce(this,pl,dp.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,$t).onFocus())})),Ce(this,gl,hu.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,$t).onOnline())})))}unmount(){var e,t;Kc(this,ta)._--,R(this,ta)===0&&((e=R(this,pl))==null||e.call(this),Ce(this,pl,void 0),(t=R(this,gl))==null||t.call(this),Ce(this,gl,void 0))}isFetching(e){return R(this,$t).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return R(this,Jn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=R(this,$t).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=R(this,$t).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(rl(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return R(this,$t).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=R(this,$t).get(n.queryHash),i=a==null?void 0:a.state.data,l=BT(t,i);if(l!==void 0)return R(this,$t).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return Yt.batch(()=>R(this,$t).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=R(this,$t).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=R(this,$t);Yt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=R(this,$t),n={type:"active",...e};return Yt.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Yt.batch(()=>R(this,$t).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ur).catch(ur)}invalidateQueries(e={},t={}){return Yt.batch(()=>{if(R(this,$t).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Yt.batch(()=>R(this,$t).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(ur)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ur)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=R(this,$t).build(this,t);return r.isStaleByTime(rl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ur).catch(ur)}fetchInfiniteQuery(e){return e.behavior=Iy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ur).catch(ur)}ensureInfiniteQueryData(e){return e.behavior=Iy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hu.isOnline()?R(this,Jn).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,$t)}getMutationCache(){return R(this,Jn)}getDefaultOptions(){return R(this,ea)}setDefaultOptions(e){Ce(this,ea,e)}setQueryDefaults(e,t){R(this,fl).set(li(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...R(this,fl).values()];let r={};return t.forEach(n=>{ec(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){R(this,xl).set(li(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...R(this,xl).values()];let r={};return t.forEach(n=>{ec(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...R(this,ea).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=op(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===cp&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...R(this,ea).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){R(this,$t).clear(),R(this,Jn).clear()}},$t=new WeakMap,Jn=new WeakMap,ea=new WeakMap,fl=new WeakMap,xl=new WeakMap,ta=new WeakMap,pl=new WeakMap,gl=new WeakMap,i0),Ms,st,bc,Ss,Ga,yl,sa,Qr,Nc,vl,jl,Ya,Za,ra,wl,mt,jo,Pf,Ef,Af,_f,Df,Rf,Mf,Vw,l0,rP=(l0=class extends Vl{constructor(t,r){super();Ie(this,mt);Ie(this,Ms);Ie(this,st);Ie(this,bc);Ie(this,Ss);Ie(this,Ga);Ie(this,yl);Ie(this,sa);Ie(this,Qr);Ie(this,Nc);Ie(this,vl);Ie(this,jl);Ie(this,Ya);Ie(this,Za);Ie(this,ra);Ie(this,wl,new Set);this.options=r,Ce(this,Ms,t),Ce(this,Qr,null),Ce(this,sa,Tf()),this.options.experimental_prefetchInRender||R(this,sa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,st).addObserver(this),$y(R(this,st),this.options)?Ze(this,mt,jo).call(this):this.updateResult(),Ze(this,mt,_f).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ff(R(this,st),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ff(R(this,st),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ze(this,mt,Df).call(this),Ze(this,mt,Rf).call(this),R(this,st).removeObserver(this)}setOptions(t,r){const n=this.options,a=R(this,st);if(this.options=R(this,Ms).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Tr(this.options.enabled,R(this,st))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ze(this,mt,Mf).call(this),R(this,st).setOptions(this.options),n._defaulted&&!mu(this.options,n)&&R(this,Ms).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,st),observer:this});const i=this.hasListeners();i&&Uy(R(this,st),a,this.options,n)&&Ze(this,mt,jo).call(this),this.updateResult(r),i&&(R(this,st)!==a||Tr(this.options.enabled,R(this,st))!==Tr(n.enabled,R(this,st))||rl(this.options.staleTime,R(this,st))!==rl(n.staleTime,R(this,st)))&&Ze(this,mt,Pf).call(this);const l=Ze(this,mt,Ef).call(this);i&&(R(this,st)!==a||Tr(this.options.enabled,R(this,st))!==Tr(n.enabled,R(this,st))||l!==R(this,ra))&&Ze(this,mt,Af).call(this,l)}getOptimisticResult(t){const r=R(this,Ms).getQueryCache().build(R(this,Ms),t),n=this.createResult(r,t);return aP(this,n)&&(Ce(this,Ss,n),Ce(this,yl,this.options),Ce(this,Ga,R(this,st).state)),n}getCurrentResult(){return R(this,Ss)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){R(this,wl).add(t)}getCurrentQuery(){return R(this,st)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=R(this,Ms).defaultQueryOptions(t),n=R(this,Ms).getQueryCache().build(R(this,Ms),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ze(this,mt,jo).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Ss)))}createResult(t,r){var P;const n=R(this,st),a=this.options,i=R(this,Ss),l=R(this,Ga),o=R(this,yl),d=t!==n?t.state:R(this,bc),{state:u}=t;let h={...u},x=!1,y;if(r._optimisticResults){const N=this.hasListeners(),O=!N&&$y(t,r),D=N&&Uy(t,n,r,a);(O||D)&&(h={...h,...Bw(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:w}=h;if(r.select&&h.data!==void 0)if(i&&h.data===(l==null?void 0:l.data)&&r.select===R(this,Nc))y=R(this,vl);else try{Ce(this,Nc,r.select),y=r.select(h.data),y=Cf(i==null?void 0:i.data,y,r),Ce(this,vl,y),Ce(this,Qr,null)}catch(N){Ce(this,Qr,N)}else y=h.data;if(r.placeholderData!==void 0&&y===void 0&&w==="pending"){let N;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData))N=i.data;else if(N=typeof r.placeholderData=="function"?r.placeholderData((P=R(this,jl))==null?void 0:P.state.data,R(this,jl)):r.placeholderData,r.select&&N!==void 0)try{N=r.select(N),Ce(this,Qr,null)}catch(O){Ce(this,Qr,O)}N!==void 0&&(w="success",y=Cf(i==null?void 0:i.data,N,r),x=!0)}R(this,Qr)&&(v=R(this,Qr),y=R(this,vl),g=Date.now(),w="error");const p=h.fetchStatus==="fetching",f=w==="pending",j=w==="error",b=f&&p,k=y!==void 0,C={status:w,fetchStatus:h.fetchStatus,isPending:f,isSuccess:w==="success",isError:j,isInitialLoading:b,isLoading:b,data:y,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:p,isRefetching:p&&!f,isLoadingError:j&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:j&&k,isStale:up(t,r),refetch:this.refetch,promise:R(this,sa)};if(this.options.experimental_prefetchInRender){const N=M=>{C.status==="error"?M.reject(C.error):C.data!==void 0&&M.resolve(C.data)},O=()=>{const M=Ce(this,sa,C.promise=Tf());N(M)},D=R(this,sa);switch(D.status){case"pending":t.queryHash===n.queryHash&&N(D);break;case"fulfilled":(C.status==="error"||C.data!==D.value)&&O();break;case"rejected":(C.status!=="error"||C.error!==D.reason)&&O();break}}return C}updateResult(t){const r=R(this,Ss),n=this.createResult(R(this,st),this.options);if(Ce(this,Ga,R(this,st).state),Ce(this,yl,this.options),R(this,Ga).data!==void 0&&Ce(this,jl,R(this,st)),mu(n,r))return;Ce(this,Ss,n);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:l}=this.options,o=typeof l=="function"?l():l;if(o==="all"||!o&&!R(this,wl).size)return!0;const c=new Set(o??R(this,wl));return this.options.throwOnError&&c.add("error"),Object.keys(R(this,Ss)).some(d=>{const u=d;return R(this,Ss)[u]!==r[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Ze(this,mt,Vw).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ze(this,mt,_f).call(this)}},Ms=new WeakMap,st=new WeakMap,bc=new WeakMap,Ss=new WeakMap,Ga=new WeakMap,yl=new WeakMap,sa=new WeakMap,Qr=new WeakMap,Nc=new WeakMap,vl=new WeakMap,jl=new WeakMap,Ya=new WeakMap,Za=new WeakMap,ra=new WeakMap,wl=new WeakMap,mt=new WeakSet,jo=function(t){Ze(this,mt,Mf).call(this);let r=R(this,st).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ur)),r},Pf=function(){Ze(this,mt,Df).call(this);const t=rl(this.options.staleTime,R(this,st));if(ii||R(this,Ss).isStale||!Sf(t))return;const n=Fw(R(this,Ss).dataUpdatedAt,t)+1;Ce(this,Ya,setTimeout(()=>{R(this,Ss).isStale||this.updateResult()},n))},Ef=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,st)):this.options.refetchInterval)??!1},Af=function(t){Ze(this,mt,Rf).call(this),Ce(this,ra,t),!(ii||Tr(this.options.enabled,R(this,st))===!1||!Sf(R(this,ra))||R(this,ra)===0)&&Ce(this,Za,setInterval(()=>{(this.options.refetchIntervalInBackground||dp.isFocused())&&Ze(this,mt,jo).call(this)},R(this,ra)))},_f=function(){Ze(this,mt,Pf).call(this),Ze(this,mt,Af).call(this,Ze(this,mt,Ef).call(this))},Df=function(){R(this,Ya)&&(clearTimeout(R(this,Ya)),Ce(this,Ya,void 0))},Rf=function(){R(this,Za)&&(clearInterval(R(this,Za)),Ce(this,Za,void 0))},Mf=function(){const t=R(this,Ms).getQueryCache().build(R(this,Ms),this.options);if(t===R(this,st))return;const r=R(this,st);Ce(this,st,t),Ce(this,bc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Vw=function(t){Yt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(R(this,Ss))}),R(this,Ms).getQueryCache().notify({query:R(this,st),type:"observerResultsUpdated"})})},l0);function nP(e,t){return Tr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function $y(e,t){return nP(e,t)||e.state.data!==void 0&&Ff(e,t,t.refetchOnMount)}function Ff(e,t,r){if(Tr(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&up(e,t)}return!1}function Uy(e,t,r,n){return(e!==t||Tr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&up(e,r)}function up(e,t){return Tr(t.enabled,e)!==!1&&e.isStaleByTime(rl(t.staleTime,e))}function aP(e,t){return!mu(e.getCurrentResult(),t)}var na,aa,Fs,vn,kn,Dd,Of,o0,iP=(o0=class extends Vl{constructor(r,n){super();Ie(this,kn);Ie(this,na);Ie(this,aa);Ie(this,Fs);Ie(this,vn);Ce(this,na,r),this.setOptions(n),this.bindMethods(),Ze(this,kn,Dd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=R(this,na).defaultMutationOptions(r),mu(this.options,n)||R(this,na).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Fs),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&li(n.mutationKey)!==li(this.options.mutationKey)?this.reset():((a=R(this,Fs))==null?void 0:a.state.status)==="pending"&&R(this,Fs).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=R(this,Fs))==null||r.removeObserver(this)}onMutationUpdate(r){Ze(this,kn,Dd).call(this),Ze(this,kn,Of).call(this,r)}getCurrentResult(){return R(this,aa)}reset(){var r;(r=R(this,Fs))==null||r.removeObserver(this),Ce(this,Fs,void 0),Ze(this,kn,Dd).call(this),Ze(this,kn,Of).call(this)}mutate(r,n){var a;return Ce(this,vn,n),(a=R(this,Fs))==null||a.removeObserver(this),Ce(this,Fs,R(this,na).getMutationCache().build(R(this,na),this.options)),R(this,Fs).addObserver(this),R(this,Fs).execute(r)}},na=new WeakMap,aa=new WeakMap,Fs=new WeakMap,vn=new WeakMap,kn=new WeakSet,Dd=function(){var n;const r=((n=R(this,Fs))==null?void 0:n.state)??qw();Ce(this,aa,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Of=function(r){Yt.batch(()=>{var n,a,i,l,o,c,d,u;if(R(this,vn)&&this.hasListeners()){const h=R(this,aa).variables,x=R(this,aa).context;(r==null?void 0:r.type)==="success"?((a=(n=R(this,vn)).onSuccess)==null||a.call(n,r.data,h,x),(l=(i=R(this,vn)).onSettled)==null||l.call(i,r.data,null,h,x)):(r==null?void 0:r.type)==="error"&&((c=(o=R(this,vn)).onError)==null||c.call(o,r.error,h,x),(u=(d=R(this,vn)).onSettled)==null||u.call(d,void 0,r.error,h,x))}this.listeners.forEach(h=>{h(R(this,aa))})})},o0),Ww=m.createContext(void 0),Nt=e=>{const t=m.useContext(Ww);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},lP=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Ww.Provider,{value:e,children:t})),Hw=m.createContext(!1),oP=()=>m.useContext(Hw);Hw.Provider;function cP(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var dP=m.createContext(cP()),uP=()=>m.useContext(dP);function Kw(e,t){return typeof e=="function"?e(...t):!!e}function If(){}var mP=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},hP=e=>{m.useEffect(()=>{e.clearReset()},[e])},fP=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&Kw(r,[e.error,n]),xP=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},pP=(e,t)=>e.isLoading&&e.isFetching&&!t,gP=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,zy=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function yP(e,t,r){var u,h,x,y,v;const n=Nt(),a=oP(),i=uP(),l=n.defaultQueryOptions(e);(h=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||h.call(u,l),l._optimisticResults=a?"isRestoring":"optimistic",xP(l),mP(l,i),hP(i);const o=!n.getQueryCache().get(l.queryHash),[c]=m.useState(()=>new t(n,l)),d=c.getOptimisticResult(l);if(m.useSyncExternalStore(m.useCallback(g=>{const w=a?If:c.subscribe(Yt.batchCalls(g));return c.updateResult(),w},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(l,{listeners:!1})},[l,c]),gP(l,d))throw zy(l,c,i);if(fP({result:d,errorResetBoundary:i,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash)}))throw d.error;if((y=(x=n.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||y.call(x,l,d),l.experimental_prefetchInRender&&!ii&&pP(d,a)){const g=o?zy(l,c,i):(v=n.getQueryCache().get(l.queryHash))==null?void 0:v.promise;g==null||g.catch(If).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?d:c.trackResult(d)}function ae(e,t){return yP(e,rP)}function Ee(e,t){const r=Nt(),[n]=m.useState(()=>new iP(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const a=m.useSyncExternalStore(m.useCallback(l=>n.subscribe(Yt.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=m.useCallback((l,o)=>{n.mutate(l,o).catch(If)},[n]);if(a.error&&Kw(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function ve(e,t={}){const r={method:t.method||"GET",credentials:"include",headers:{"Content-Type":"application/json",...t.headers}};t.body&&r.method!=="GET"&&(r.body=JSON.stringify(t.body));let n;try{n=await fetch(e,r)}catch(a){throw a.name==="AbortError"?(console.log(`Request cancelled for ${e}`),console.log("Request cancelled - this is normal during navigation"),a):(console.warn(`Network error for ${e}:`,a),new Error("Network connection failed"))}if(!n.ok){let a=`HTTP error! status: ${n.status}`;try{const i=await n.json();i.message&&(a=i.message)}catch{}throw new Error(a)}return n.json()}const Zt=new sP({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1,queryFn:async({queryKey:e,signal:t})=>{const r=Array.isArray(e)?e.join("/"):String(e);try{const n=await fetch(r,{credentials:"include",signal:t});if(!n.ok){if(n.status===401&&r.includes("/api/auth/me"))throw console.log("Auth check failed - user logged out"),new Error("Not authenticated");const a=`HTTP error! status: ${n.status}`;throw new Error(a)}return n.json()}catch(n){throw n.name==="AbortError"?(console.log(`Request cancelled for ${r}`),n):(console.warn(`Network error for ${r}:`,n),new Error("Network connection failed"))}}}}}),vP=1,jP=1e6;let ih=0;function wP(){return ih=(ih+1)%Number.MAX_SAFE_INTEGER,ih.toString()}const lh=new Map,By=e=>{if(lh.has(e))return;const t=setTimeout(()=>{lh.delete(e),Mo({type:"REMOVE_TOAST",toastId:e})},jP);lh.set(e,t)},bP=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,vP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?By(r):e.toasts.forEach(n=>{By(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Rd=[];let Md={toasts:[]};function Mo(e){Md=bP(Md,e),Rd.forEach(t=>{t(Md)})}function wo({...e}){const t=wP(),r=a=>Mo({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Mo({type:"DISMISS_TOAST",toastId:t});return Mo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function at(){const[e,t]=m.useState(Md);return m.useEffect(()=>(Rd.push(t),()=>{const r=Rd.indexOf(t);r>-1&&Rd.splice(r,1)}),[e]),{...e,toast:wo,dismiss:r=>Mo({type:"DISMISS_TOAST",toastId:r})}}function _e(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function qy(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Qw(...e){return t=>{let r=!1;const n=e.map(a=>{const i=qy(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():qy(e[a],null)}}}}function Je(...e){return m.useCallback(Qw(...e),e)}function NP(e,t){const r=m.createContext(t),n=i=>{const{children:l,...o}=i,c=m.useMemo(()=>o,Object.values(o));return s.jsx(r.Provider,{value:c,children:l})};n.displayName=e+"Provider";function a(i){const l=m.useContext(r);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function ar(e,t=[]){let r=[];function n(i,l){const o=m.createContext(l),c=r.length;r=[...r,l];const d=h=>{var p;const{scope:x,children:y,...v}=h,g=((p=x==null?void 0:x[e])==null?void 0:p[c])||o,w=m.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:w,children:y})};d.displayName=i+"Provider";function u(h,x){var g;const y=((g=x==null?void 0:x[e])==null?void 0:g[c])||o,v=m.useContext(y);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(l=>m.createContext(l));return function(o){const c=(o==null?void 0:o[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return a.scopeName=e,[n,SP(a,...t)]}function SP(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=n.reduce((o,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...o,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function oi(e){const t=kP(e),r=m.forwardRef((n,a)=>{const{children:i,...l}=n,o=m.Children.toArray(i),c=o.find(CP);if(c){const d=c.props.children,u=o.map(h=>h===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:h);return s.jsx(t,{...l,ref:a,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return s.jsx(t,{...l,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var Gw=oi("Slot");function kP(e){const t=m.forwardRef((r,n)=>{const{children:a,...i}=r;if(m.isValidElement(a)){const l=PP(a),o=TP(i,a.props);return a.type!==m.Fragment&&(o.ref=n?Qw(n,l):l),m.cloneElement(a,o)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Yw=Symbol("radix.slottable");function Zw(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Yw,t}function CP(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Yw}function TP(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{i(...o),a(...o)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function PP(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function mp(e){const t=e+"CollectionProvider",[r,n]=ar(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=g=>{const{scope:w,children:p}=g,f=We.useRef(null),j=We.useRef(new Map).current;return s.jsx(a,{scope:w,itemMap:j,collectionRef:f,children:p})};l.displayName=t;const o=e+"CollectionSlot",c=oi(o),d=We.forwardRef((g,w)=>{const{scope:p,children:f}=g,j=i(o,p),b=Je(w,j.collectionRef);return s.jsx(c,{ref:b,children:f})});d.displayName=o;const u=e+"CollectionItemSlot",h="data-radix-collection-item",x=oi(u),y=We.forwardRef((g,w)=>{const{scope:p,children:f,...j}=g,b=We.useRef(null),k=Je(w,b),S=i(u,p);return We.useEffect(()=>(S.itemMap.set(b,{ref:b,...j}),()=>void S.itemMap.delete(b))),s.jsx(x,{[h]:"",ref:k,children:f})});y.displayName=u;function v(g){const w=i(e+"CollectionConsumer",g);return We.useCallback(()=>{const f=w.collectionRef.current;if(!f)return[];const j=Array.from(f.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((S,C)=>j.indexOf(S.ref.current)-j.indexOf(C.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:l,Slot:d,ItemSlot:y},v,n]}var EP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ue=EP.reduce((e,t)=>{const r=oi(`Primitive.${t}`),n=m.forwardRef((a,i)=>{const{asChild:l,...o}=a,c=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Xw(e,t){e&&Ni.flushSync(()=>e.dispatchEvent(t))}function qt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function AP(e,t=globalThis==null?void 0:globalThis.document){const r=qt(e);m.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var _P="DismissableLayer",Lf="dismissableLayer.update",DP="dismissableLayer.pointerDownOutside",RP="dismissableLayer.focusOutside",Vy,Jw=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wl=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:o,...c}=e,d=m.useContext(Jw),[u,h]=m.useState(null),x=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=m.useState({}),v=Je(t,C=>h(C)),g=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=g.indexOf(w),f=u?g.indexOf(u):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,b=f>=p,k=FP(C=>{const P=C.target,N=[...d.branches].some(O=>O.contains(P));!b||N||(a==null||a(C),l==null||l(C),C.defaultPrevented||o==null||o())},x),S=OP(C=>{const P=C.target;[...d.branches].some(O=>O.contains(P))||(i==null||i(C),l==null||l(C),C.defaultPrevented||o==null||o())},x);return AP(C=>{f===d.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&o&&(C.preventDefault(),o()))},x),m.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Vy=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Wy(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Vy)}},[u,x,r,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Wy())},[u,d]),m.useEffect(()=>{const C=()=>y({});return document.addEventListener(Lf,C),()=>document.removeEventListener(Lf,C)},[]),s.jsx(Ue.div,{...c,ref:v,style:{pointerEvents:j?b?"auto":"none":void 0,...e.style},onFocusCapture:_e(e.onFocusCapture,S.onFocusCapture),onBlurCapture:_e(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:_e(e.onPointerDownCapture,k.onPointerDownCapture)})});Wl.displayName=_P;var MP="DismissableLayerBranch",eb=m.forwardRef((e,t)=>{const r=m.useContext(Jw),n=m.useRef(null),a=Je(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Ue.div,{...e,ref:a})});eb.displayName=MP;function FP(e,t=globalThis==null?void 0:globalThis.document){const r=qt(e),n=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let c=function(){tb(DP,r,d,{discrete:!0})};const d={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function OP(e,t=globalThis==null?void 0:globalThis.document){const r=qt(e),n=m.useRef(!1);return m.useEffect(()=>{const a=i=>{i.target&&!n.current&&tb(RP,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Wy(){const e=new CustomEvent(Lf);document.dispatchEvent(e)}function tb(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Xw(a,i):a.dispatchEvent(i)}var IP=Wl,LP=eb,cs=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},$P="Portal",Ec=m.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[a,i]=m.useState(!1);cs(()=>i(!0),[]);const l=r||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return l?uT.createPortal(s.jsx(Ue.div,{...n,ref:t}),l):null});Ec.displayName=$P;function UP(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Ws=e=>{const{present:t,children:r}=e,n=zP(t),a=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=Je(n.ref,BP(a));return typeof r=="function"||n.isPresent?m.cloneElement(a,{ref:i}):null};Ws.displayName="Presence";function zP(e){const[t,r]=m.useState(),n=m.useRef({}),a=m.useRef(e),i=m.useRef("none"),l=e?"mounted":"unmounted",[o,c]=UP(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=md(n.current);i.current=o==="mounted"?d:"none"},[o]),cs(()=>{const d=n.current,u=a.current;if(u!==e){const x=i.current,y=md(d);e?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&x!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),cs(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=y=>{const g=md(n.current).includes(y.animationName);if(y.target===t&&g&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},x=y=>{y.target===t&&(i.current=md(n.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:m.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function md(e){return(e==null?void 0:e.animationName)||"none"}function BP(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function An({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=qP({defaultProp:t,onChange:r}),i=e!==void 0,l=i?e:n,o=qt(r),c=m.useCallback(d=>{if(i){const h=typeof d=="function"?d(e):d;h!==e&&o(h)}else a(d)},[i,e,a,o]);return[l,c]}function qP({defaultProp:e,onChange:t}){const r=m.useState(e),[n]=r,a=m.useRef(n),i=qt(t);return m.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var VP="VisuallyHidden",Ac=m.forwardRef((e,t)=>s.jsx(Ue.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Ac.displayName=VP;var WP=Ac,hp="ToastProvider",[fp,HP,KP]=mp("Toast"),[sb,qF]=ar("Toast",[KP]),[QP,Xu]=sb(hp),rb=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:l}=e,[o,c]=m.useState(null),[d,u]=m.useState(0),h=m.useRef(!1),x=m.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${hp}\`. Expected non-empty \`string\`.`),s.jsx(fp.Provider,{scope:t,children:s.jsx(QP,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:o,onViewportChange:c,onToastAdd:m.useCallback(()=>u(y=>y+1),[]),onToastRemove:m.useCallback(()=>u(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:x,children:l})})};rb.displayName=hp;var nb="ToastViewport",GP=["F8"],$f="toast.viewportPause",Uf="toast.viewportResume",ab=m.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=GP,label:a="Notifications ({hotkey})",...i}=e,l=Xu(nb,r),o=HP(r),c=m.useRef(null),d=m.useRef(null),u=m.useRef(null),h=m.useRef(null),x=Je(t,h,l.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=l.toastCount>0;m.useEffect(()=>{const w=p=>{var j;n.length!==0&&n.every(b=>p[b]||p.code===b)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),m.useEffect(()=>{const w=c.current,p=h.current;if(v&&w&&p){const f=()=>{if(!l.isClosePausedRef.current){const S=new CustomEvent($f);p.dispatchEvent(S),l.isClosePausedRef.current=!0}},j=()=>{if(l.isClosePausedRef.current){const S=new CustomEvent(Uf);p.dispatchEvent(S),l.isClosePausedRef.current=!1}},b=S=>{!w.contains(S.relatedTarget)&&j()},k=()=>{w.contains(document.activeElement)||j()};return w.addEventListener("focusin",f),w.addEventListener("focusout",b),w.addEventListener("pointermove",f),w.addEventListener("pointerleave",k),window.addEventListener("blur",f),window.addEventListener("focus",j),()=>{w.removeEventListener("focusin",f),w.removeEventListener("focusout",b),w.removeEventListener("pointermove",f),w.removeEventListener("pointerleave",k),window.removeEventListener("blur",f),window.removeEventListener("focus",j)}}},[v,l.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:w})=>{const f=o().map(j=>{const b=j.ref.current,k=[b,...o4(b)];return w==="forwards"?k:k.reverse()});return(w==="forwards"?f.reverse():f).flat()},[o]);return m.useEffect(()=>{const w=h.current;if(w){const p=f=>{var k,S,C;const j=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!j){const P=document.activeElement,N=f.shiftKey;if(f.target===w&&N){(k=d.current)==null||k.focus();return}const M=g({tabbingDirection:N?"backwards":"forwards"}),H=M.findIndex(B=>B===P);oh(M.slice(H+1))?f.preventDefault():N?(S=d.current)==null||S.focus():(C=u.current)==null||C.focus()}};return w.addEventListener("keydown",p),()=>w.removeEventListener("keydown",p)}},[o,g]),s.jsxs(LP,{ref:c,role:"region","aria-label":a.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&s.jsx(zf,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});oh(w)}}),s.jsx(fp.Slot,{scope:r,children:s.jsx(Ue.ol,{tabIndex:-1,...i,ref:x})}),v&&s.jsx(zf,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});oh(w)}})]})});ab.displayName=nb;var ib="ToastFocusProxy",zf=m.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Xu(ib,r);return s.jsx(Ac,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:l=>{var d;const o=l.relatedTarget;!((d=i.viewport)!=null&&d.contains(o))&&n()}})});zf.displayName=ib;var Ju="Toast",YP="toast.swipeStart",ZP="toast.swipeMove",XP="toast.swipeCancel",JP="toast.swipeEnd",lb=m.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...l}=e,[o=!0,c]=An({prop:n,defaultProp:a,onChange:i});return s.jsx(Ws,{present:r||o,children:s.jsx(s4,{open:o,...l,ref:t,onClose:()=>c(!1),onPause:qt(e.onPause),onResume:qt(e.onResume),onSwipeStart:_e(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_e(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:_e(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_e(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});lb.displayName=Ju;var[e4,t4]=sb(Ju,{onClose(){}}),s4=m.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:l,onEscapeKeyDown:o,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:x,onSwipeEnd:y,...v}=e,g=Xu(Ju,r),[w,p]=m.useState(null),f=Je(t,B=>p(B)),j=m.useRef(null),b=m.useRef(null),k=a||g.duration,S=m.useRef(0),C=m.useRef(k),P=m.useRef(0),{onToastAdd:N,onToastRemove:O}=g,D=qt(()=>{var Q;(w==null?void 0:w.contains(document.activeElement))&&((Q=g.viewport)==null||Q.focus()),l()}),M=m.useCallback(B=>{!B||B===1/0||(window.clearTimeout(P.current),S.current=new Date().getTime(),P.current=window.setTimeout(D,B))},[D]);m.useEffect(()=>{const B=g.viewport;if(B){const Q=()=>{M(C.current),d==null||d()},se=()=>{const A=new Date().getTime()-S.current;C.current=C.current-A,window.clearTimeout(P.current),c==null||c()};return B.addEventListener($f,se),B.addEventListener(Uf,Q),()=>{B.removeEventListener($f,se),B.removeEventListener(Uf,Q)}}},[g.viewport,k,c,d,M]),m.useEffect(()=>{i&&!g.isClosePausedRef.current&&M(k)},[i,k,g.isClosePausedRef,M]),m.useEffect(()=>(N(),()=>O()),[N,O]);const H=m.useMemo(()=>w?fb(w):null,[w]);return g.viewport?s.jsxs(s.Fragment,{children:[H&&s.jsx(r4,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),s.jsx(e4,{scope:r,onClose:D,children:Ni.createPortal(s.jsx(fp.ItemSlot,{scope:r,children:s.jsx(IP,{asChild:!0,onEscapeKeyDown:_e(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||D(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:_e(e.onKeyDown,B=>{B.key==="Escape"&&(o==null||o(B.nativeEvent),B.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:_e(e.onPointerDown,B=>{B.button===0&&(j.current={x:B.clientX,y:B.clientY})}),onPointerMove:_e(e.onPointerMove,B=>{if(!j.current)return;const Q=B.clientX-j.current.x,se=B.clientY-j.current.y,A=!!b.current,F=["left","right"].includes(g.swipeDirection),U=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Z=F?U(0,Q):0,q=F?0:U(0,se),K=B.pointerType==="touch"?10:2,I={x:Z,y:q},z={originalEvent:B,delta:I};A?(b.current=I,hd(ZP,h,z,{discrete:!1})):Hy(I,g.swipeDirection,K)?(b.current=I,hd(YP,u,z,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(Q)>K||Math.abs(se)>K)&&(j.current=null)}),onPointerUp:_e(e.onPointerUp,B=>{const Q=b.current,se=B.target;if(se.hasPointerCapture(B.pointerId)&&se.releasePointerCapture(B.pointerId),b.current=null,j.current=null,Q){const A=B.currentTarget,F={originalEvent:B,delta:Q};Hy(Q,g.swipeDirection,g.swipeThreshold)?hd(JP,y,F,{discrete:!0}):hd(XP,x,F,{discrete:!0}),A.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),r4=e=>{const{__scopeToast:t,children:r,...n}=e,a=Xu(Ju,t),[i,l]=m.useState(!1),[o,c]=m.useState(!1);return i4(()=>l(!0)),m.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),o?null:s.jsx(Ec,{asChild:!0,children:s.jsx(Ac,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},n4="ToastTitle",ob=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ue.div,{...n,ref:t})});ob.displayName=n4;var a4="ToastDescription",cb=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ue.div,{...n,ref:t})});cb.displayName=a4;var db="ToastAction",ub=m.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(hb,{altText:r,asChild:!0,children:s.jsx(xp,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${db}\`. Expected non-empty \`string\`.`),null)});ub.displayName=db;var mb="ToastClose",xp=m.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=t4(mb,r);return s.jsx(hb,{asChild:!0,children:s.jsx(Ue.button,{type:"button",...n,ref:t,onClick:_e(e.onClick,a.onClose)})})});xp.displayName=mb;var hb=m.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function fb(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),l4(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const l=n.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...fb(n))}}),t}function hd(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?Xw(a,i):a.dispatchEvent(i)}var Hy=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function i4(e=()=>{}){const t=qt(e);cs(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function l4(e){return e.nodeType===e.ELEMENT_NODE}function o4(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function oh(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var c4=rb,xb=ab,pb=lb,gb=ob,yb=cb,vb=ub,jb=xp;function wb(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=wb(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function bb(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=wb(e))&&(n&&(n+=" "),n+=t);return n}const Ky=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Qy=bb,Hl=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Qy(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,l=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],h=i==null?void 0:i[d];if(u===null)return null;const x=Ky(u)||Ky(h);return a[d][x]}),o=r&&Object.entries(r).reduce((d,u)=>{let[h,x]=u;return x===void 0||(d[h]=x),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:x,...y}=u;return Object.entries(y).every(v=>{let[g,w]=v;return Array.isArray(w)?w.includes({...i,...o}[g]):{...i,...o}[g]===w})?[...d,h,x]:d},[]);return Qy(e,l,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nb=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},c)=>m.createElement("svg",{ref:c,...u4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Nb("lucide",a),...o},[...l.map(([d,u])=>m.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const r=m.forwardRef(({className:n,...a},i)=>m.createElement(m4,{ref:i,iconNode:t,className:Nb(`lucide-${d4(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=me("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=me("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=me("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=me("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=me("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=me("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=me("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=me("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=me("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=me("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=me("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=me("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=me("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=me("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=me("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=me("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=me("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=me("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=me("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=me("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=me("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=me("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=me("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=me("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=me("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=me("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=me("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=me("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=me("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=me("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=me("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=me("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=me("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=me("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=me("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=me("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=me("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=me("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),bp="-",W4=e=>{const t=K4(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const o=l.split(bp);return o[0]===""&&o.length!==1&&o.shift(),Ab(o,t)||H4(l)},getConflictingClassGroupIds:(l,o)=>{const c=r[l]||[];return o&&n[l]?[...c,...n[l]]:c}}},Ab=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?Ab(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(bp);return(l=t.validators.find(({validator:o})=>o(i)))==null?void 0:l.classGroupId},Jy=/^\[(.+)\]$/,H4=e=>{if(Jy.test(e)){const t=Jy.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},K4=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return G4(Object.entries(e.classGroups),r).forEach(([i,l])=>{Vf(l,n,i,t)}),n},Vf=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:ev(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Q4(a)){Vf(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,l])=>{Vf(l,ev(t,i),r,n)})})},ev=(e,t)=>{let r=e;return t.split(bp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Q4=e=>e.isThemeGetter,G4=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,o])=>[t+l,o])):i);return[r,a]}):e,Y4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,l)=>{r.set(i,l),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let l=r.get(i);if(l!==void 0)return l;if((l=n.get(i))!==void 0)return a(i,l),l},set(i,l){r.has(i)?r.set(i,l):a(i,l)}}},_b="!",Z4=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,l=o=>{const c=[];let d=0,u=0,h;for(let w=0;w<o.length;w++){let p=o[w];if(d===0){if(p===a&&(n||o.slice(w,w+i)===t)){c.push(o.slice(u,w)),u=w+i;continue}if(p==="/"){h=w;continue}}p==="["?d++:p==="]"&&d--}const x=c.length===0?o:o.substring(u),y=x.startsWith(_b),v=y?x.substring(1):x,g=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:g}};return r?o=>r({className:o,parseClassName:l}):l},X4=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},J4=e=>({cache:Y4(e.cacheSize),parseClassName:Z4(e),...W4(e)}),eE=/\s+/,tE=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],l=e.trim().split(eE);let o="";for(let c=l.length-1;c>=0;c-=1){const d=l[c],{modifiers:u,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:y}=r(d);let v=!!y,g=n(v?x.substring(0,y):x);if(!g){if(!v){o=d+(o.length>0?" "+o:o);continue}if(g=n(x),!g){o=d+(o.length>0?" "+o:o);continue}v=!1}const w=X4(u).join(":"),p=h?w+_b:w,f=p+g;if(i.includes(f))continue;i.push(f);const j=a(g,v);for(let b=0;b<j.length;++b){const k=j[b];i.push(p+k)}o=d+(o.length>0?" "+o:o)}return o};function sE(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Db(t))&&(n&&(n+=" "),n+=r);return n}const Db=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Db(e[n]))&&(r&&(r+=" "),r+=t);return r};function rE(e,...t){let r,n,a,i=l;function l(c){const d=t.reduce((u,h)=>h(u),e());return r=J4(d),n=r.cache.get,a=r.cache.set,i=o,o(c)}function o(c){const d=n(c);if(d)return d;const u=tE(c,r);return a(c,u),u}return function(){return i(sE.apply(null,arguments))}}const kt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Rb=/^\[(?:([a-z-]+):)?(.+)\]$/i,nE=/^\d+\/\d+$/,aE=new Set(["px","full","screen"]),iE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,un=e=>nl(e)||aE.has(e)||nE.test(e),zn=e=>Ql(e,"length",yE),nl=e=>!!e&&!Number.isNaN(Number(e)),mh=e=>Ql(e,"number",nl),co=e=>!!e&&Number.isInteger(Number(e)),uE=e=>e.endsWith("%")&&nl(e.slice(0,-1)),Ge=e=>Rb.test(e),Bn=e=>iE.test(e),mE=new Set(["length","size","percentage"]),hE=e=>Ql(e,mE,Mb),fE=e=>Ql(e,"position",Mb),xE=new Set(["image","url"]),pE=e=>Ql(e,xE,jE),gE=e=>Ql(e,"",vE),uo=()=>!0,Ql=(e,t,r)=>{const n=Rb.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},yE=e=>lE.test(e)&&!oE.test(e),Mb=()=>!1,vE=e=>cE.test(e),jE=e=>dE.test(e),wE=()=>{const e=kt("colors"),t=kt("spacing"),r=kt("blur"),n=kt("brightness"),a=kt("borderColor"),i=kt("borderRadius"),l=kt("borderSpacing"),o=kt("borderWidth"),c=kt("contrast"),d=kt("grayscale"),u=kt("hueRotate"),h=kt("invert"),x=kt("gap"),y=kt("gradientColorStops"),v=kt("gradientColorStopPositions"),g=kt("inset"),w=kt("margin"),p=kt("opacity"),f=kt("padding"),j=kt("saturate"),b=kt("scale"),k=kt("sepia"),S=kt("skew"),C=kt("space"),P=kt("translate"),N=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Ge,t],M=()=>[Ge,t],H=()=>["",un,zn],B=()=>["auto",nl,Ge],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],se=()=>["solid","dashed","dotted","double","none"],A=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Ge],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[nl,Ge];return{cacheSize:500,separator:":",theme:{colors:[uo],spacing:[un,zn],blur:["none","",Bn,Ge],brightness:q(),borderColor:[e],borderRadius:["none","","full",Bn,Ge],borderSpacing:M(),borderWidth:H(),contrast:q(),grayscale:U(),hueRotate:q(),invert:U(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[uE,zn],inset:D(),margin:D(),opacity:q(),padding:M(),saturate:q(),scale:q(),sepia:U(),skew:q(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[Bn]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),Ge]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",co,Ge]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",co,Ge]}],"grid-cols":[{"grid-cols":[uo]}],"col-start-end":[{col:["auto",{span:["full",co,Ge]},Ge]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[uo]}],"row-start-end":[{row:["auto",{span:[co,Ge]},Ge]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,t]}],"min-w":[{"min-w":[Ge,t,"min","max","fit"]}],"max-w":[{"max-w":[Ge,t,"none","full","min","max","fit","prose",{screen:[Bn]},Bn]}],h:[{h:[Ge,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Bn,zn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mh]}],"font-family":[{font:[uo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",nl,mh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",un,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",un,zn]}],"underline-offset":[{"underline-offset":["auto",un,Ge]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),fE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pE]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...se(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:se()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...se()]}],"outline-offset":[{"outline-offset":[un,Ge]}],"outline-w":[{outline:[un,zn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[un,zn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Bn,gE]}],"shadow-color":[{shadow:[uo]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...A(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":A()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Bn,Ge]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[co,Ge]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[un,zn,mh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bE=rE(wE);function Se(...e){return bE(bb(e))}const NE=c4,Fb=m.forwardRef(({className:e,...t},r)=>s.jsx(xb,{ref:r,className:Se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Fb.displayName=xb.displayName;const SE=Hl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ob=m.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(pb,{ref:n,className:Se(SE({variant:t}),e),...r}));Ob.displayName=pb.displayName;const kE=m.forwardRef(({className:e,...t},r)=>s.jsx(vb,{ref:r,className:Se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));kE.displayName=vb.displayName;const Ib=m.forwardRef(({className:e,...t},r)=>s.jsx(jb,{ref:r,className:Se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(In,{className:"h-4 w-4"})}));Ib.displayName=jb.displayName;const Lb=m.forwardRef(({className:e,...t},r)=>s.jsx(gb,{ref:r,className:Se("text-sm font-semibold",e),...t}));Lb.displayName=gb.displayName;const $b=m.forwardRef(({className:e,...t},r)=>s.jsx(yb,{ref:r,className:Se("text-sm opacity-90",e),...t}));$b.displayName=yb.displayName;function CE(){const{toasts:e}=at();return s.jsxs(NE,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(Ob,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(Lb,{children:r}),n&&s.jsx($b,{children:n})]}),a,s.jsx(Ib,{})]},t)}),s.jsx(Fb,{})]})}var TE=j0[" useId ".trim().toString()]||(()=>{}),PE=0;function Sn(e){const[t,r]=m.useState(TE());return cs(()=>{r(n=>n??String(PE++))},[e]),t?`radix-${t}`:""}const EE=["top","right","bottom","left"],wa=Math.min,Gs=Math.max,fu=Math.round,fd=Math.floor,en=e=>({x:e,y:e}),AE={left:"right",right:"left",bottom:"top",top:"bottom"},_E={start:"end",end:"start"};function Wf(e,t,r){return Gs(e,wa(t,r))}function Rn(e,t){return typeof e=="function"?e(t):e}function Mn(e){return e.split("-")[0]}function Gl(e){return e.split("-")[1]}function Np(e){return e==="x"?"y":"x"}function Sp(e){return e==="y"?"height":"width"}function ba(e){return["top","bottom"].includes(Mn(e))?"y":"x"}function kp(e){return Np(ba(e))}function DE(e,t,r){r===void 0&&(r=!1);const n=Gl(e),a=kp(e),i=Sp(a);let l=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=xu(l)),[l,xu(l)]}function RE(e){const t=xu(e);return[Hf(e),t,Hf(t)]}function Hf(e){return e.replace(/start|end/g,t=>_E[t])}function ME(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:l;default:return[]}}function FE(e,t,r,n){const a=Gl(e);let i=ME(Mn(e),r==="start",n);return a&&(i=i.map(l=>l+"-"+a),t&&(i=i.concat(i.map(Hf)))),i}function xu(e){return e.replace(/left|right|bottom|top/g,t=>AE[t])}function OE(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ub(e){return typeof e!="number"?OE(e):{top:e,right:e,bottom:e,left:e}}function pu(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function tv(e,t,r){let{reference:n,floating:a}=e;const i=ba(t),l=kp(t),o=Sp(l),c=Mn(t),d=i==="y",u=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,x=n[o]/2-a[o]/2;let y;switch(c){case"top":y={x:u,y:n.y-a.height};break;case"bottom":y={x:u,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:h};break;case"left":y={x:n.x-a.width,y:h};break;default:y={x:n.x,y:n.y}}switch(Gl(t)){case"start":y[l]-=x*(r&&d?-1:1);break;case"end":y[l]+=x*(r&&d?-1:1);break}return y}const IE=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:l}=r,o=i.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(t));let d=await l.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=tv(d,n,c),x=n,y={},v=0;for(let g=0;g<o.length;g++){const{name:w,fn:p}=o[g],{x:f,y:j,data:b,reset:k}=await p({x:u,y:h,initialPlacement:n,placement:x,strategy:a,middlewareData:y,rects:d,platform:l,elements:{reference:e,floating:t}});u=f??u,h=j??h,y={...y,[w]:{...y[w],...b}},k&&v<=50&&(v++,typeof k=="object"&&(k.placement&&(x=k.placement),k.rects&&(d=k.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:u,y:h}=tv(d,x,c)),g=-1)}return{x:u,y:h,placement:x,strategy:a,middlewareData:y}};async function rc(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:l,elements:o,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:x=!1,padding:y=0}=Rn(t,e),v=Ub(y),w=o[x?h==="floating"?"reference":"floating":h],p=pu(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:d,rootBoundary:u,strategy:c})),f=h==="floating"?{x:n,y:a,width:l.floating.width,height:l.floating.height}:l.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),b=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},k=pu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:f,offsetParent:j,strategy:c}):f);return{top:(p.top-k.top+v.top)/b.y,bottom:(k.bottom-p.bottom+v.bottom)/b.y,left:(p.left-k.left+v.left)/b.x,right:(k.right-p.right+v.right)/b.x}}const LE=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:l,elements:o,middlewareData:c}=t,{element:d,padding:u=0}=Rn(e,t)||{};if(d==null)return{};const h=Ub(u),x={x:r,y:n},y=kp(a),v=Sp(y),g=await l.getDimensions(d),w=y==="y",p=w?"top":"left",f=w?"bottom":"right",j=w?"clientHeight":"clientWidth",b=i.reference[v]+i.reference[y]-x[y]-i.floating[v],k=x[y]-i.reference[y],S=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let C=S?S[j]:0;(!C||!await(l.isElement==null?void 0:l.isElement(S)))&&(C=o.floating[j]||i.floating[v]);const P=b/2-k/2,N=C/2-g[v]/2-1,O=wa(h[p],N),D=wa(h[f],N),M=O,H=C-g[v]-D,B=C/2-g[v]/2+P,Q=Wf(M,B,H),se=!c.arrow&&Gl(a)!=null&&B!==Q&&i.reference[v]/2-(B<M?O:D)-g[v]/2<0,A=se?B<M?B-M:B-H:0;return{[y]:x[y]+A,data:{[y]:Q,centerOffset:B-Q-A,...se&&{alignmentOffset:A}},reset:se}}}),$E=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:l,initialPlacement:o,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:x,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...w}=Rn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const p=Mn(a),f=ba(o),j=Mn(o)===o,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=x||(j||!g?[xu(o)]:RE(o)),S=v!=="none";!x&&S&&k.push(...FE(o,g,v,b));const C=[o,...k],P=await rc(t,w),N=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&N.push(P[p]),h){const B=DE(a,l,b);N.push(P[B[0]],P[B[1]])}if(O=[...O,{placement:a,overflows:N}],!N.every(B=>B<=0)){var D,M;const B=(((D=i.flip)==null?void 0:D.index)||0)+1,Q=C[B];if(Q)return{data:{index:B,overflows:O},reset:{placement:Q}};let se=(M=O.filter(A=>A.overflows[0]<=0).sort((A,F)=>A.overflows[1]-F.overflows[1])[0])==null?void 0:M.placement;if(!se)switch(y){case"bestFit":{var H;const A=(H=O.filter(F=>{if(S){const U=ba(F.placement);return U===f||U==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(U=>U>0).reduce((U,Z)=>U+Z,0)]).sort((F,U)=>F[1]-U[1])[0])==null?void 0:H[0];A&&(se=A);break}case"initialPlacement":se=o;break}if(a!==se)return{reset:{placement:se}}}return{}}}};function sv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function rv(e){return EE.some(t=>e[t]>=0)}const UE=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Rn(e,t);switch(n){case"referenceHidden":{const i=await rc(t,{...a,elementContext:"reference"}),l=sv(i,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:rv(l)}}}case"escaped":{const i=await rc(t,{...a,altBoundary:!0}),l=sv(i,r.floating);return{data:{escapedOffsets:l,escaped:rv(l)}}}default:return{}}}}};async function zE(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),l=Mn(r),o=Gl(r),c=ba(r)==="y",d=["left","top"].includes(l)?-1:1,u=i&&c?-1:1,h=Rn(t,e);let{mainAxis:x,crossAxis:y,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof v=="number"&&(y=o==="end"?v*-1:v),c?{x:y*u,y:x*d}:{x:x*d,y:y*u}}const BE=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:l,middlewareData:o}=t,c=await zE(t,e);return l===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:l}}}}},qE=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:o={fn:w=>{let{x:p,y:f}=w;return{x:p,y:f}}},...c}=Rn(e,t),d={x:r,y:n},u=await rc(t,c),h=ba(Mn(a)),x=Np(h);let y=d[x],v=d[h];if(i){const w=x==="y"?"top":"left",p=x==="y"?"bottom":"right",f=y+u[w],j=y-u[p];y=Wf(f,y,j)}if(l){const w=h==="y"?"top":"left",p=h==="y"?"bottom":"right",f=v+u[w],j=v-u[p];v=Wf(f,v,j)}const g=o.fn({...t,[x]:y,[h]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[x]:i,[h]:l}}}}}},VE=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:l}=t,{offset:o=0,mainAxis:c=!0,crossAxis:d=!0}=Rn(e,t),u={x:r,y:n},h=ba(a),x=Np(h);let y=u[x],v=u[h];const g=Rn(o,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const j=x==="y"?"height":"width",b=i.reference[x]-i.floating[j]+w.mainAxis,k=i.reference[x]+i.reference[j]-w.mainAxis;y<b?y=b:y>k&&(y=k)}if(d){var p,f;const j=x==="y"?"width":"height",b=["top","left"].includes(Mn(a)),k=i.reference[h]-i.floating[j]+(b&&((p=l.offset)==null?void 0:p[h])||0)+(b?0:w.crossAxis),S=i.reference[h]+i.reference[j]+(b?0:((f=l.offset)==null?void 0:f[h])||0)-(b?w.crossAxis:0);v<k?v=k:v>S&&(v=S)}return{[x]:y,[h]:v}}}},WE=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:l,elements:o}=t,{apply:c=()=>{},...d}=Rn(e,t),u=await rc(t,d),h=Mn(a),x=Gl(a),y=ba(a)==="y",{width:v,height:g}=i.floating;let w,p;h==="top"||h==="bottom"?(w=h,p=x===(await(l.isRTL==null?void 0:l.isRTL(o.floating))?"start":"end")?"left":"right"):(p=h,w=x==="end"?"top":"bottom");const f=g-u.top-u.bottom,j=v-u.left-u.right,b=wa(g-u[w],f),k=wa(v-u[p],j),S=!t.middlewareData.shift;let C=b,P=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=j),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=f),S&&!x){const O=Gs(u.left,0),D=Gs(u.right,0),M=Gs(u.top,0),H=Gs(u.bottom,0);y?P=v-2*(O!==0||D!==0?O+D:Gs(u.left,u.right)):C=g-2*(M!==0||H!==0?M+H:Gs(u.top,u.bottom))}await c({...t,availableWidth:P,availableHeight:C});const N=await l.getDimensions(o.floating);return v!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function rm(){return typeof window<"u"}function Yl(e){return zb(e)?(e.nodeName||"").toLowerCase():"#document"}function Xs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function cn(e){var t;return(t=(zb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function zb(e){return rm()?e instanceof Node||e instanceof Xs(e).Node:!1}function Fr(e){return rm()?e instanceof Element||e instanceof Xs(e).Element:!1}function nn(e){return rm()?e instanceof HTMLElement||e instanceof Xs(e).HTMLElement:!1}function nv(e){return!rm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xs(e).ShadowRoot}function Dc(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Or(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function HE(e){return["table","td","th"].includes(Yl(e))}function nm(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Cp(e){const t=Tp(),r=Fr(e)?Or(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function KE(e){let t=Na(e);for(;nn(t)&&!_l(t);){if(Cp(t))return t;if(nm(t))return null;t=Na(t)}return null}function Tp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _l(e){return["html","body","#document"].includes(Yl(e))}function Or(e){return Xs(e).getComputedStyle(e)}function am(e){return Fr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Na(e){if(Yl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nv(e)&&e.host||cn(e);return nv(t)?t.host:t}function Bb(e){const t=Na(e);return _l(t)?e.ownerDocument?e.ownerDocument.body:e.body:nn(t)&&Dc(t)?t:Bb(t)}function nc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=Bb(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),l=Xs(a);if(i){const o=Kf(l);return t.concat(l,l.visualViewport||[],Dc(a)?a:[],o&&r?nc(o):[])}return t.concat(a,nc(a,[],r))}function Kf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function qb(e){const t=Or(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=nn(e),i=a?e.offsetWidth:r,l=a?e.offsetHeight:n,o=fu(r)!==i||fu(n)!==l;return o&&(r=i,n=l),{width:r,height:n,$:o}}function Pp(e){return Fr(e)?e:e.contextElement}function al(e){const t=Pp(e);if(!nn(t))return en(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=qb(t);let l=(i?fu(r.width):r.width)/n,o=(i?fu(r.height):r.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!o||!Number.isFinite(o))&&(o=1),{x:l,y:o}}const QE=en(0);function Vb(e){const t=Xs(e);return!Tp()||!t.visualViewport?QE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function GE(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Xs(e)?!1:t}function hi(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Pp(e);let l=en(1);t&&(n?Fr(n)&&(l=al(n)):l=al(e));const o=GE(i,r,n)?Vb(i):en(0);let c=(a.left+o.x)/l.x,d=(a.top+o.y)/l.y,u=a.width/l.x,h=a.height/l.y;if(i){const x=Xs(i),y=n&&Fr(n)?Xs(n):n;let v=x,g=Kf(v);for(;g&&n&&y!==v;){const w=al(g),p=g.getBoundingClientRect(),f=Or(g),j=p.left+(g.clientLeft+parseFloat(f.paddingLeft))*w.x,b=p.top+(g.clientTop+parseFloat(f.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,h*=w.y,c+=j,d+=b,v=Xs(g),g=Kf(v)}}return pu({width:u,height:h,x:c,y:d})}function Ep(e,t){const r=am(e).scrollLeft;return t?t.left+r:hi(cn(e)).left+r}function Wb(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:Ep(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function YE(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",l=cn(n),o=t?nm(t.floating):!1;if(n===l||o&&i)return r;let c={scrollLeft:0,scrollTop:0},d=en(1);const u=en(0),h=nn(n);if((h||!h&&!i)&&((Yl(n)!=="body"||Dc(l))&&(c=am(n)),nn(n))){const y=hi(n);d=al(n),u.x=y.x+n.clientLeft,u.y=y.y+n.clientTop}const x=l&&!h&&!i?Wb(l,c,!0):en(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+x.x,y:r.y*d.y-c.scrollTop*d.y+u.y+x.y}}function ZE(e){return Array.from(e.getClientRects())}function XE(e){const t=cn(e),r=am(e),n=e.ownerDocument.body,a=Gs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Gs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+Ep(e);const o=-r.scrollTop;return Or(n).direction==="rtl"&&(l+=Gs(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:l,y:o}}function JE(e,t){const r=Xs(e),n=cn(e),a=r.visualViewport;let i=n.clientWidth,l=n.clientHeight,o=0,c=0;if(a){i=a.width,l=a.height;const d=Tp();(!d||d&&t==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}return{width:i,height:l,x:o,y:c}}function eA(e,t){const r=hi(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=nn(e)?al(e):en(1),l=e.clientWidth*i.x,o=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:l,height:o,x:c,y:d}}function av(e,t,r){let n;if(t==="viewport")n=JE(e,r);else if(t==="document")n=XE(cn(e));else if(Fr(t))n=eA(t,r);else{const a=Vb(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return pu(n)}function Hb(e,t){const r=Na(e);return r===t||!Fr(r)||_l(r)?!1:Or(r).position==="fixed"||Hb(r,t)}function tA(e,t){const r=t.get(e);if(r)return r;let n=nc(e,[],!1).filter(o=>Fr(o)&&Yl(o)!=="body"),a=null;const i=Or(e).position==="fixed";let l=i?Na(e):e;for(;Fr(l)&&!_l(l);){const o=Or(l),c=Cp(l);!c&&o.position==="fixed"&&(a=null),(i?!c&&!a:!c&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Dc(l)&&!c&&Hb(e,l))?n=n.filter(u=>u!==l):a=o,l=Na(l)}return t.set(e,n),n}function sA(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const l=[...r==="clippingAncestors"?nm(t)?[]:tA(t,this._c):[].concat(r),n],o=l[0],c=l.reduce((d,u)=>{const h=av(t,u,a);return d.top=Gs(h.top,d.top),d.right=wa(h.right,d.right),d.bottom=wa(h.bottom,d.bottom),d.left=Gs(h.left,d.left),d},av(t,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function rA(e){const{width:t,height:r}=qb(e);return{width:t,height:r}}function nA(e,t,r){const n=nn(t),a=cn(t),i=r==="fixed",l=hi(e,!0,i,t);let o={scrollLeft:0,scrollTop:0};const c=en(0);if(n||!n&&!i)if((Yl(t)!=="body"||Dc(a))&&(o=am(t)),n){const x=hi(t,!0,i,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else a&&(c.x=Ep(a));const d=a&&!n&&!i?Wb(a,o):en(0),u=l.left+o.scrollLeft-c.x-d.x,h=l.top+o.scrollTop-c.y-d.y;return{x:u,y:h,width:l.width,height:l.height}}function hh(e){return Or(e).position==="static"}function iv(e,t){if(!nn(e)||Or(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return cn(e)===r&&(r=r.ownerDocument.body),r}function Kb(e,t){const r=Xs(e);if(nm(e))return r;if(!nn(e)){let a=Na(e);for(;a&&!_l(a);){if(Fr(a)&&!hh(a))return a;a=Na(a)}return r}let n=iv(e,t);for(;n&&HE(n)&&hh(n);)n=iv(n,t);return n&&_l(n)&&hh(n)&&!Cp(n)?r:n||KE(e)||r}const aA=async function(e){const t=this.getOffsetParent||Kb,r=this.getDimensions,n=await r(e.floating);return{reference:nA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function iA(e){return Or(e).direction==="rtl"}const lA={convertOffsetParentRelativeRectToViewportRelativeRect:YE,getDocumentElement:cn,getClippingRect:sA,getOffsetParent:Kb,getElementRects:aA,getClientRects:ZE,getDimensions:rA,getScale:al,isElement:Fr,isRTL:iA};function Qb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function oA(e,t){let r=null,n;const a=cn(e);function i(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function l(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:x,height:y}=d;if(o||t(),!x||!y)return;const v=fd(h),g=fd(a.clientWidth-(u+x)),w=fd(a.clientHeight-(h+y)),p=fd(u),j={rootMargin:-v+"px "+-g+"px "+-w+"px "+-p+"px",threshold:Gs(0,wa(1,c))||1};let b=!0;function k(S){const C=S[0].intersectionRatio;if(C!==c){if(!b)return l();C?l(!1,C):n=setTimeout(()=>{l(!1,1e-7)},1e3)}C===1&&!Qb(d,e.getBoundingClientRect())&&l(),b=!1}try{r=new IntersectionObserver(k,{...j,root:a.ownerDocument})}catch{r=new IntersectionObserver(k,j)}r.observe(e)}return l(!0),i}function cA(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=Pp(e),u=a||i?[...d?nc(d):[],...nc(t)]:[];u.forEach(p=>{a&&p.addEventListener("scroll",r,{passive:!0}),i&&p.addEventListener("resize",r)});const h=d&&o?oA(d,r):null;let x=-1,y=null;l&&(y=new ResizeObserver(p=>{let[f]=p;f&&f.target===d&&y&&(y.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var j;(j=y)==null||j.observe(t)})),r()}),d&&!c&&y.observe(d),y.observe(t));let v,g=c?hi(e):null;c&&w();function w(){const p=hi(e);g&&!Qb(g,p)&&r(),g=p,v=requestAnimationFrame(w)}return r(),()=>{var p;u.forEach(f=>{a&&f.removeEventListener("scroll",r),i&&f.removeEventListener("resize",r)}),h==null||h(),(p=y)==null||p.disconnect(),y=null,c&&cancelAnimationFrame(v)}}const dA=BE,uA=qE,mA=$E,hA=WE,fA=UE,lv=LE,xA=VE,pA=(e,t,r)=>{const n=new Map,a={platform:lA,...r},i={...a.platform,_c:n};return IE(e,t,{...a,platform:i})};var Id=typeof document<"u"?m.useLayoutEffect:m.useEffect;function gu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!gu(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!gu(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Gb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ov(e,t){const r=Gb(e);return Math.round(t*r)/r}function fh(e){const t=m.useRef(e);return Id(()=>{t.current=e}),t}function gA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:l}={},transform:o=!0,whileElementsMounted:c,open:d}=e,[u,h]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,y]=m.useState(n);gu(x,n)||y(n);const[v,g]=m.useState(null),[w,p]=m.useState(null),f=m.useCallback(F=>{F!==S.current&&(S.current=F,g(F))},[]),j=m.useCallback(F=>{F!==C.current&&(C.current=F,p(F))},[]),b=i||v,k=l||w,S=m.useRef(null),C=m.useRef(null),P=m.useRef(u),N=c!=null,O=fh(c),D=fh(a),M=fh(d),H=m.useCallback(()=>{if(!S.current||!C.current)return;const F={placement:t,strategy:r,middleware:x};D.current&&(F.platform=D.current),pA(S.current,C.current,F).then(U=>{const Z={...U,isPositioned:M.current!==!1};B.current&&!gu(P.current,Z)&&(P.current=Z,Ni.flushSync(()=>{h(Z)}))})},[x,t,r,D,M]);Id(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[d]);const B=m.useRef(!1);Id(()=>(B.current=!0,()=>{B.current=!1}),[]),Id(()=>{if(b&&(S.current=b),k&&(C.current=k),b&&k){if(O.current)return O.current(b,k,H);H()}},[b,k,H,O,N]);const Q=m.useMemo(()=>({reference:S,floating:C,setReference:f,setFloating:j}),[f,j]),se=m.useMemo(()=>({reference:b,floating:k}),[b,k]),A=m.useMemo(()=>{const F={position:r,left:0,top:0};if(!se.floating)return F;const U=ov(se.floating,u.x),Z=ov(se.floating,u.y);return o?{...F,transform:"translate("+U+"px, "+Z+"px)",...Gb(se.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:Z}},[r,o,se.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:H,refs:Q,elements:se,floatingStyles:A}),[u,H,Q,se,A])}const yA=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?lv({element:n.current,padding:a}).fn(r):{}:n?lv({element:n,padding:a}).fn(r):{}}}},vA=(e,t)=>({...dA(e),options:[e,t]}),jA=(e,t)=>({...uA(e),options:[e,t]}),wA=(e,t)=>({...xA(e),options:[e,t]}),bA=(e,t)=>({...mA(e),options:[e,t]}),NA=(e,t)=>({...hA(e),options:[e,t]}),SA=(e,t)=>({...fA(e),options:[e,t]}),kA=(e,t)=>({...yA(e),options:[e,t]});var CA="Arrow",Yb=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Ue.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});Yb.displayName=CA;var TA=Yb;function Ap(e){const[t,r]=m.useState(void 0);return cs(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let l,o;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;l=d.inlineSize,o=d.blockSize}else l=e.offsetWidth,o=e.offsetHeight;r({width:l,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var _p="Popper",[Zb,Zl]=ar(_p),[PA,Xb]=Zb(_p),Jb=e=>{const{__scopePopper:t,children:r}=e,[n,a]=m.useState(null);return s.jsx(PA,{scope:t,anchor:n,onAnchorChange:a,children:r})};Jb.displayName=_p;var eN="PopperAnchor",tN=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=Xb(eN,r),l=m.useRef(null),o=Je(t,l);return m.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:s.jsx(Ue.div,{...a,ref:o})});tN.displayName=eN;var Dp="PopperContent",[EA,AA]=Zb(Dp),sN=m.forwardRef((e,t)=>{var Y,pe,Le,Fe,ye,ke;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:l=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:x=!1,updatePositionStrategy:y="optimized",onPlaced:v,...g}=e,w=Xb(Dp,r),[p,f]=m.useState(null),j=Je(t,L=>f(L)),[b,k]=m.useState(null),S=Ap(b),C=(S==null?void 0:S.width)??0,P=(S==null?void 0:S.height)??0,N=n+(i!=="center"?"-"+i:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(d)?d:[d],M=D.length>0,H={padding:O,boundary:D.filter(DA),altBoundary:M},{refs:B,floatingStyles:Q,placement:se,isPositioned:A,middlewareData:F}=gA({strategy:"fixed",placement:N,whileElementsMounted:(...L)=>cA(...L,{animationFrame:y==="always"}),elements:{reference:w.anchor},middleware:[vA({mainAxis:a+P,alignmentAxis:l}),c&&jA({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?wA():void 0,...H}),c&&bA({...H}),NA({...H,apply:({elements:L,rects:ce,availableWidth:G,availableHeight:Oe})=>{const{width:Ve,height:Ke}=ce.reference,_=L.floating.style;_.setProperty("--radix-popper-available-width",`${G}px`),_.setProperty("--radix-popper-available-height",`${Oe}px`),_.setProperty("--radix-popper-anchor-width",`${Ve}px`),_.setProperty("--radix-popper-anchor-height",`${Ke}px`)}}),b&&kA({element:b,padding:o}),RA({arrowWidth:C,arrowHeight:P}),x&&SA({strategy:"referenceHidden",...H})]}),[U,Z]=aN(se),q=qt(v);cs(()=>{A&&(q==null||q())},[A,q]);const K=(Y=F.arrow)==null?void 0:Y.x,I=(pe=F.arrow)==null?void 0:pe.y,z=((Le=F.arrow)==null?void 0:Le.centerOffset)!==0,[ee,ge]=m.useState();return cs(()=>{p&&ge(window.getComputedStyle(p).zIndex)},[p]),s.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:A?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(Fe=F.transformOrigin)==null?void 0:Fe.x,(ye=F.transformOrigin)==null?void 0:ye.y].join(" "),...((ke=F.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(EA,{scope:r,placedSide:U,onArrowChange:k,arrowX:K,arrowY:I,shouldHideArrow:z,children:s.jsx(Ue.div,{"data-side":U,"data-align":Z,...g,ref:j,style:{...g.style,animation:A?void 0:"none"}})})})});sN.displayName=Dp;var rN="PopperArrow",_A={top:"bottom",right:"left",bottom:"top",left:"right"},nN=m.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=AA(rN,n),l=_A[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(TA,{...a,ref:r,style:{...a.style,display:"block"}})})});nN.displayName=rN;function DA(e){return e!==null}var RA=e=>({name:"transformOrigin",options:e,fn(t){var w,p,f;const{placement:r,rects:n,middlewareData:a}=t,l=((w=a.arrow)==null?void 0:w.centerOffset)!==0,o=l?0:e.arrowWidth,c=l?0:e.arrowHeight,[d,u]=aN(r),h={start:"0%",center:"50%",end:"100%"}[u],x=(((p=a.arrow)==null?void 0:p.x)??0)+o/2,y=(((f=a.arrow)==null?void 0:f.y)??0)+c/2;let v="",g="";return d==="bottom"?(v=l?h:`${x}px`,g=`${-c}px`):d==="top"?(v=l?h:`${x}px`,g=`${n.floating.height+c}px`):d==="right"?(v=`${-c}px`,g=l?h:`${y}px`):d==="left"&&(v=`${n.floating.width+c}px`,g=l?h:`${y}px`),{data:{x:v,y:g}}}});function aN(e){const[t,r="center"]=e.split("-");return[t,r]}var iN=Jb,im=tN,Rp=sN,Mp=nN,[lm,VF]=ar("Tooltip",[Zl]),Fp=Zl(),lN="TooltipProvider",MA=700,cv="tooltip.open",[FA,oN]=lm(lN),cN=e=>{const{__scopeTooltip:t,delayDuration:r=MA,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,l=m.useRef(!0),o=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(FA,{scope:t,isOpenDelayedRef:l,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:m.useCallback(d=>{o.current=d},[]),disableHoverableContent:a,children:i})};cN.displayName=lN;var dN="Tooltip",[WF,om]=lm(dN),Qf="TooltipTrigger",OA=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=om(Qf,r),i=oN(Qf,r),l=Fp(r),o=m.useRef(null),c=Je(t,o,a.onTriggerChange),d=m.useRef(!1),u=m.useRef(!1),h=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(im,{asChild:!0,...l,children:s.jsx(Ue.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:_e(e.onPointerMove,x=>{x.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:_e(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:_e(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:_e(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:_e(e.onBlur,a.onClose),onClick:_e(e.onClick,a.onClose)})})});OA.displayName=Qf;var IA="TooltipPortal",[HF,LA]=lm(IA,{forceMount:void 0}),Dl="TooltipContent",uN=m.forwardRef((e,t)=>{const r=LA(Dl,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,l=om(Dl,e.__scopeTooltip);return s.jsx(Ws,{present:n||l.open,children:l.disableHoverableContent?s.jsx(mN,{side:a,...i,ref:t}):s.jsx($A,{side:a,...i,ref:t})})}),$A=m.forwardRef((e,t)=>{const r=om(Dl,e.__scopeTooltip),n=oN(Dl,e.__scopeTooltip),a=m.useRef(null),i=Je(t,a),[l,o]=m.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:h}=n,x=m.useCallback(()=>{o(null),h(!1)},[h]),y=m.useCallback((v,g)=>{const w=v.currentTarget,p={x:v.clientX,y:v.clientY},f=VA(p,w.getBoundingClientRect()),j=WA(p,f),b=HA(g.getBoundingClientRect()),k=QA([...j,...b]);o(k),h(!0)},[h]);return m.useEffect(()=>()=>x(),[x]),m.useEffect(()=>{if(c&&u){const v=w=>y(w,u),g=w=>y(w,c);return c.addEventListener("pointerleave",v),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",g)}}},[c,u,y,x]),m.useEffect(()=>{if(l){const v=g=>{const w=g.target,p={x:g.clientX,y:g.clientY},f=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),j=!KA(p,l);f?x():j&&(x(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,u,l,d,x]),s.jsx(mN,{...e,ref:i})}),[UA,zA]=lm(dN,{isInside:!1}),BA=Zw("TooltipContent"),mN=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:l,...o}=e,c=om(Dl,r),d=Fp(r),{onClose:u}=c;return m.useEffect(()=>(document.addEventListener(cv,u),()=>document.removeEventListener(cv,u)),[u]),m.useEffect(()=>{if(c.trigger){const h=x=>{const y=x.target;y!=null&&y.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),s.jsx(Wl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:s.jsxs(Rp,{"data-state":c.stateAttribute,...d,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(BA,{children:n}),s.jsx(UA,{scope:r,isInside:!0,children:s.jsx(WP,{id:c.contentId,role:"tooltip",children:a||n})})]})})});uN.displayName=Dl;var hN="TooltipArrow",qA=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Fp(r);return zA(hN,r).isInside?null:s.jsx(Mp,{...a,...n,ref:t})});qA.displayName=hN;function VA(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function WA(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function HA(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function KA(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const o=t[i].x,c=t[i].y,d=t[l].x,u=t[l].y;c>n!=u>n&&r<(d-o)*(n-c)/(u-c)+o&&(a=!a)}return a}function QA(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),GA(t)}function GA(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(a.y-l.y)>=(i.y-l.y)*(a.x-l.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],l=r[r.length-2];if((i.x-l.x)*(a.y-l.y)>=(i.y-l.y)*(a.x-l.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var YA=cN,fN=uN;const ZA=YA,XA=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(fN,{ref:n,sideOffset:t,className:Se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));XA.displayName=fN.displayName;const xN=m.createContext({adminTimezone:"UTC",isLoading:!1}),JA=({children:e})=>{const{data:t,isLoading:r}=ae({queryKey:["/api/settings/public"],refetchInterval:3e4,staleTime:25e3,gcTime:6e4}),n=(t==null?void 0:t.adminTimezone)||(t==null?void 0:t.appTimezone)||"UTC";return s.jsx(xN.Provider,{value:{adminTimezone:n,isLoading:r},children:e})},e_=()=>m.useContext(xN);function ac({timezone:e="UTC",format:t="24",showIcon:r=!0,className:n="",label:a,showDate:i=!0,useAdminTimezone:l=!1}){const[o,c]=m.useState(""),{adminTimezone:d}=e_(),u=l?d:e,h=a||(l?d:e);return m.useEffect(()=>{const x=()=>{const v=new Date;let g="";if(u==="UTC"){const w=v.toISOString().slice(0,10),p=v.toISOString().slice(11,19);g=i?`${w} ${p}`:p}else{const w={timeZone:u,year:i?"numeric":void 0,month:i?"2-digit":void 0,day:i?"2-digit":void 0,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:t==="12"};g=v.toLocaleString("en-US",w)}c(g)};x();const y=setInterval(x,1e3);return()=>clearInterval(y)},[u,t,i]),s.jsxs("div",{className:`flex items-center space-x-2 ${n}`,children:[r&&s.jsx(gs,{className:"h-4 w-4 text-gray-500"}),s.jsxs("span",{className:"text-sm font-mono",children:[h,": ",o]})]})}const t_="/Alex1996admin",s_="/Alex1996employee",r_=["VITE_ADMIN_BASE_PATH","ADMIN_BASE_PATH","REACT_APP_ADMIN_BASE_PATH"],n_=["VITE_EMPLOYEE_BASE_PATH","EMPLOYEE_BASE_PATH","REACT_APP_EMPLOYEE_BASE_PATH"],pN=(e,t)=>{const r=typeof e=="string"?e.trim():"";let a=r.length>0?r.startsWith("/")?r:`/${r}`:t;for(;a.endsWith("/")&&a!=="/";)a=a.slice(0,-1);return a},a_={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var dv={};const i_=["__APP_CONFIG__","__ENV__"],l_=()=>{const e=[];if(e.push(a_),typeof globalThis<"u")for(const t of i_){const r=globalThis[t];r&&typeof r=="object"&&e.push(r)}return typeof process<"u"&&dv&&e.push(dv),e},gN=e=>{const t=l_();for(const r of t)for(const n of e){const a=r[n];if(typeof a=="string"&&a.trim().length>0)return a}},xs=pN(gN(r_),t_),Rl=pN(gN(n_),s_);function ds(){const[e,t]=m.useState(null),[r,n]=m.useState(!0);on();const a=Nt();m.useEffect(()=>{(async()=>{const u=localStorage.getItem("user");if(u)try{const h=JSON.parse(u),x=await fetch("/api/auth/me",{credentials:"include"});if(x.ok){const{user:y}=await x.json();t(y),localStorage.setItem("user",JSON.stringify(y))}else localStorage.removeItem("user"),t(null)}catch{localStorage.removeItem("user"),t(null)}else try{const h=await fetch("/api/auth/me",{credentials:"include"});if(h.ok){const{user:x}=await h.json();t(x),localStorage.setItem("user",JSON.stringify(x))}}catch{}n(!1)})()},[]);const i=Ee({mutationFn:async()=>{try{return await ve("/api/auth/logout",{method:"POST"})}catch{return console.log("Logout request failed, but continuing with client cleanup"),{message:"Logged out successfully"}}},onMutate:()=>{t(null),localStorage.removeItem("user")},onSettled:()=>{localStorage.clear(),sessionStorage.clear(),a.cancelQueries(),a.clear(),a.removeQueries({queryKey:["/api/auth/me"]}),console.log("Logout complete - all client state cleared");const d=window.location.pathname;let u="/auth";d.startsWith(xs)?u=xs:d.startsWith(Rl)&&(u=Rl),window.location.href=u}});return{user:e,isLoading:r,isAuthenticated:!!e,login:d=>{t(d),localStorage.setItem("user",JSON.stringify(d))},logout:()=>{if(i.isPending){console.log("Logout already in progress, ignoring request");return}i.mutate()},refreshAuth:async()=>{try{const d=await fetch("/api/auth/me",{credentials:"include"});if(d.ok){const{user:u}=await d.json();return console.log("refreshAuth success - setting user:",u),t(u),localStorage.setItem("user",JSON.stringify(u)),u}else return console.log("refreshAuth failed - response not ok:",d.status),localStorage.removeItem("user"),t(null),null}catch(d){return console.log("refreshAuth error:",d),localStorage.removeItem("user"),t(null),null}}}}const Op=Hl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),E=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const l=n?Gw:"button";return s.jsx(l,{className:Se(Op({variant:t,size:r,className:e})),ref:i,...a})});E.displayName="Button";const re=m.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));re.displayName="Input";var o_="Label",yN=m.forwardRef((e,t)=>s.jsx(Ue.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));yN.displayName=o_;var vN=yN;const c_=Hl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),W=m.forwardRef(({className:e,...t},r)=>s.jsx(vN,{ref:r,className:Se(c_(),e),...t}));W.displayName=vN.displayName;function Ip(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Lp="Checkbox",[d_,KF]=ar(Lp),[u_,m_]=d_(Lp),jN=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:l,disabled:o,value:c="on",onCheckedChange:d,form:u,...h}=e,[x,y]=m.useState(null),v=Je(t,b=>y(b)),g=m.useRef(!1),w=x?u||!!x.closest("form"):!0,[p=!1,f]=An({prop:a,defaultProp:i,onChange:d}),j=m.useRef(p);return m.useEffect(()=>{const b=x==null?void 0:x.form;if(b){const k=()=>f(j.current);return b.addEventListener("reset",k),()=>b.removeEventListener("reset",k)}},[x,f]),s.jsxs(u_,{scope:r,state:p,disabled:o,children:[s.jsx(Ue.button,{type:"button",role:"checkbox","aria-checked":ga(p)?"mixed":p,"aria-required":l,"data-state":NN(p),"data-disabled":o?"":void 0,disabled:o,value:c,...h,ref:v,onKeyDown:_e(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:_e(e.onClick,b=>{f(k=>ga(k)?!0:!k),w&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),w&&s.jsx(h_,{control:x,bubbles:!g.current,name:n,value:c,checked:p,required:l,disabled:o,form:u,style:{transform:"translateX(-100%)"},defaultChecked:ga(i)?!1:i})]})});jN.displayName=Lp;var wN="CheckboxIndicator",bN=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=m_(wN,r);return s.jsx(Ws,{present:n||ga(i.state)||i.state===!0,children:s.jsx(Ue.span,{"data-state":NN(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});bN.displayName=wN;var h_=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...i}=e,l=m.useRef(null),o=Ip(r),c=Ap(t);m.useEffect(()=>{const u=l.current,h=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(h,"checked").set;if(o!==r&&y){const v=new Event("click",{bubbles:n});u.indeterminate=ga(r),y.call(u,ga(r)?!1:r),u.dispatchEvent(v)}},[o,r,n]);const d=m.useRef(ga(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:l,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ga(e){return e==="indeterminate"}function NN(e){return ga(e)?"indeterminate":e?"checked":"unchecked"}var SN=jN,f_=bN;const kN=m.forwardRef(({className:e,...t},r)=>s.jsx(SN,{ref:r,className:Se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(f_,{className:Se("flex items-center justify-center text-current"),children:s.jsx(Kl,{className:"h-4 w-4"})})}));kN.displayName=SN.displayName;const J=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));J.displayName="Card";const fe=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Se("flex flex-col space-y-1.5 p-6",e),...t}));fe.displayName="CardHeader";const xe=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Se("text-2xl font-semibold leading-none tracking-tight",e),...t}));xe.displayName="CardTitle";const lt=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));lt.displayName="CardDescription";const te=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Se("p-6 pt-0",e),...t}));te.displayName="CardContent";const x_=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Se("flex items-center p-6 pt-0",e),...t}));x_.displayName="CardFooter";var Rc=e=>e.type==="checkbox",Ba=e=>e instanceof Date,Ts=e=>e==null;const CN=e=>typeof e=="object";var Vt=e=>!Ts(e)&&!Array.isArray(e)&&CN(e)&&!Ba(e),TN=e=>Vt(e)&&e.target?Rc(e.target)?e.target.checked:e.target.value:e,p_=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,PN=(e,t)=>e.has(p_(t)),g_=e=>{const t=e.constructor&&e.constructor.prototype;return Vt(t)&&t.hasOwnProperty("isPrototypeOf")},$p=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ss(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!($p&&(e instanceof Blob||n))&&(r||Vt(e)))if(t=r?[]:{},!r&&!g_(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ss(e[a]));else return e;return t}var cm=e=>Array.isArray(e)?e.filter(Boolean):[],zt=e=>e===void 0,we=(e,t,r)=>{if(!t||!Vt(e))return r;const n=cm(t.split(/[,[\].]+?/)).reduce((a,i)=>Ts(a)?a:a[i],e);return zt(n)||n===e?zt(e[t])?r:e[t]:n},Qs=e=>typeof e=="boolean",Up=e=>/^\w*$/.test(e),EN=e=>cm(e.replace(/["|']|\]/g,"").split(/\.|\[/)),it=(e,t,r)=>{let n=-1;const a=Up(t)?[t]:EN(t),i=a.length,l=i-1;for(;++n<i;){const o=a[n];let c=r;if(n!==l){const d=e[o];c=Vt(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const yu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Pr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},mn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},AN=We.createContext(null),dm=()=>We.useContext(AN),y_=e=>{const{children:t,...r}=e;return We.createElement(AN.Provider,{value:r},t)};var _N=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const l=i;return t._proxyFormState[l]!==Pr.all&&(t._proxyFormState[l]=!n||Pr.all),r&&(r[l]=!0),e[l]}});return a};function v_(e){const t=dm(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[l,o]=We.useState(r._formState),c=We.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=We.useRef(a);return d.current=a,We.useEffect(()=>r._subscribe({name:d.current,formState:c.current,exact:i,callback:u=>{!n&&o({...r._formState,...u})}}),[r,n,i]),We.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),We.useMemo(()=>_N(l,r,c.current,!1),[l,r])}var Zr=e=>typeof e=="string",DN=(e,t,r,n,a)=>Zr(e)?(n&&t.watch.add(e),we(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),we(r,i))):(n&&(t.watchAll=!0),r);function RN(e){const t=dm(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:l}=e||{},o=We.useRef(n),c=We.useRef(a);o.current=n,We.useEffect(()=>r._subscribe({name:o.current,formState:{values:!0},exact:l,callback:h=>!i&&u(DN(o.current,r._names,h.values||r._formValues,!1,c.current))}),[r,i,l]);const[d,u]=We.useState(r._getWatch(n,a));return We.useEffect(()=>r._removeUnmounted()),d}function j_(e){const t=dm(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i}=e,l=PN(a._names.array,r),o=RN({control:a,name:r,defaultValue:we(a._formValues,r,we(a._defaultValues,r,e.defaultValue)),exact:!0}),c=v_({control:a,name:r,exact:!0}),d=We.useRef(e),u=We.useRef(a.register(r,{...e.rules,value:o,...Qs(e.disabled)?{disabled:e.disabled}:{}})),h=We.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!we(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!we(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!we(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!we(c.validatingFields,r)},error:{enumerable:!0,get:()=>we(c.errors,r)}}),[c,r]),x=We.useCallback(w=>u.current.onChange({target:{value:TN(w),name:r},type:yu.CHANGE}),[r]),y=We.useCallback(()=>u.current.onBlur({target:{value:we(a._formValues,r),name:r},type:yu.BLUR}),[r,a._formValues]),v=We.useCallback(w=>{const p=we(a._fields,r);p&&w&&(p._f.ref={focus:()=>w.focus(),select:()=>w.select(),setCustomValidity:f=>w.setCustomValidity(f),reportValidity:()=>w.reportValidity()})},[a._fields,r]),g=We.useMemo(()=>({name:r,value:o,...Qs(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:x,onBlur:y,ref:v}),[r,n,c.disabled,x,y,v,o]);return We.useEffect(()=>{const w=a._options.shouldUnregister||i;a.register(r,{...d.current.rules,...Qs(d.current.disabled)?{disabled:d.current.disabled}:{}});const p=(f,j)=>{const b=we(a._fields,f);b&&b._f&&(b._f.mount=j)};if(p(r,!0),w){const f=ss(we(a._options.defaultValues,r));it(a._defaultValues,r,f),zt(we(a._formValues,r))&&it(a._formValues,r,f)}return!l&&a.register(r),()=>{(l?w&&!a._state.action:w)?a.unregister(r):p(r,!1)}},[r,a,l,i]),We.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),We.useMemo(()=>({field:g,formState:c,fieldState:h}),[g,c,h])}const w_=e=>e.render(j_(e));var MN=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Fo=e=>Array.isArray(e)?e:[e],uv=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Gf=e=>Ts(e)||!CN(e);function Yn(e,t){if(Gf(e)||Gf(t))return e===t;if(Ba(e)&&Ba(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Ba(i)&&Ba(l)||Vt(i)&&Vt(l)||Array.isArray(i)&&Array.isArray(l)?!Yn(i,l):i!==l)return!1}}return!0}var ks=e=>Vt(e)&&!Object.keys(e).length,zp=e=>e.type==="file",Er=e=>typeof e=="function",vu=e=>{if(!$p)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},FN=e=>e.type==="select-multiple",Bp=e=>e.type==="radio",b_=e=>Bp(e)||Rc(e),xh=e=>vu(e)&&e.isConnected;function N_(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=zt(e)?n++:e[t[n++]];return e}function S_(e){for(const t in e)if(e.hasOwnProperty(t)&&!zt(e[t]))return!1;return!0}function Qt(e,t){const r=Array.isArray(t)?t:Up(t)?[t]:EN(t),n=r.length===1?e:N_(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Vt(n)&&ks(n)||Array.isArray(n)&&S_(n))&&Qt(e,r.slice(0,-1)),e}var ON=e=>{for(const t in e)if(Er(e[t]))return!0;return!1};function ju(e,t={}){const r=Array.isArray(e);if(Vt(e)||r)for(const n in e)Array.isArray(e[n])||Vt(e[n])&&!ON(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ju(e[n],t[n])):Ts(e[n])||(t[n]=!0);return t}function IN(e,t,r){const n=Array.isArray(e);if(Vt(e)||n)for(const a in e)Array.isArray(e[a])||Vt(e[a])&&!ON(e[a])?zt(t)||Gf(r[a])?r[a]=Array.isArray(e[a])?ju(e[a],[]):{...ju(e[a])}:IN(e[a],Ts(t)?{}:t[a],r[a]):r[a]=!Yn(e[a],t[a]);return r}var mo=(e,t)=>IN(e,t,ju(t));const mv={value:!1,isValid:!1},hv={value:!0,isValid:!0};var LN=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!zt(e[0].attributes.value)?zt(e[0].value)||e[0].value===""?hv:{value:e[0].value,isValid:!0}:hv:mv}return mv},$N=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>zt(e)?e:t?e===""?NaN:e&&+e:r&&Zr(e)?new Date(e):n?n(e):e;const fv={isValid:!1,value:null};var UN=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,fv):fv;function xv(e){const t=e.ref;return zp(t)?t.files:Bp(t)?UN(e.refs).value:FN(t)?[...t.selectedOptions].map(({value:r})=>r):Rc(t)?LN(e.refs).value:$N(zt(t.value)?e.ref.value:t.value,e)}var k_=(e,t,r,n)=>{const a={};for(const i of e){const l=we(t,i);l&&it(a,i,l._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},wu=e=>e instanceof RegExp,ho=e=>zt(e)?e:wu(e)?e.source:Vt(e)?wu(e.value)?e.value.source:e.value:e,pv=e=>({isOnSubmit:!e||e===Pr.onSubmit,isOnBlur:e===Pr.onBlur,isOnChange:e===Pr.onChange,isOnAll:e===Pr.all,isOnTouch:e===Pr.onTouched});const gv="AsyncFunction";var C_=e=>!!e&&!!e.validate&&!!(Er(e.validate)&&e.validate.constructor.name===gv||Vt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===gv)),T_=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),yv=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Oo=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=we(e,a);if(i){const{_f:l,...o}=i;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],a)&&!n)return!0;if(l.ref&&t(l.ref,l.name)&&!n)return!0;if(Oo(o,t))break}else if(Vt(o)&&Oo(o,t))break}}};function vv(e,t,r){const n=we(e,r);if(n||Up(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),l=we(t,i),o=we(e,i);if(l&&!Array.isArray(l)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};a.pop()}return{name:r}}var P_=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return ks(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(l=>t[l]===(!n||Pr.all))},E_=(e,t,r)=>!e||!t||e===t||Fo(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),A_=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,__=(e,t)=>!cm(we(e,t)).length&&Qt(e,t),D_=(e,t,r)=>{const n=Fo(we(e,r));return it(n,"root",t[r]),it(e,r,n),e},Ld=e=>Zr(e);function jv(e,t,r="validate"){if(Ld(e)||Array.isArray(e)&&e.every(Ld)||Qs(e)&&!e)return{type:r,message:Ld(e)?e:"",ref:t}}var Ei=e=>Vt(e)&&!wu(e)?e:{value:e,message:""},wv=async(e,t,r,n,a,i)=>{const{ref:l,refs:o,required:c,maxLength:d,minLength:u,min:h,max:x,pattern:y,validate:v,name:g,valueAsNumber:w,mount:p}=e._f,f=we(r,g);if(!p||t.has(g))return{};const j=o?o[0]:l,b=M=>{a&&j.reportValidity&&(j.setCustomValidity(Qs(M)?"":M||""),j.reportValidity())},k={},S=Bp(l),C=Rc(l),P=S||C,N=(w||zp(l))&&zt(l.value)&&zt(f)||vu(l)&&l.value===""||f===""||Array.isArray(f)&&!f.length,O=MN.bind(null,g,n,k),D=(M,H,B,Q=mn.maxLength,se=mn.minLength)=>{const A=M?H:B;k[g]={type:M?Q:se,message:A,ref:l,...O(M?Q:se,A)}};if(i?!Array.isArray(f)||!f.length:c&&(!P&&(N||Ts(f))||Qs(f)&&!f||C&&!LN(o).isValid||S&&!UN(o).isValid)){const{value:M,message:H}=Ld(c)?{value:!!c,message:c}:Ei(c);if(M&&(k[g]={type:mn.required,message:H,ref:j,...O(mn.required,H)},!n))return b(H),k}if(!N&&(!Ts(h)||!Ts(x))){let M,H;const B=Ei(x),Q=Ei(h);if(!Ts(f)&&!isNaN(f)){const se=l.valueAsNumber||f&&+f;Ts(B.value)||(M=se>B.value),Ts(Q.value)||(H=se<Q.value)}else{const se=l.valueAsDate||new Date(f),A=Z=>new Date(new Date().toDateString()+" "+Z),F=l.type=="time",U=l.type=="week";Zr(B.value)&&f&&(M=F?A(f)>A(B.value):U?f>B.value:se>new Date(B.value)),Zr(Q.value)&&f&&(H=F?A(f)<A(Q.value):U?f<Q.value:se<new Date(Q.value))}if((M||H)&&(D(!!M,B.message,Q.message,mn.max,mn.min),!n))return b(k[g].message),k}if((d||u)&&!N&&(Zr(f)||i&&Array.isArray(f))){const M=Ei(d),H=Ei(u),B=!Ts(M.value)&&f.length>+M.value,Q=!Ts(H.value)&&f.length<+H.value;if((B||Q)&&(D(B,M.message,H.message),!n))return b(k[g].message),k}if(y&&!N&&Zr(f)){const{value:M,message:H}=Ei(y);if(wu(M)&&!f.match(M)&&(k[g]={type:mn.pattern,message:H,ref:l,...O(mn.pattern,H)},!n))return b(H),k}if(v){if(Er(v)){const M=await v(f,r),H=jv(M,j);if(H&&(k[g]={...H,...O(mn.validate,H.message)},!n))return b(H.message),k}else if(Vt(v)){let M={};for(const H in v){if(!ks(M)&&!n)break;const B=jv(await v[H](f,r),j,H);B&&(M={...B,...O(H,B.message)},b(B.message),n&&(k[g]=M))}if(!ks(M)&&(k[g]={ref:j,...M},!n))return k}}return b(!0),k};const R_={mode:Pr.onSubmit,reValidateMode:Pr.onChange,shouldFocusError:!0};function M_(e={}){let t={...R_,...e},r={submitCount:0,isDirty:!1,isLoading:Er(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=Vt(t.defaultValues)||Vt(t.values)?ss(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:ss(a),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const x={array:uv(),state:uv()},y=pv(t.mode),v=pv(t.reValidateMode),g=t.criteriaMode===Pr.all,w=T=>$=>{clearTimeout(d),d=setTimeout(T,$)},p=async T=>{if(!t.disabled&&(u.isValid||h.isValid||T)){const $=t.resolver?ks((await N()).errors):await D(n,!0);$!==r.isValid&&x.state.next({isValid:$})}},f=(T,$)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((T||Array.from(o.mount)).forEach(V=>{V&&($?it(r.validatingFields,V,$):Qt(r.validatingFields,V))}),x.state.next({validatingFields:r.validatingFields,isValidating:!ks(r.validatingFields)}))},j=(T,$=[],V,ue,oe=!0,X=!0)=>{if(ue&&V&&!t.disabled){if(l.action=!0,X&&Array.isArray(we(n,T))){const De=V(we(n,T),ue.argA,ue.argB);oe&&it(n,T,De)}if(X&&Array.isArray(we(r.errors,T))){const De=V(we(r.errors,T),ue.argA,ue.argB);oe&&it(r.errors,T,De),__(r.errors,T)}if((u.touchedFields||h.touchedFields)&&X&&Array.isArray(we(r.touchedFields,T))){const De=V(we(r.touchedFields,T),ue.argA,ue.argB);oe&&it(r.touchedFields,T,De)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=mo(a,i)),x.state.next({name:T,isDirty:H(T,$),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else it(i,T,$)},b=(T,$)=>{it(r.errors,T,$),x.state.next({errors:r.errors})},k=T=>{r.errors=T,x.state.next({errors:r.errors,isValid:!1})},S=(T,$,V,ue)=>{const oe=we(n,T);if(oe){const X=we(i,T,zt(V)?we(a,T):V);zt(X)||ue&&ue.defaultChecked||$?it(i,T,$?X:xv(oe._f)):se(T,X),l.mount&&p()}},C=(T,$,V,ue,oe)=>{let X=!1,De=!1;const tt={name:T};if(!t.disabled){if(!V||ue){(u.isDirty||h.isDirty)&&(De=r.isDirty,r.isDirty=tt.isDirty=H(),X=De!==tt.isDirty);const Dt=Yn(we(a,T),$);De=!!we(r.dirtyFields,T),Dt?Qt(r.dirtyFields,T):it(r.dirtyFields,T,!0),tt.dirtyFields=r.dirtyFields,X=X||(u.dirtyFields||h.dirtyFields)&&De!==!Dt}if(V){const Dt=we(r.touchedFields,T);Dt||(it(r.touchedFields,T,V),tt.touchedFields=r.touchedFields,X=X||(u.touchedFields||h.touchedFields)&&Dt!==V)}X&&oe&&x.state.next(tt)}return X?tt:{}},P=(T,$,V,ue)=>{const oe=we(r.errors,T),X=(u.isValid||h.isValid)&&Qs($)&&r.isValid!==$;if(t.delayError&&V?(c=w(()=>b(T,V)),c(t.delayError)):(clearTimeout(d),c=null,V?it(r.errors,T,V):Qt(r.errors,T)),(V?!Yn(oe,V):oe)||!ks(ue)||X){const De={...ue,...X&&Qs($)?{isValid:$}:{},errors:r.errors,name:T};r={...r,...De},x.state.next(De)}},N=async T=>{f(T,!0);const $=await t.resolver(i,t.context,k_(T||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return f(T),$},O=async T=>{const{errors:$}=await N(T);if(T)for(const V of T){const ue=we($,V);ue?it(r.errors,V,ue):Qt(r.errors,V)}else r.errors=$;return $},D=async(T,$,V={valid:!0})=>{for(const ue in T){const oe=T[ue];if(oe){const{_f:X,...De}=oe;if(X){const tt=o.array.has(X.name),Dt=oe._f&&C_(oe._f);Dt&&u.validatingFields&&f([ue],!0);const Kt=await wv(oe,o.disabled,i,g,t.shouldUseNativeValidation&&!$,tt);if(Dt&&u.validatingFields&&f([ue]),Kt[X.name]&&(V.valid=!1,$))break;!$&&(we(Kt,X.name)?tt?D_(r.errors,Kt,X.name):it(r.errors,X.name,Kt[X.name]):Qt(r.errors,X.name))}!ks(De)&&await D(De,$,V)}}return V.valid},M=()=>{for(const T of o.unMount){const $=we(n,T);$&&($._f.refs?$._f.refs.every(V=>!xh(V)):!xh($._f.ref))&&Le(T)}o.unMount=new Set},H=(T,$)=>!t.disabled&&(T&&$&&it(i,T,$),!Yn(K(),a)),B=(T,$,V)=>DN(T,o,{...l.mount?i:zt($)?a:Zr(T)?{[T]:$}:$},V,$),Q=T=>cm(we(l.mount?i:a,T,t.shouldUnregister?we(a,T,[]):[])),se=(T,$,V={})=>{const ue=we(n,T);let oe=$;if(ue){const X=ue._f;X&&(!X.disabled&&it(i,T,$N($,X)),oe=vu(X.ref)&&Ts($)?"":$,FN(X.ref)?[...X.ref.options].forEach(De=>De.selected=oe.includes(De.value)):X.refs?Rc(X.ref)?X.refs.length>1?X.refs.forEach(De=>(!De.defaultChecked||!De.disabled)&&(De.checked=Array.isArray(oe)?!!oe.find(tt=>tt===De.value):oe===De.value)):X.refs[0]&&(X.refs[0].checked=!!oe):X.refs.forEach(De=>De.checked=De.value===oe):zp(X.ref)?X.ref.value="":(X.ref.value=oe,X.ref.type||x.state.next({name:T,values:ss(i)})))}(V.shouldDirty||V.shouldTouch)&&C(T,oe,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&q(T)},A=(T,$,V)=>{for(const ue in $){const oe=$[ue],X=`${T}.${ue}`,De=we(n,X);(o.array.has(T)||Vt(oe)||De&&!De._f)&&!Ba(oe)?A(X,oe,V):se(X,oe,V)}},F=(T,$,V={})=>{const ue=we(n,T),oe=o.array.has(T),X=ss($);it(i,T,X),oe?(x.array.next({name:T,values:ss(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&V.shouldDirty&&x.state.next({name:T,dirtyFields:mo(a,i),isDirty:H(T,X)})):ue&&!ue._f&&!Ts(X)?A(T,X,V):se(T,X,V),yv(T,o)&&x.state.next({...r}),x.state.next({name:l.mount?T:void 0,values:ss(i)})},U=async T=>{l.mount=!0;const $=T.target;let V=$.name,ue=!0;const oe=we(n,V),X=De=>{ue=Number.isNaN(De)||Ba(De)&&isNaN(De.getTime())||Yn(De,we(i,V,De))};if(oe){let De,tt;const Dt=$.type?xv(oe._f):TN(T),Kt=T.type===yu.BLUR||T.type===yu.FOCUS_OUT,qc=!T_(oe._f)&&!t.resolver&&!we(r.errors,V)&&!oe._f.deps||A_(Kt,we(r.touchedFields,V),r.isSubmitted,v,y),ki=yv(V,o,Kt);it(i,V,Dt),Kt?(oe._f.onBlur&&oe._f.onBlur(T),c&&c(0)):oe._f.onChange&&oe._f.onChange(T);const Ci=C(V,Dt,Kt),Vc=!ks(Ci)||ki;if(!Kt&&x.state.next({name:V,type:T.type,values:ss(i)}),qc)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?Kt&&p():Kt||p()),Vc&&x.state.next({name:V,...ki?{}:Ci});if(!Kt&&ki&&x.state.next({...r}),t.resolver){const{errors:Jl}=await N([V]);if(X(Dt),ue){const Wc=vv(r.errors,n,V),eo=vv(Jl,n,Wc.name||V);De=eo.error,V=eo.name,tt=ks(Jl)}}else f([V],!0),De=(await wv(oe,o.disabled,i,g,t.shouldUseNativeValidation))[V],f([V]),X(Dt),ue&&(De?tt=!1:(u.isValid||h.isValid)&&(tt=await D(n,!0)));ue&&(oe._f.deps&&q(oe._f.deps),P(V,tt,De,Ci))}},Z=(T,$)=>{if(we(r.errors,$)&&T.focus)return T.focus(),1},q=async(T,$={})=>{let V,ue;const oe=Fo(T);if(t.resolver){const X=await O(zt(T)?T:oe);V=ks(X),ue=T?!oe.some(De=>we(X,De)):V}else T?(ue=(await Promise.all(oe.map(async X=>{const De=we(n,X);return await D(De&&De._f?{[X]:De}:De)}))).every(Boolean),!(!ue&&!r.isValid)&&p()):ue=V=await D(n);return x.state.next({...!Zr(T)||(u.isValid||h.isValid)&&V!==r.isValid?{}:{name:T},...t.resolver||!T?{isValid:V}:{},errors:r.errors}),$.shouldFocus&&!ue&&Oo(n,Z,T?oe:o.mount),ue},K=T=>{const $={...l.mount?i:a};return zt(T)?$:Zr(T)?we($,T):T.map(V=>we($,V))},I=(T,$)=>({invalid:!!we(($||r).errors,T),isDirty:!!we(($||r).dirtyFields,T),error:we(($||r).errors,T),isValidating:!!we(r.validatingFields,T),isTouched:!!we(($||r).touchedFields,T)}),z=T=>{T&&Fo(T).forEach($=>Qt(r.errors,$)),x.state.next({errors:T?r.errors:{}})},ee=(T,$,V)=>{const ue=(we(n,T,{_f:{}})._f||{}).ref,oe=we(r.errors,T)||{},{ref:X,message:De,type:tt,...Dt}=oe;it(r.errors,T,{...Dt,...$,ref:ue}),x.state.next({name:T,errors:r.errors,isValid:!1}),V&&V.shouldFocus&&ue&&ue.focus&&ue.focus()},ge=(T,$)=>Er(T)?x.state.subscribe({next:V=>T(B(void 0,$),V)}):B(T,$,!0),Y=T=>x.state.subscribe({next:$=>{E_(T.name,$.name,T.exact)&&P_($,T.formState||u,_,T.reRenderRoot)&&T.callback({values:{...i},...r,...$})}}).unsubscribe,pe=T=>(l.mount=!0,h={...h,...T.formState},Y({...T,formState:h})),Le=(T,$={})=>{for(const V of T?Fo(T):o.mount)o.mount.delete(V),o.array.delete(V),$.keepValue||(Qt(n,V),Qt(i,V)),!$.keepError&&Qt(r.errors,V),!$.keepDirty&&Qt(r.dirtyFields,V),!$.keepTouched&&Qt(r.touchedFields,V),!$.keepIsValidating&&Qt(r.validatingFields,V),!t.shouldUnregister&&!$.keepDefaultValue&&Qt(a,V);x.state.next({values:ss(i)}),x.state.next({...r,...$.keepDirty?{isDirty:H()}:{}}),!$.keepIsValid&&p()},Fe=({disabled:T,name:$})=>{(Qs(T)&&l.mount||T||o.disabled.has($))&&(T?o.disabled.add($):o.disabled.delete($))},ye=(T,$={})=>{let V=we(n,T);const ue=Qs($.disabled)||Qs(t.disabled);return it(n,T,{...V||{},_f:{...V&&V._f?V._f:{ref:{name:T}},name:T,mount:!0,...$}}),o.mount.add(T),V?Fe({disabled:Qs($.disabled)?$.disabled:t.disabled,name:T}):S(T,!0,$.value),{...ue?{disabled:$.disabled||t.disabled}:{},...t.progressive?{required:!!$.required,min:ho($.min),max:ho($.max),minLength:ho($.minLength),maxLength:ho($.maxLength),pattern:ho($.pattern)}:{},name:T,onChange:U,onBlur:U,ref:oe=>{if(oe){ye(T,$),V=we(n,T);const X=zt(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,De=b_(X),tt=V._f.refs||[];if(De?tt.find(Dt=>Dt===X):X===V._f.ref)return;it(n,T,{_f:{...V._f,...De?{refs:[...tt.filter(xh),X,...Array.isArray(we(a,T))?[{}]:[]],ref:{type:X.type,name:T}}:{ref:X}}}),S(T,!1,void 0,X)}else V=we(n,T,{}),V._f&&(V._f.mount=!1),(t.shouldUnregister||$.shouldUnregister)&&!(PN(o.array,T)&&l.action)&&o.unMount.add(T)}}},ke=()=>t.shouldFocusError&&Oo(n,Z,o.mount),L=T=>{Qs(T)&&(x.state.next({disabled:T}),Oo(n,($,V)=>{const ue=we(n,V);ue&&($.disabled=ue._f.disabled||T,Array.isArray(ue._f.refs)&&ue._f.refs.forEach(oe=>{oe.disabled=ue._f.disabled||T}))},0,!1))},ce=(T,$)=>async V=>{let ue;V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let oe=ss(i);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:X,values:De}=await N();r.errors=X,oe=De}else await D(n);if(o.disabled.size)for(const X of o.disabled)it(oe,X,void 0);if(Qt(r.errors,"root"),ks(r.errors)){x.state.next({errors:{}});try{await T(oe,V)}catch(X){ue=X}}else $&&await $({...r.errors},V),ke(),setTimeout(ke);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ks(r.errors)&&!ue,submitCount:r.submitCount+1,errors:r.errors}),ue)throw ue},G=(T,$={})=>{we(n,T)&&(zt($.defaultValue)?F(T,ss(we(a,T))):(F(T,$.defaultValue),it(a,T,ss($.defaultValue))),$.keepTouched||Qt(r.touchedFields,T),$.keepDirty||(Qt(r.dirtyFields,T),r.isDirty=$.defaultValue?H(T,ss(we(a,T))):H()),$.keepError||(Qt(r.errors,T),u.isValid&&p()),x.state.next({...r}))},Oe=(T,$={})=>{const V=T?ss(T):a,ue=ss(V),oe=ks(T),X=oe?a:ue;if($.keepDefaultValues||(a=V),!$.keepValues){if($.keepDirtyValues){const De=new Set([...o.mount,...Object.keys(mo(a,i))]);for(const tt of Array.from(De))we(r.dirtyFields,tt)?it(X,tt,we(i,tt)):F(tt,we(X,tt))}else{if($p&&zt(T))for(const De of o.mount){const tt=we(n,De);if(tt&&tt._f){const Dt=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(vu(Dt)){const Kt=Dt.closest("form");if(Kt){Kt.reset();break}}}}for(const De of o.mount)F(De,we(X,De))}i=ss(X),x.array.next({values:{...X}}),x.state.next({values:{...X}})}o={mount:$.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!$.keepIsValid||!!$.keepDirtyValues,l.watch=!!t.shouldUnregister,x.state.next({submitCount:$.keepSubmitCount?r.submitCount:0,isDirty:oe?!1:$.keepDirty?r.isDirty:!!($.keepDefaultValues&&!Yn(T,a)),isSubmitted:$.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:oe?{}:$.keepDirtyValues?$.keepDefaultValues&&i?mo(a,i):r.dirtyFields:$.keepDefaultValues&&T?mo(a,T):$.keepDirty?r.dirtyFields:{},touchedFields:$.keepTouched?r.touchedFields:{},errors:$.keepErrors?r.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ve=(T,$)=>Oe(Er(T)?T(i):T,$),Ke=(T,$={})=>{const V=we(n,T),ue=V&&V._f;if(ue){const oe=ue.refs?ue.refs[0]:ue.ref;oe.focus&&(oe.focus(),$.shouldSelect&&Er(oe.select)&&oe.select())}},_=T=>{r={...r,...T}},ie={control:{register:ye,unregister:Le,getFieldState:I,handleSubmit:ce,setError:ee,_subscribe:Y,_runSchema:N,_getWatch:B,_getDirty:H,_setValid:p,_setFieldArray:j,_setDisabledField:Fe,_setErrors:k,_getFieldArray:Q,_reset:Oe,_resetDefaultValues:()=>Er(t.defaultValues)&&t.defaultValues().then(T=>{Ve(T,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:L,_subjects:x,_proxyFormState:u,get _fields(){return n},get _formValues(){return i},get _state(){return l},set _state(T){l=T},get _defaultValues(){return a},get _names(){return o},set _names(T){o=T},get _formState(){return r},get _options(){return t},set _options(T){t={...t,...T}}},subscribe:pe,trigger:q,register:ye,handleSubmit:ce,watch:ge,setValue:F,getValues:K,reset:Ve,resetField:G,clearErrors:z,unregister:Le,setError:ee,setFocus:Ke,getFieldState:I};return{...ie,formControl:ie}}function qs(e={}){const t=We.useRef(void 0),r=We.useRef(void 0),[n,a]=We.useState({isDirty:!1,isValidating:!1,isLoading:Er(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Er(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:M_(e),formState:n},e.formControl&&e.defaultValues&&!Er(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,We.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),We.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),We.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==n.isDirty&&i._subjects.state.next({isDirty:l})}},[i,n.isDirty]),We.useEffect(()=>{e.values&&!Yn(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[e.values,i]),We.useEffect(()=>{e.errors&&!ks(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),We.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),We.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=_N(n,i),t.current}const bv=(e,t,r)=>{if(e&&"reportValidity"in e){const n=we(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},zN=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?bv(n.ref,r,e):n.refs&&n.refs.forEach(a=>bv(a,r,e))}},F_=(e,t)=>{t.shouldUseNativeValidation&&zN(e,t);const r={};for(const n in e){const a=we(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(O_(t.names||Object.keys(e),n)){const l=Object.assign({},we(r,n));it(l,"root",i),it(r,n,l)}else it(r,n,i)}return r},O_=(e,t)=>e.some(r=>r.startsWith(t+"."));var I_=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[l]={message:o.message,type:o.code}}else r[l]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return e.push(h)})}),t){var c=r[l].types,d=c&&c[n.code];r[l]=MN(l,t,r,a,d?[].concat(d,n.message):n.message)}e.shift()}return r},Vs=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(l,o){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(d){return i.shouldUseNativeValidation&&zN({},i),{errors:{},values:r.raw?n:d}})}catch(d){return o(d)}return c&&c.then?c.then(void 0,o):c}(0,function(l){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(l))return{values:{},errors:F_(I_(l.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw l}))}catch(l){return Promise.reject(l)}}},rt;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const l of a)i[l]=l;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),l={};for(const o of i)l[o]=a[o];return e.objectValues(l)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&i.push(l);return i},e.find=(a,i)=>{for(const l of a)if(i(l))return l},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(rt||(rt={}));var Yf;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Yf||(Yf={}));const Te=rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),yn=e=>{switch(typeof e){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return isNaN(e)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(e)?Te.array:e===null?Te.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Te.promise:typeof Map<"u"&&e instanceof Map?Te.map:typeof Set<"u"&&e instanceof Set?Te.set:typeof Date<"u"&&e instanceof Date?Te.date:Te.object;default:return Te.unknown}},ne=rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),L_=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Js extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let o=n,c=0;for(;c<l.path.length;){const d=l.path[c];c===l.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(r(l))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return a(this),n}static assert(t){if(!(t instanceof Js))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Js.create=e=>new Js(e);const Ml=(e,t)=>{let r;switch(e.code){case ne.invalid_type:e.received===Te.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ne.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,rt.jsonStringifyReplacer)}`;break;case ne.unrecognized_keys:r=`Unrecognized key(s) in object: ${rt.joinValues(e.keys,", ")}`;break;case ne.invalid_union:r="Invalid input";break;case ne.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${rt.joinValues(e.options)}`;break;case ne.invalid_enum_value:r=`Invalid enum value. Expected ${rt.joinValues(e.options)}, received '${e.received}'`;break;case ne.invalid_arguments:r="Invalid function arguments";break;case ne.invalid_return_type:r="Invalid function return type";break;case ne.invalid_date:r="Invalid date";break;case ne.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:rt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ne.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ne.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ne.custom:r="Invalid input";break;case ne.invalid_intersection_types:r="Intersection results could not be merged";break;case ne.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ne.not_finite:r="Number must be finite";break;default:r=t.defaultError,rt.assertNever(e)}return{message:r}};let BN=Ml;function $_(e){BN=e}function bu(){return BN}const Nu=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],l={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)o=d(l,{data:t,defaultError:o}).message;return{...a,path:i,message:o}},U_=[];function Ne(e,t){const r=bu(),n=Nu({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Ml?void 0:Ml].filter(a=>!!a)});e.common.issues.push(n)}class bs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return qe;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,l=await a.value;n.push({key:i,value:l})}return bs.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:l}=a;if(i.status==="aborted"||l.status==="aborted")return qe;i.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof l.value<"u"||a.alwaysSet)&&(n[i.value]=l.value)}return{status:t.value,value:n}}}const qe=Object.freeze({status:"aborted"}),Yi=e=>({status:"dirty",value:e}),As=e=>({status:"valid",value:e}),Zf=e=>e.status==="aborted",Xf=e=>e.status==="dirty",fi=e=>e.status==="valid",ic=e=>typeof Promise<"u"&&e instanceof Promise;function Su(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function qN(e,t,r,n,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Me;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Me||(Me={}));var bo,No;class an{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Nv=(e,t)=>{if(fi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Js(e.common.issues);return this._error=r,this._error}}};function He(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(l,o)=>{var c,d;const{message:u}=e;return l.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(c=u??n)!==null&&c!==void 0?c:o.defaultError}:l.code!=="invalid_type"?{message:o.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:o.defaultError}},description:a}}class Xe{get description(){return this._def.description}_getType(t){return yn(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:yn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new bs,ctx:{common:t.parent.common,data:t.data,parsedType:yn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ic(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:yn(t)},i=this._parseSync({data:t,path:a.path,parent:a});return Nv(a,i)}"~validate"(t){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:yn(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return fi(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>fi(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:yn(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(ic(a)?a:Promise.resolve(a));return Nv(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const l=t(a),o=()=>i.addIssue({code:ne.custom,...n(a)});return typeof Promise<"u"&&l instanceof Promise?l.then(c=>c?!0:(o(),!1)):l?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Ir({schema:this,typeName:Be.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return tn.create(this,this._def)}nullable(){return Ta.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Rr.create(this)}promise(){return Ol.create(this,this._def)}or(t){return dc.create([this,t],this._def)}and(t){return uc.create(this,t,this._def)}transform(t){return new Ir({...He(this._def),schema:this,typeName:Be.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new pc({...He(this._def),innerType:this,defaultValue:r,typeName:Be.ZodDefault})}brand(){return new qp({typeName:Be.ZodBranded,type:this,...He(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new gc({...He(this._def),innerType:this,catchValue:r,typeName:Be.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Mc.create(this,t)}readonly(){return yc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const z_=/^c[^\s-]{8,}$/i,B_=/^[0-9a-z]+$/,q_=/^[0-9A-HJKMNP-TV-Z]{26}$/i,V_=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,W_=/^[a-z0-9_-]{21}$/i,H_=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,K_=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Q_=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,G_="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ph;const Y_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Z_=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,X_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,J_=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,eD=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tD=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,VN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",sD=new RegExp(`^${VN}$`);function WN(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function rD(e){return new RegExp(`^${WN(e)}$`)}function HN(e){let t=`${VN}T${WN(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function nD(e,t){return!!((t==="v4"||!t)&&Y_.test(e)||(t==="v6"||!t)&&X_.test(e))}function aD(e,t){if(!H_.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function iD(e,t){return!!((t==="v4"||!t)&&Z_.test(e)||(t==="v6"||!t)&&J_.test(e))}class Ar extends Xe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Te.string){const i=this._getOrReturnCtx(t);return Ne(i,{code:ne.invalid_type,expected:Te.string,received:i.parsedType}),qe}const n=new bs;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Ne(a,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Ne(a,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const l=t.data.length>i.value,o=t.data.length<i.value;(l||o)&&(a=this._getOrReturnCtx(t,a),l?Ne(a,{code:ne.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&Ne(a,{code:ne.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Q_.test(t.data)||(a=this._getOrReturnCtx(t,a),Ne(a,{validation:"email",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")ph||(ph=new RegExp(G_,"u")),ph.test(t.data)||(a=this._getOrReturnCtx(t,a),Ne(a,{validation:"emoji",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")V_.test(t.data)||(a=this._getOrReturnCtx(t,a),Ne(a,{validation:"uuid",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")W_.test(t.data)||(a=this._getOrReturnCtx(t,a),Ne(a,{validation:"nanoid",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")z_.test(t.data)||(a=this._getOrReturnCtx(t,a),Ne(a,{validation:"cuid",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")B_.test(t.data)||(a=this._getOrReturnCtx(t,a),Ne(a,{validation:"cuid2",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")q_.test(t.data)||(a=this._getOrReturnCtx(t,a),Ne(a,{validation:"ulid",code:ne.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ne(a,{validation:"url",code:ne.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ne(a,{validation:"regex",code:ne.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Ne(a,{code:ne.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ne(a,{code:ne.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ne(a,{code:ne.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?HN(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ne(a,{code:ne.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?sD.test(t.data)||(a=this._getOrReturnCtx(t,a),Ne(a,{code:ne.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?rD(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ne(a,{code:ne.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?K_.test(t.data)||(a=this._getOrReturnCtx(t,a),Ne(a,{validation:"duration",code:ne.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?nD(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ne(a,{validation:"ip",code:ne.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?aD(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Ne(a,{validation:"jwt",code:ne.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?iD(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ne(a,{validation:"cidr",code:ne.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?eD.test(t.data)||(a=this._getOrReturnCtx(t,a),Ne(a,{validation:"base64",code:ne.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?tD.test(t.data)||(a=this._getOrReturnCtx(t,a),Ne(a,{validation:"base64url",code:ne.invalid_string,message:i.message}),n.dirty()):rt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ne.invalid_string,...Me.errToObj(n)})}_addCheck(t){return new Ar({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Me.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Me.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Me.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Me.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Me.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Me.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Me.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Me.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Me.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Me.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Me.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Me.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Me.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Me.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Me.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Me.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Me.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Me.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Me.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Me.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Me.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Me.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Me.errToObj(r)})}nonempty(t){return this.min(1,Me.errToObj(t))}trim(){return new Ar({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ar({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ar({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ar.create=e=>{var t;return new Ar({checks:[],typeName:Be.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...He(e)})};function lD(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(e.toFixed(a).replace(".","")),l=parseInt(t.toFixed(a).replace(".",""));return i%l/Math.pow(10,a)}class Sa extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Te.number){const i=this._getOrReturnCtx(t);return Ne(i,{code:ne.invalid_type,expected:Te.number,received:i.parsedType}),qe}let n;const a=new bs;for(const i of this._def.checks)i.kind==="int"?rt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ne(n,{code:ne.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ne(n,{code:ne.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ne(n,{code:ne.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?lD(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ne(n,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ne(n,{code:ne.not_finite,message:i.message}),a.dirty()):rt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Me.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Me.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Me.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Me.toString(r))}setLimit(t,r,n,a){return new Sa({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Me.toString(a)}]})}_addCheck(t){return new Sa({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Me.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Me.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Me.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Me.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Me.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Me.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Me.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Me.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Me.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&rt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Sa.create=e=>new Sa({checks:[],typeName:Be.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...He(e)});class ka extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Te.bigint)return this._getInvalidInput(t);let n;const a=new bs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ne(n,{code:ne.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ne(n,{code:ne.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ne(n,{code:ne.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):rt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ne(r,{code:ne.invalid_type,expected:Te.bigint,received:r.parsedType}),qe}gte(t,r){return this.setLimit("min",t,!0,Me.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Me.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Me.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Me.toString(r))}setLimit(t,r,n,a){return new ka({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Me.toString(a)}]})}_addCheck(t){return new ka({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Me.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Me.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Me.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Me.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Me.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ka.create=e=>{var t;return new ka({checks:[],typeName:Be.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...He(e)})};class lc extends Xe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Te.boolean){const n=this._getOrReturnCtx(t);return Ne(n,{code:ne.invalid_type,expected:Te.boolean,received:n.parsedType}),qe}return As(t.data)}}lc.create=e=>new lc({typeName:Be.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...He(e)});class xi extends Xe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Te.date){const i=this._getOrReturnCtx(t);return Ne(i,{code:ne.invalid_type,expected:Te.date,received:i.parsedType}),qe}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ne(i,{code:ne.invalid_date}),qe}const n=new bs;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Ne(a,{code:ne.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Ne(a,{code:ne.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):rt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new xi({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Me.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Me.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}xi.create=e=>new xi({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Be.ZodDate,...He(e)});class ku extends Xe{_parse(t){if(this._getType(t)!==Te.symbol){const n=this._getOrReturnCtx(t);return Ne(n,{code:ne.invalid_type,expected:Te.symbol,received:n.parsedType}),qe}return As(t.data)}}ku.create=e=>new ku({typeName:Be.ZodSymbol,...He(e)});class oc extends Xe{_parse(t){if(this._getType(t)!==Te.undefined){const n=this._getOrReturnCtx(t);return Ne(n,{code:ne.invalid_type,expected:Te.undefined,received:n.parsedType}),qe}return As(t.data)}}oc.create=e=>new oc({typeName:Be.ZodUndefined,...He(e)});class cc extends Xe{_parse(t){if(this._getType(t)!==Te.null){const n=this._getOrReturnCtx(t);return Ne(n,{code:ne.invalid_type,expected:Te.null,received:n.parsedType}),qe}return As(t.data)}}cc.create=e=>new cc({typeName:Be.ZodNull,...He(e)});class Fl extends Xe{constructor(){super(...arguments),this._any=!0}_parse(t){return As(t.data)}}Fl.create=e=>new Fl({typeName:Be.ZodAny,...He(e)});class ei extends Xe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return As(t.data)}}ei.create=e=>new ei({typeName:Be.ZodUnknown,...He(e)});class Fn extends Xe{_parse(t){const r=this._getOrReturnCtx(t);return Ne(r,{code:ne.invalid_type,expected:Te.never,received:r.parsedType}),qe}}Fn.create=e=>new Fn({typeName:Be.ZodNever,...He(e)});class Cu extends Xe{_parse(t){if(this._getType(t)!==Te.undefined){const n=this._getOrReturnCtx(t);return Ne(n,{code:ne.invalid_type,expected:Te.void,received:n.parsedType}),qe}return As(t.data)}}Cu.create=e=>new Cu({typeName:Be.ZodVoid,...He(e)});class Rr extends Xe{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Te.array)return Ne(r,{code:ne.invalid_type,expected:Te.array,received:r.parsedType}),qe;if(a.exactLength!==null){const l=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(l||o)&&(Ne(r,{code:l?ne.too_big:ne.too_small,minimum:o?a.exactLength.value:void 0,maximum:l?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ne(r,{code:ne.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ne(r,{code:ne.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,o)=>a.type._parseAsync(new an(r,l,r.path,o)))).then(l=>bs.mergeArray(n,l));const i=[...r.data].map((l,o)=>a.type._parseSync(new an(r,l,r.path,o)));return bs.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Rr({...this._def,minLength:{value:t,message:Me.toString(r)}})}max(t,r){return new Rr({...this._def,maxLength:{value:t,message:Me.toString(r)}})}length(t,r){return new Rr({...this._def,exactLength:{value:t,message:Me.toString(r)}})}nonempty(t){return this.min(1,t)}}Rr.create=(e,t)=>new Rr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Be.ZodArray,...He(t)});function Oi(e){if(e instanceof Rt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=tn.create(Oi(n))}return new Rt({...e._def,shape:()=>t})}else return e instanceof Rr?new Rr({...e._def,type:Oi(e.element)}):e instanceof tn?tn.create(Oi(e.unwrap())):e instanceof Ta?Ta.create(Oi(e.unwrap())):e instanceof ln?ln.create(e.items.map(t=>Oi(t))):e}class Rt extends Xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=rt.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Te.object){const d=this._getOrReturnCtx(t);return Ne(d,{code:ne.invalid_type,expected:Te.object,received:d.parsedType}),qe}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:l}=this._getCached(),o=[];if(!(this._def.catchall instanceof Fn&&this._def.unknownKeys==="strip"))for(const d in a.data)l.includes(d)||o.push(d);const c=[];for(const d of l){const u=i[d],h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new an(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Fn){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")o.length>0&&(Ne(a,{code:ne.unrecognized_keys,keys:o}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of o){const h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new an(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,x=await u.value;d.push({key:h,value:x,alwaysSet:u.alwaysSet})}return d}).then(d=>bs.mergeObjectSync(n,d)):bs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Me.errToObj,new Rt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i,l,o;const c=(l=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&l!==void 0?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(o=Me.errToObj(t).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new Rt({...this._def,unknownKeys:"strip"})}passthrough(){return new Rt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Rt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Rt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Be.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Rt({...this._def,catchall:t})}pick(t){const r={};return rt.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Rt({...this._def,shape:()=>r})}omit(t){const r={};return rt.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Rt({...this._def,shape:()=>r})}deepPartial(){return Oi(this)}partial(t){const r={};return rt.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new Rt({...this._def,shape:()=>r})}required(t){const r={};return rt.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof tn;)i=i._def.innerType;r[n]=i}}),new Rt({...this._def,shape:()=>r})}keyof(){return KN(rt.objectKeys(this.shape))}}Rt.create=(e,t)=>new Rt({shape:()=>e,unknownKeys:"strip",catchall:Fn.create(),typeName:Be.ZodObject,...He(t)});Rt.strictCreate=(e,t)=>new Rt({shape:()=>e,unknownKeys:"strict",catchall:Fn.create(),typeName:Be.ZodObject,...He(t)});Rt.lazycreate=(e,t)=>new Rt({shape:e,unknownKeys:"strip",catchall:Fn.create(),typeName:Be.ZodObject,...He(t)});class dc extends Xe{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(o=>new Js(o.ctx.common.issues));return Ne(r,{code:ne.invalid_union,unionErrors:l}),qe}if(r.common.async)return Promise.all(n.map(async i=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(a);{let i;const l=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=l.map(c=>new Js(c));return Ne(r,{code:ne.invalid_union,unionErrors:o}),qe}}get options(){return this._def.options}}dc.create=(e,t)=>new dc({options:e,typeName:Be.ZodUnion,...He(t)});const xn=e=>e instanceof hc?xn(e.schema):e instanceof Ir?xn(e.innerType()):e instanceof fc?[e.value]:e instanceof Ca?e.options:e instanceof xc?rt.objectValues(e.enum):e instanceof pc?xn(e._def.innerType):e instanceof oc?[void 0]:e instanceof cc?[null]:e instanceof tn?[void 0,...xn(e.unwrap())]:e instanceof Ta?[null,...xn(e.unwrap())]:e instanceof qp||e instanceof yc?xn(e.unwrap()):e instanceof gc?xn(e._def.innerType):[];class um extends Xe{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.object)return Ne(r,{code:ne.invalid_type,expected:Te.object,received:r.parsedType}),qe;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Ne(r,{code:ne.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),qe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const i of r){const l=xn(i.shape[t]);if(!l.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of l){if(a.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);a.set(o,i)}}return new um({typeName:Be.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...He(n)})}}function Jf(e,t){const r=yn(e),n=yn(t);if(e===t)return{valid:!0,data:e};if(r===Te.object&&n===Te.object){const a=rt.objectKeys(t),i=rt.objectKeys(e).filter(o=>a.indexOf(o)!==-1),l={...e,...t};for(const o of i){const c=Jf(e[o],t[o]);if(!c.valid)return{valid:!1};l[o]=c.data}return{valid:!0,data:l}}else if(r===Te.array&&n===Te.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const l=e[i],o=t[i],c=Jf(l,o);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Te.date&&n===Te.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class uc extends Xe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,l)=>{if(Zf(i)||Zf(l))return qe;const o=Jf(i.value,l.value);return o.valid?((Xf(i)||Xf(l))&&r.dirty(),{status:r.value,value:o.data}):(Ne(n,{code:ne.invalid_intersection_types}),qe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,l])=>a(i,l)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}uc.create=(e,t,r)=>new uc({left:e,right:t,typeName:Be.ZodIntersection,...He(r)});class ln extends Xe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.array)return Ne(n,{code:ne.invalid_type,expected:Te.array,received:n.parsedType}),qe;if(n.data.length<this._def.items.length)return Ne(n,{code:ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qe;!this._def.rest&&n.data.length>this._def.items.length&&(Ne(n,{code:ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((l,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new an(n,l,n.path,o)):null}).filter(l=>!!l);return n.common.async?Promise.all(i).then(l=>bs.mergeArray(r,l)):bs.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ln({...this._def,rest:t})}}ln.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ln({items:e,typeName:Be.ZodTuple,rest:null,...He(t)})};class mc extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.object)return Ne(n,{code:ne.invalid_type,expected:Te.object,received:n.parsedType}),qe;const a=[],i=this._def.keyType,l=this._def.valueType;for(const o in n.data)a.push({key:i._parse(new an(n,o,n.path,o)),value:l._parse(new an(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?bs.mergeObjectAsync(r,a):bs.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Xe?new mc({keyType:t,valueType:r,typeName:Be.ZodRecord,...He(n)}):new mc({keyType:Ar.create(),valueType:t,typeName:Be.ZodRecord,...He(r)})}}class Tu extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.map)return Ne(n,{code:ne.invalid_type,expected:Te.map,received:n.parsedType}),qe;const a=this._def.keyType,i=this._def.valueType,l=[...n.data.entries()].map(([o,c],d)=>({key:a._parse(new an(n,o,n.path,[d,"key"])),value:i._parse(new an(n,c,n.path,[d,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of l){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return qe;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(d.value,u.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of l){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return qe;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(d.value,u.value)}return{status:r.value,value:o}}}}Tu.create=(e,t,r)=>new Tu({valueType:t,keyType:e,typeName:Be.ZodMap,...He(r)});class pi extends Xe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.set)return Ne(n,{code:ne.invalid_type,expected:Te.set,received:n.parsedType}),qe;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ne(n,{code:ne.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ne(n,{code:ne.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function l(c){const d=new Set;for(const u of c){if(u.status==="aborted")return qe;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const o=[...n.data.values()].map((c,d)=>i._parse(new an(n,c,n.path,d)));return n.common.async?Promise.all(o).then(c=>l(c)):l(o)}min(t,r){return new pi({...this._def,minSize:{value:t,message:Me.toString(r)}})}max(t,r){return new pi({...this._def,maxSize:{value:t,message:Me.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}pi.create=(e,t)=>new pi({valueType:e,minSize:null,maxSize:null,typeName:Be.ZodSet,...He(t)});class il extends Xe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.function)return Ne(r,{code:ne.invalid_type,expected:Te.function,received:r.parsedType}),qe;function n(o,c){return Nu({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,bu(),Ml].filter(d=>!!d),issueData:{code:ne.invalid_arguments,argumentsError:c}})}function a(o,c){return Nu({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,bu(),Ml].filter(d=>!!d),issueData:{code:ne.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof Ol){const o=this;return As(async function(...c){const d=new Js([]),u=await o._def.args.parseAsync(c,i).catch(y=>{throw d.addIssue(n(c,y)),d}),h=await Reflect.apply(l,this,u);return await o._def.returns._def.type.parseAsync(h,i).catch(y=>{throw d.addIssue(a(h,y)),d})})}else{const o=this;return As(function(...c){const d=o._def.args.safeParse(c,i);if(!d.success)throw new Js([n(c,d.error)]);const u=Reflect.apply(l,this,d.data),h=o._def.returns.safeParse(u,i);if(!h.success)throw new Js([a(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new il({...this._def,args:ln.create(t).rest(ei.create())})}returns(t){return new il({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new il({args:t||ln.create([]).rest(ei.create()),returns:r||ei.create(),typeName:Be.ZodFunction,...He(n)})}}class hc extends Xe{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}hc.create=(e,t)=>new hc({getter:e,typeName:Be.ZodLazy,...He(t)});class fc extends Xe{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ne(r,{received:r.data,code:ne.invalid_literal,expected:this._def.value}),qe}return{status:"valid",value:t.data}}get value(){return this._def.value}}fc.create=(e,t)=>new fc({value:e,typeName:Be.ZodLiteral,...He(t)});function KN(e,t){return new Ca({values:e,typeName:Be.ZodEnum,...He(t)})}class Ca extends Xe{constructor(){super(...arguments),bo.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ne(r,{expected:rt.joinValues(n),received:r.parsedType,code:ne.invalid_type}),qe}if(Su(this,bo)||qN(this,bo,new Set(this._def.values)),!Su(this,bo).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ne(r,{received:r.data,code:ne.invalid_enum_value,options:n}),qe}return As(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ca.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ca.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}bo=new WeakMap;Ca.create=KN;class xc extends Xe{constructor(){super(...arguments),No.set(this,void 0)}_parse(t){const r=rt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Te.string&&n.parsedType!==Te.number){const a=rt.objectValues(r);return Ne(n,{expected:rt.joinValues(a),received:n.parsedType,code:ne.invalid_type}),qe}if(Su(this,No)||qN(this,No,new Set(rt.getValidEnumValues(this._def.values))),!Su(this,No).has(t.data)){const a=rt.objectValues(r);return Ne(n,{received:n.data,code:ne.invalid_enum_value,options:a}),qe}return As(t.data)}get enum(){return this._def.values}}No=new WeakMap;xc.create=(e,t)=>new xc({values:e,typeName:Be.ZodNativeEnum,...He(t)});class Ol extends Xe{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.promise&&r.common.async===!1)return Ne(r,{code:ne.invalid_type,expected:Te.promise,received:r.parsedType}),qe;const n=r.parsedType===Te.promise?r.data:Promise.resolve(r.data);return As(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ol.create=(e,t)=>new Ol({type:e,typeName:Be.ZodPromise,...He(t)});class Ir extends Xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:l=>{Ne(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const l=a.transform(n.data,i);if(n.common.async)return Promise.resolve(l).then(async o=>{if(r.value==="aborted")return qe;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?qe:c.status==="dirty"||r.value==="dirty"?Yi(c.value):c});{if(r.value==="aborted")return qe;const o=this._def.schema._parseSync({data:l,path:n.path,parent:n});return o.status==="aborted"?qe:o.status==="dirty"||r.value==="dirty"?Yi(o.value):o}}if(a.type==="refinement"){const l=o=>{const c=a.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?qe:(o.status==="dirty"&&r.dirty(),l(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?qe:(o.status==="dirty"&&r.dirty(),l(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!fi(l))return l;const o=a.transform(l.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>fi(l)?Promise.resolve(a.transform(l.value,i)).then(o=>({status:r.value,value:o})):l);rt.assertNever(a)}}Ir.create=(e,t,r)=>new Ir({schema:e,typeName:Be.ZodEffects,effect:t,...He(r)});Ir.createWithPreprocess=(e,t,r)=>new Ir({schema:t,effect:{type:"preprocess",transform:e},typeName:Be.ZodEffects,...He(r)});class tn extends Xe{_parse(t){return this._getType(t)===Te.undefined?As(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}tn.create=(e,t)=>new tn({innerType:e,typeName:Be.ZodOptional,...He(t)});class Ta extends Xe{_parse(t){return this._getType(t)===Te.null?As(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ta.create=(e,t)=>new Ta({innerType:e,typeName:Be.ZodNullable,...He(t)});class pc extends Xe{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Te.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}pc.create=(e,t)=>new pc({innerType:e,typeName:Be.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...He(t)});class gc extends Xe{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ic(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Js(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Js(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}gc.create=(e,t)=>new gc({innerType:e,typeName:Be.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...He(t)});class Pu extends Xe{_parse(t){if(this._getType(t)!==Te.nan){const n=this._getOrReturnCtx(t);return Ne(n,{code:ne.invalid_type,expected:Te.nan,received:n.parsedType}),qe}return{status:"valid",value:t.data}}}Pu.create=e=>new Pu({typeName:Be.ZodNaN,...He(e)});const oD=Symbol("zod_brand");class qp extends Xe{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Mc extends Xe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?qe:i.status==="dirty"?(r.dirty(),Yi(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?qe:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Mc({in:t,out:r,typeName:Be.ZodPipeline})}}class yc extends Xe{_parse(t){const r=this._def.innerType._parse(t),n=a=>(fi(a)&&(a.value=Object.freeze(a.value)),a);return ic(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}yc.create=(e,t)=>new yc({innerType:e,typeName:Be.ZodReadonly,...He(t)});function Sv(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function QN(e,t={},r){return e?Fl.create().superRefine((n,a)=>{var i,l;const o=e(n);if(o instanceof Promise)return o.then(c=>{var d,u;if(!c){const h=Sv(t,n),x=(u=(d=h.fatal)!==null&&d!==void 0?d:r)!==null&&u!==void 0?u:!0;a.addIssue({code:"custom",...h,fatal:x})}});if(!o){const c=Sv(t,n),d=(l=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&l!==void 0?l:!0;a.addIssue({code:"custom",...c,fatal:d})}}):Fl.create()}const cD={object:Rt.lazycreate};var Be;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Be||(Be={}));const dD=(e,t={message:`Input not instance of ${e.name}`})=>QN(r=>r instanceof e,t),GN=Ar.create,YN=Sa.create,uD=Pu.create,mD=ka.create,ZN=lc.create,hD=xi.create,fD=ku.create,xD=oc.create,pD=cc.create,gD=Fl.create,yD=ei.create,vD=Fn.create,jD=Cu.create,wD=Rr.create,bD=Rt.create,ND=Rt.strictCreate,SD=dc.create,kD=um.create,CD=uc.create,TD=ln.create,PD=mc.create,ED=Tu.create,AD=pi.create,_D=il.create,DD=hc.create,RD=fc.create,MD=Ca.create,FD=xc.create,OD=Ol.create,kv=Ir.create,ID=tn.create,LD=Ta.create,$D=Ir.createWithPreprocess,UD=Mc.create,zD=()=>GN().optional(),BD=()=>YN().optional(),qD=()=>ZN().optional(),VD={string:e=>Ar.create({...e,coerce:!0}),number:e=>Sa.create({...e,coerce:!0}),boolean:e=>lc.create({...e,coerce:!0}),bigint:e=>ka.create({...e,coerce:!0}),date:e=>xi.create({...e,coerce:!0})},WD=qe;var Re=Object.freeze({__proto__:null,defaultErrorMap:Ml,setErrorMap:$_,getErrorMap:bu,makeIssue:Nu,EMPTY_PATH:U_,addIssueToContext:Ne,ParseStatus:bs,INVALID:qe,DIRTY:Yi,OK:As,isAborted:Zf,isDirty:Xf,isValid:fi,isAsync:ic,get util(){return rt},get objectUtil(){return Yf},ZodParsedType:Te,getParsedType:yn,ZodType:Xe,datetimeRegex:HN,ZodString:Ar,ZodNumber:Sa,ZodBigInt:ka,ZodBoolean:lc,ZodDate:xi,ZodSymbol:ku,ZodUndefined:oc,ZodNull:cc,ZodAny:Fl,ZodUnknown:ei,ZodNever:Fn,ZodVoid:Cu,ZodArray:Rr,ZodObject:Rt,ZodUnion:dc,ZodDiscriminatedUnion:um,ZodIntersection:uc,ZodTuple:ln,ZodRecord:mc,ZodMap:Tu,ZodSet:pi,ZodFunction:il,ZodLazy:hc,ZodLiteral:fc,ZodEnum:Ca,ZodNativeEnum:xc,ZodPromise:Ol,ZodEffects:Ir,ZodTransformer:Ir,ZodOptional:tn,ZodNullable:Ta,ZodDefault:pc,ZodCatch:gc,ZodNaN:Pu,BRAND:oD,ZodBranded:qp,ZodPipeline:Mc,ZodReadonly:yc,custom:QN,Schema:Xe,ZodSchema:Xe,late:cD,get ZodFirstPartyTypeKind(){return Be},coerce:VD,any:gD,array:wD,bigint:mD,boolean:ZN,date:hD,discriminatedUnion:kD,effect:kv,enum:MD,function:_D,instanceof:dD,intersection:CD,lazy:DD,literal:RD,map:ED,nan:uD,nativeEnum:FD,never:vD,null:pD,nullable:LD,number:YN,object:bD,oboolean:qD,onumber:BD,optional:ID,ostring:zD,pipeline:UD,preprocess:$D,promise:OD,record:PD,set:AD,strictObject:ND,string:GN,symbol:fD,transformer:kv,tuple:TD,undefined:xD,union:SD,unknown:yD,void:jD,NEVER:WD,ZodIssueCode:ne,quotelessJson:L_,ZodError:Js});const qa={global:{siteName:"B2B Demo",defaultTitle:"B2B Demo - Guest Post & Link Collaboration Platform",defaultDescription:"Connect with verified site owners for authentic guest posting opportunities. Build authority through trusted collaborations.",defaultImage:"/og-image.png",siteUrl:"",locale:"en_US",twitterSite:"@B2B Demo",googleSiteVerification:""},globalScripts:{googleAnalytics:{enabled:!1,trackingId:""},facebookPixel:{enabled:!0,pixelId:""},googleTagManager:{enabled:!1,containerId:""}},pages:{home:{title:"B2B Demo - Guest Post & Link Collaboration Platform",description:"Connect with verified site owners for authentic guest posting opportunities. Build authority through trusted collaborations and quality link partnerships.",robots:"noindex,nofollow",keywords:"guest posting, link building, collaboration, content marketing, SEO, website partnerships",canonical:"/",openGraph:{title:"B2B Demo - Guest Post & Link Collaboration Platform",description:"Connect with verified site owners for authentic guest posting opportunities. Build authority through trusted collaborations.",type:"website"},twitter:{card:"summary_large_image",title:"B2B Demo - Guest Post & Link Collaboration Platform",description:"Connect with verified site owners for authentic guest posting opportunities."},customEvents:[{type:"gtag",event:"page_view",params:{page_title:"Homepage",content_group1:"Public"}}]},about:{title:"About Us - B2B Demo",description:"Learn about B2B Demo's mission to connect website owners, content creators, and marketers for authentic collaboration opportunities.",robots:"noindex,nofollow",keywords:"about B2B Demo, company mission, team, guest posting platform",canonical:"/about",openGraph:{title:"About B2B Demo",description:"Learn about our mission to connect website owners and content creators.",type:"website"},twitter:{card:"summary",title:"About B2B Demo",description:"Learn about our mission to connect website owners and content creators."},customEvents:[{type:"gtag",event:"page_view",params:{content_group1:"About"}}]},blog:{title:"Blog - B2B Demo",description:"Latest insights on guest posting, link building, content marketing, and collaboration strategies. Expert tips for growing your online presence.",robots:"noindex,nofollow",keywords:"guest posting tips, link building strategies, content marketing, SEO blog",canonical:"/blog",openGraph:{title:"B2B Demo Blog",description:"Latest insights on guest posting and content collaboration strategies.",type:"website"},twitter:{card:"summary_large_image",title:"B2B Demo Blog",description:"Latest insights on guest posting and content collaboration strategies."},customEvents:[{type:"gtag",event:"page_view",params:{content_group1:"Blog",content_group2:"Blog Listing"}}]},faq:{title:"FAQ - B2B Demo",description:"Frequently asked questions about guest posting, link collaboration, and using the B2B Demo platform effectively.",robots:"noindex,nofollow",keywords:"guest posting FAQ, link building questions, B2B Demo help",canonical:"/faq",openGraph:{title:"FAQ - B2B Demo",description:"Frequently asked questions about guest posting and collaboration.",type:"website"},twitter:{card:"summary",title:"FAQ - B2B Demo",description:"Frequently asked questions about our platform."},customEvents:[{type:"gtag",event:"page_view",params:{content_group1:"FAQ"}}]},contact:{title:"Contact Us - B2B Demo",description:"Get in touch with the B2B Demo team. We're here to help with your guest posting and collaboration needs.",robots:"noindex,nofollow",keywords:"contact B2B Demo, customer support, help, guest posting support",canonical:"/contact",openGraph:{title:"Contact B2B Demo",description:"Get in touch with our team for guest posting and collaboration support.",type:"website"},twitter:{card:"summary",title:"Contact B2B Demo",description:"Get in touch with our team for support."},customEvents:[{type:"gtag",event:"page_view",params:{content_group1:"Contact"}}]},terms:{title:"Terms of Service - B2B Demo",description:"Terms and conditions for using the B2B Demo guest posting and link collaboration platform.",robots:"noindex,nofollow",keywords:"B2B Demo terms, terms of service, legal",canonical:"/terms",openGraph:{title:"Terms of Service - B2B Demo",description:"Terms and conditions for using the B2B Demo platform.",type:"website"},customEvents:[{type:"gtag",event:"page_view",params:{content_group1:"Legal"}}]},privacy:{title:"Privacy Policy - B2B Demo",description:"Privacy policy and data protection information for B2B Demo users and website visitors.",robots:"noindex,nofollow",keywords:"B2B Demo privacy, privacy policy, data protection",canonical:"/privacy",openGraph:{title:"Privacy Policy - B2B Demo",description:"Privacy policy and data protection information for B2B Demo users.",type:"website"},customEvents:[{type:"gtag",event:"page_view",params:{content_group1:"Legal"}}]},auth:{title:"Sign In - B2B Demo",description:"Access your collaboration dashboard",robots:"noindex,nofollow",excludeTracking:!0},dashboard:{title:"Dashboard - B2B Demo",description:"Manage your collaborations and account",robots:"noindex,nofollow",excludeTracking:!0},profile:{title:"Profile Settings - B2B Demo",description:"Manage your profile and account settings",robots:"noindex,nofollow",excludeTracking:!0},messages:{title:"Messages - B2B Demo",description:"View and manage your collaboration messages",robots:"noindex,nofollow",excludeTracking:!0},admin:{title:"Admin Panel - B2B Demo",description:"Administrative dashboard",robots:"noindex,nofollow",excludeTracking:!0},directory:{title:"Website Directory - B2B Demo",description:"Browse websites",robots:"noindex,nofollow",excludeTracking:!0},support:{title:"Support - B2B Demo",description:"Get help with your account",robots:"noindex,nofollow",excludeTracking:!0},"dashboard-sites":{title:"My Sites - B2B Demo",description:"Manage your registered websites",robots:"noindex,nofollow",excludeTracking:!0},"dashboard-wallet":{title:"Wallet - B2B Demo",description:"Manage your account balance and transactions",robots:"noindex,nofollow",excludeTracking:!0},"dashboard-orders":{title:"Orders & Requests - B2B Demo",description:"View and manage your collaboration orders",robots:"noindex,nofollow",excludeTracking:!0}},generators:{blogPost:e=>{const t=e.title.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),r=e.excerpt||(e.content?e.content.substring(0,160)+"...":`Read "${e.title}" on the B2B Demo blog. Expert insights on guest posting and content collaboration.`);return{title:`${e.title} - B2B Demo Blog`,description:r,robots:"noindex,nofollow",keywords:`${e.title}, guest posting, content marketing, ${e.category||"SEO"}, B2B Demo blog`,canonical:`/blog/${t}`,openGraph:{title:e.title,description:r,image:e.featuredImage||"/images/blog-default.jpg",type:"article"},twitter:{card:"summary_large_image",title:e.title,description:r,image:e.featuredImage||"/images/blog-default.jpg"},customEvents:[{type:"gtag",event:"page_view",params:{content_group1:"Blog",content_group2:e.category||"General",custom_map:{dimension1:e.author||"B2B Demo Team"}}},{type:"gtag",event:"article_view",params:{article_title:e.title,article_category:e.category||"General",article_author:e.author||"B2B Demo Team"}},{type:"fbq",event:"track",params:["ViewContent",{content_name:e.title,content_category:"Blog Article"}]}]}},userProfile:e=>({title:`${e.username} - B2B Demo Profile`,description:"User profile page",robots:"noindex,nofollow",excludeTracking:!0})}};function Cv(e,t){return qa.pages[e]?qa.pages[e]:qa.generators[e]&&t?qa.generators[e](t):null}function HD(e){return e==="/"?"home":e==="/about"?"about":e==="/blog"?"blog":e==="/faq"?"faq":e==="/contact"?"contact":e==="/terms"?"terms":e==="/privacy"?"privacy":e.startsWith("/blog/")&&e!=="/blog"?"blogPost":e==="/auth"?"auth":e.startsWith("/dashboard")?"dashboard":e.startsWith("/profile")?"profile":e.startsWith("/messages")?"messages":e.startsWith("/admin")?"admin":e==="/directory"?"directory":e==="/support"?"support":"unknown"}function KD(e){return["home","about","blog","faq","contact","terms","privacy","blogPost"].includes(e)}function Tt(e,t){let r=`meta[name="${e}"]`;e.startsWith("og:")?r=`meta[property="${e}"]`:e.startsWith("twitter:")&&(r=`meta[name="${e}"]`);let n=document.querySelector(r);n?(e.startsWith("og:"),n.setAttribute("content",t)):(n=document.createElement("meta"),e.startsWith("og:")?n.setAttribute("property",e):n.setAttribute("name",e),n.setAttribute("content",t),document.head.appendChild(n))}function Tv(e){let t=document.querySelector('link[rel="canonical"]');t?t.setAttribute("href",e):(t=document.createElement("link"),t.setAttribute("rel","canonical"),t.setAttribute("href",e),document.head.appendChild(t))}function XN(e){document.title=e}function QD(e){const t=document.querySelector('script[src*="gtag/js"]'),r=document.getElementById("google-analytics");t&&t.remove(),r&&r.remove();const n=document.createElement("script");n.async=!0,n.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.head.appendChild(n);const a=document.createElement("script");a.id="google-analytics",a.innerHTML=`
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '${e}');
  `,document.head.appendChild(a)}function GD(e){const t=document.getElementById("facebook-pixel");t&&t.remove();const r=document.createElement("script");r.id="facebook-pixel",r.innerHTML=`
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '${e}');
    fbq('track', 'PageView');
  `,document.head.appendChild(r)}function YD(e){const t=document.getElementById("google-tag-manager");t&&t.remove();const r=document.createElement("script");r.id="google-tag-manager",r.innerHTML=`
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','${e}');
  `,document.head.appendChild(r)}function ZD(e){e.type==="gtag"&&typeof window<"u"&&window.gtag?window.gtag("event",e.event,e.params):e.type==="fbq"&&typeof window<"u"&&window.fbq&&window.fbq(e.event,...e.params)}function XD(){return typeof window<"u"?window.location.origin:""}function gh(e){const t=XD(),r=e.startsWith("/")?e:`/${e}`;return`${t}${r}`}function JN(e={}){const[t]=on(),{pageKey:r,dynamicData:n,forceUpdate:a=!1}=e,{data:i}=ae({queryKey:["/api/settings/public"],enabled:!0});m.useEffect(()=>{const l=r||HD(t);let o=null;l==="blogPost"&&n?o=Cv("blogPost",n):l&&l!=="unknown"&&(o=Cv(l)),o?JD(o,t,(i==null?void 0:i.platformName)||"OutMarkly"):eR((i==null?void 0:i.platformName)||"OutMarkly"),o&&!o.excludeTracking&&KD(l)&&(tR(),o.customEvents&&o.customEvents.forEach(c=>{setTimeout(()=>ZD(c),100)}))},[t,r,n,a,i==null?void 0:i.platformName])}function JD(e,t,r){const n=e.title.replace(/OutMarkly/g,r);XN(n);const a=e.description.replace(/OutMarkly/g,r);if(Tt("description",a),Tt("robots",e.robots),Tt("google-site-verification",qa.global.googleSiteVerification),e.keywords&&Tt("keywords",e.keywords),e.canonical){const i=gh(e.canonical);Tv(i)}else if(e.robots.includes("index")){const i=gh(t);Tv(i)}if(e.openGraph){const i=e.openGraph.title.replace(/OutMarkly/g,r),l=e.openGraph.description.replace(/OutMarkly/g,r);Tt("og:title",i),Tt("og:description",l),Tt("og:type",e.openGraph.type||"website"),Tt("og:site_name",r),e.openGraph.image?Tt("og:image",e.openGraph.image):Tt("og:image","/og-image.svg"),Tt("og:image:width","1200"),Tt("og:image:height","630");const o=gh(t);Tt("og:url",o)}if(e.twitter){const i=e.twitter.title.replace(/OutMarkly/g,r),l=e.twitter.description.replace(/OutMarkly/g,r);Tt("twitter:card",e.twitter.card),Tt("twitter:title",i),Tt("twitter:description",l),e.twitter.image?Tt("twitter:image",e.twitter.image):Tt("twitter:image","/og-image.svg")}}function eR(e){XN(`Page - ${e}`),Tt("description",`${e} platform page`),Tt("robots","noindex,follow"),Tt("google-site-verification",qa.global.googleSiteVerification),Tt("og:site_name",e),Tt("og:image","/og-image.png"),Tt("og:image:width","1200"),Tt("og:image:height","630")}function tR(){var t,r,n;const{globalScripts:e}=qa;(t=e.googleAnalytics)!=null&&t.enabled&&e.googleAnalytics.trackingId&&QD(e.googleAnalytics.trackingId),(r=e.facebookPixel)!=null&&r.enabled&&e.facebookPixel.pixelId&&GD(e.facebookPixel.pixelId),(n=e.googleTagManager)!=null&&n.enabled&&e.googleTagManager.containerId&&YD(e.googleTagManager.containerId)}function $r(e){return JN({pageKey:e})}function sR(e){return JN({pageKey:"blogPost",dynamicData:e})}const yh=768;function rR(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const r=window.matchMedia(`(max-width: ${yh-1}px)`),n=()=>{t(window.innerWidth<yh)};return r.addEventListener("change",n),t(window.innerWidth<yh),()=>r.removeEventListener("change",n)},[]),!!e}const nR=({email:e,canResendAt:t,onResend:r,isLoading:n})=>{const[a,i]=m.useState(0);m.useEffect(()=>{if(!t)return;const c=()=>{const u=Date.now(),h=t.getTime(),x=Math.max(0,h-u);i(Math.ceil(x/1e3))};c();const d=setInterval(c,1e3);return()=>clearInterval(d)},[t]);const l=c=>{const d=Math.floor(c/60),u=c%60;return`${d}:${u.toString().padStart(2,"0")}`},o=!t||a<=0;return s.jsx(E,{onClick:r,disabled:!o||n,variant:"secondary",className:"w-full",children:n?s.jsxs(s.Fragment,{children:[s.jsx(oa,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):o?s.jsxs(s.Fragment,{children:[s.jsx(oa,{className:"w-4 h-4 mr-2"}),"Resend Verification Link"]}):s.jsxs(s.Fragment,{children:[s.jsx(gs,{className:"w-4 h-4 mr-2"}),"Resend in ",l(a)]})})},aR=Re.object({email:Re.string().email("Please enter a valid email").max(255,"Email must be 255 characters or less"),password:Re.string().min(1,"Password is required").max(128,"Password must be 128 characters or less")}),iR=Re.object({firstName:Re.string().min(1,"First name is required").max(50,"First name must be 50 characters or less").refine(e=>!/[<>\"'&]/.test(e),"First name contains invalid characters"),lastName:Re.string().min(1,"Last name is required").max(50,"Last name must be 50 characters or less").refine(e=>!/[<>\"'&]/.test(e),"Last name contains invalid characters"),username:Re.string().min(3,"Username must be at least 3 characters").max(30,"Username must be 30 characters or less").refine(e=>!/[<>\"'&]/.test(e),"Username contains invalid characters"),email:Re.string().email("Please enter a valid email").max(255,"Email must be 255 characters or less"),password:Re.string().min(6,"Password must be at least 6 characters").max(128,"Password must be 128 characters or less"),acceptTerms:Re.boolean().refine(e=>e===!0,"You must accept the Terms of Service")});function ir(){$r("auth");const e=rR(),[t,r]=m.useState(!1),[n,a]=m.useState(!1),[i,l]=m.useState(""),[o,c]=m.useState(null);on();const{login:d,refreshAuth:u}=ds(),{toast:h}=at(),{data:x}=ae({queryKey:["/api/settings/public"],enabled:!0}),y=Ee({mutationFn:async S=>await ve("/api/auth/resend-verification",{method:"POST",body:{email:S}}),onSuccess:S=>{S.canResendAt&&c(new Date(S.canResendAt)),h({title:"Verification Link Sent",description:S.message,variant:"default"})},onError:S=>{const C=S instanceof Error?S.message:"Failed to resend verification";if(C.includes("wait")){const P=C.match(/(\d+) more minutes/);if(P){const N=parseInt(P[1]);c(new Date(Date.now()+N*60*1e3))}}h({title:"Resend Failed",description:C,variant:"destructive"})}}),[v,g]=m.useState(null);m.useEffect(()=>{const S=new URLSearchParams(window.location.search),C=S.get("verified"),P=S.get("error"),N=S.get("ref"),O=localStorage.getItem("pendingReferralCode"),D=N||O;if(D&&(g(D),r(!0),O&&localStorage.removeItem("pendingReferralCode")),C==="true"){h({title:"Email Verified!",description:"Your email has been verified successfully. You can now log in.",variant:"default"});const M=N?`/auth?ref=${N}`:"/auth";window.history.replaceState({},"",M)}else C==="false"&&P&&(h({title:"Verification Failed",description:"The verification link is invalid or has expired. Please try registering again.",variant:"destructive"}),window.history.replaceState({},"","/auth"))},[h]);const w=qs({resolver:Vs(aR),defaultValues:{email:"",password:""}}),p=qs({resolver:Vs(iR),defaultValues:{firstName:"",lastName:"",username:"",email:"",password:"",acceptTerms:!1}}),f=Ee({mutationFn:async S=>{const C=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!C.ok){const P=await C.json();throw new Error(P.message||"Authentication failed")}return C.json()},onSuccess:async S=>{console.log("Login success, refreshing auth state...");const C=await u();if(console.log("refreshAuth returned:",C),C){console.log("Redirecting user with role:",C.role);const P=C.role==="admin"?xs:C.role==="employee"?Rl:"/dashboard";window.location.href=P}else console.log("refreshAuth failed, showing error"),h({title:"Login Issue",description:"Session verification failed. Please try again.",variant:"destructive"})},onError:S=>{const C=S instanceof Error?S.message:"An error occurred";if(C.includes("verify your email")||C.includes("verification")){const P=w.getValues("email");l(P),a(!0),h({title:"Email Verification Required",description:"Please check your email and click the verification link before logging in.",variant:"default"})}else h({title:"Login Failed",description:C,variant:"destructive"})}}),j=Ee({mutationFn:async S=>{const C={...S,referralCode:v||void 0},P=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!P.ok){const N=await P.json();throw new Error(N.message||"Registration failed")}return P.json()},onSuccess:async S=>{if(S.requiresVerification){a(!0),l(S.email),h({title:"Registration Successful!",description:S.message||"A link has been sent successfully to your email for confirmation",variant:"default"});return}h({title:"Registration Successful!",description:S.message||`Welcome to ${(x==null?void 0:x.platformName)||"CollabPro"}!`,variant:"default"}),setTimeout(()=>{const C=S.user;C&&C.role==="admin"?window.location.href=xs:C&&C.role==="employee"?window.location.href=Rl:window.location.href="/dashboard"},1e3)},onError:S=>{h({title:"Registration Failed",description:S instanceof Error?S.message:"An error occurred",variant:"destructive"})}}),b=S=>{f.mutate(S)},k=S=>{j.mutate(S)};return n?s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-slate-50 dark:bg-slate-900 p-4",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(fe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:s.jsx(yt,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})})}),s.jsx(xe,{className:"text-2xl font-bold",children:"Check Your Email"}),s.jsx(lt,{className:"text-center",children:"A verification link has been sent to your email address."})]}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[s.jsx("strong",{children:"Email sent to:"})," ",i]}),s.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-300 mt-2",children:"Click the verification link in your email to activate your account. The link will expire in 1 hour."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.jsx("strong",{children:"What's next?"})}),s.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[s.jsx("li",{children:"• Check your email (including spam folder)"}),s.jsx("li",{children:"• Click the verification link"}),s.jsx("li",{children:"• Return here to log in"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(nR,{email:i,canResendAt:o,onResend:()=>y.mutate(i),isLoading:y.isPending}),s.jsx(E,{onClick:()=>{a(!1),l(""),c(null)},variant:"outline",className:"w-full",children:"Back to Login"})]})]})})]})}):s.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-50/40 via-white to-slate-50/60",children:e?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-primary mb-1 tracking-tight",children:(x==null?void 0:x.platformName)||"CollabPro"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Collaboration Made Simple and Effective"})]}),s.jsxs(J,{className:"w-full shadow-lg border-0 bg-white",children:[s.jsxs(fe,{className:"text-center pb-6 pt-8",children:[s.jsx(xe,{className:"text-2xl font-semibold mb-2",children:t?"Create Account":"Welcome Back"}),s.jsx(lt,{className:"text-base",children:t?"Join the community and start exchanging links":"Sign in to access your dashboard"})]}),s.jsxs(te,{className:"px-8 pb-8",children:[t?s.jsxs(s.Fragment,{children:[v&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md",children:s.jsxs("p",{className:"text-sm text-green-700 dark:text-green-300",children:["🎉 You're signing up through a referral from ",s.jsx("strong",{children:v}),"!"]})}),s.jsxs("form",{onSubmit:p.handleSubmit(k),className:"space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"firstName",className:"text-sm font-medium",children:"First Name"}),s.jsx(re,{id:"firstName",placeholder:"John",className:"h-11",...p.register("firstName")}),p.formState.errors.firstName&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.formState.errors.firstName.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"lastName",className:"text-sm font-medium",children:"Last Name"}),s.jsx(re,{id:"lastName",placeholder:"Doe",className:"h-11",...p.register("lastName")}),p.formState.errors.lastName&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.formState.errors.lastName.message})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"username",className:"text-sm font-medium",children:"Username"}),s.jsx(re,{id:"username",placeholder:"johndoe123",className:"h-11",...p.register("username")}),p.formState.errors.username&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.formState.errors.username.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"email",className:"text-sm font-medium",children:"Email Address"}),s.jsx(re,{id:"email",type:"email",placeholder:"your.email@example.com",className:"h-11",...p.register("email")}),p.formState.errors.email&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.formState.errors.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),s.jsx(re,{id:"password",type:"password",placeholder:"Create a strong password",className:"h-11",...p.register("password")}),p.formState.errors.password&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.formState.errors.password.message})]}),s.jsxs("div",{className:"flex items-start space-x-3 pt-1",children:[s.jsx(kN,{id:"acceptTerms","data-testid":"checkbox-terms",checked:p.watch("acceptTerms"),onCheckedChange:S=>{p.setValue("acceptTerms",!!S)}}),s.jsxs(W,{htmlFor:"acceptTerms",className:"text-sm leading-relaxed text-gray-600 dark:text-gray-300",children:["I agree to the"," ",s.jsx("a",{href:"/terms",target:"_blank",className:"text-primary hover:underline font-medium",children:"Terms of Service"})," ","and"," ",s.jsx("a",{href:"/privacy",target:"_blank",className:"text-primary hover:underline font-medium",children:"Privacy Policy"})]})]}),p.formState.errors.acceptTerms&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.formState.errors.acceptTerms.message}),s.jsx(E,{type:"submit",className:"w-full h-11 text-base font-medium",disabled:j.isPending,children:j.isPending?"Creating Account...":"Create Account"})]})]}):s.jsxs("form",{onSubmit:w.handleSubmit(b),className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"email",className:"text-sm font-medium",children:"Email Address"}),s.jsx(re,{id:"email",type:"email",placeholder:"your.email@example.com",className:"h-11",...w.register("email")}),w.formState.errors.email&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:w.formState.errors.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),s.jsx(re,{id:"password",type:"password",placeholder:"Enter your password",className:"h-11",...w.register("password")}),w.formState.errors.password&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:w.formState.errors.password.message})]}),s.jsx(E,{type:"submit",className:"w-full h-11 text-base font-medium",disabled:f.isPending,children:f.isPending?"Signing In...":"Sign In"})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[!t&&s.jsx("div",{className:"text-center mb-4",children:s.jsx($e,{href:"/auth/forgot-password",children:s.jsx(E,{variant:"link",className:"text-sm text-gray-600 dark:text-gray-400 hover:text-primary",children:"Forgot your password?"})})}),s.jsxs("p",{className:"text-center text-gray-600 dark:text-gray-400",children:[t?"Already have an account?":"Don't have an account?",s.jsx(E,{variant:"link",className:"ml-2 p-0 text-primary font-medium",onClick:()=>r(!t),children:t?"Sign In":"Sign Up"})]})]})]})]})]})}):s.jsxs("div",{className:"grid grid-cols-2 min-h-screen",children:[s.jsxs("div",{className:"flex items-center justify-center p-8 lg:p-12 bg-gradient-to-br from-primary/8 via-blue-50/60 to-primary/5 relative overflow-hidden",children:[s.jsx("div",{className:"absolute -top-20 -left-20 w-40 h-40 bg-gradient-to-br from-primary/10 to-blue-400/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-20 -right-20 w-60 h-60 bg-gradient-to-tl from-blue-500/8 to-primary/8 rounded-full blur-3xl"}),s.jsxs("div",{className:"max-w-md w-full space-y-6 relative z-10",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold text-primary mb-3 tracking-tight",children:["Welcome to ",(x==null?void 0:x.platformName)||"CollabPro"]}),s.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"Connect, Collaborate, Grow"}),s.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-primary via-blue-500 to-primary/70 mx-auto mt-4 rounded-full shadow-sm"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4 p-5 bg-white/90 backdrop-blur-sm rounded-xl border border-blue-100/50 hover:shadow-lg hover:bg-white transition-all duration-300",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500/15 to-green-500/25 rounded-xl flex items-center justify-center flex-shrink-0 shadow-sm",children:s.jsx(O4,{className:"h-6 w-6 text-emerald-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Guest Post"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Submit articles and explore publishing opportunities"})]})]}),s.jsxs("div",{className:"flex items-center gap-4 p-5 bg-white/90 backdrop-blur-sm rounded-xl border border-blue-100/50 hover:shadow-lg hover:bg-white transition-all duration-300",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500/15 to-primary/25 rounded-xl flex items-center justify-center flex-shrink-0 shadow-sm",children:s.jsx(E4,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Link Exchange"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Connect with site owners for link partnerships"})]})]})]}),s.jsx("div",{className:"text-center pt-6",children:s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 backdrop-blur-sm rounded-full border border-primary/20",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),s.jsx("p",{className:"text-sm text-primary font-medium",children:"Join a demo b2b platform."})]})})]})]}),s.jsxs("div",{className:"flex items-center justify-center p-8 lg:p-12 bg-gradient-to-bl from-white via-blue-50/20 to-gray-50/40 relative overflow-hidden",children:[s.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-gradient-to-bl from-primary/8 to-blue-400/8 rounded-full blur-2xl"}),s.jsx("div",{className:"absolute -bottom-10 -left-10 w-48 h-48 bg-gradient-to-tr from-blue-500/6 to-primary/6 rounded-full blur-2xl"}),s.jsx("div",{className:"w-full max-w-md relative z-10",children:s.jsxs(J,{className:"shadow-2xl border border-blue-100/60 bg-white/95 backdrop-blur-sm",children:[s.jsxs(fe,{className:"text-center pb-6 pt-8",children:[s.jsx(xe,{className:"text-3xl font-semibold mb-2",children:t?"Create Account":"Sign In"}),s.jsx(lt,{className:"text-lg",children:t?"Join the community and start collaborating":"Access your dashboard"})]}),s.jsxs(te,{className:"px-8 pb-8",children:[t?s.jsxs("form",{onSubmit:p.handleSubmit(k),className:"space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"firstName-desktop",className:"text-sm font-medium",children:"First Name"}),s.jsx(re,{id:"firstName-desktop",placeholder:"John",className:"h-12",...p.register("firstName")}),p.formState.errors.firstName&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.formState.errors.firstName.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"lastName-desktop",className:"text-sm font-medium",children:"Last Name"}),s.jsx(re,{id:"lastName-desktop",placeholder:"Doe",className:"h-12",...p.register("lastName")}),p.formState.errors.lastName&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.formState.errors.lastName.message})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"username-desktop",className:"text-sm font-medium",children:"Username"}),s.jsx(re,{id:"username-desktop",placeholder:"johndoe123",className:"h-12",...p.register("username")}),p.formState.errors.username&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.formState.errors.username.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"email-register-desktop",className:"text-sm font-medium",children:"Email Address"}),s.jsx(re,{id:"email-register-desktop",type:"email",placeholder:"your.email@example.com",className:"h-12",...p.register("email")}),p.formState.errors.email&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.formState.errors.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"password-register-desktop",className:"text-sm font-medium",children:"Password"}),s.jsx(re,{id:"password-register-desktop",type:"password",placeholder:"Create a strong password",className:"h-12",...p.register("password")}),p.formState.errors.password&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.formState.errors.password.message})]}),s.jsxs("div",{className:"flex items-start space-x-3 pt-1",children:[s.jsx("input",{type:"checkbox",id:"acceptTerms-desktop",className:"mt-1 h-4 w-4 text-primary border-gray-300 rounded focus:ring-primary",...p.register("acceptTerms")}),s.jsxs(W,{htmlFor:"acceptTerms-desktop",className:"text-sm leading-relaxed text-gray-600",children:["I agree to the"," ",s.jsx("a",{href:"/terms",target:"_blank",className:"text-primary hover:underline font-medium",children:"Terms of Service"})," ","and"," ",s.jsx("a",{href:"/privacy",target:"_blank",className:"text-primary hover:underline font-medium",children:"Privacy Policy"})]})]}),p.formState.errors.acceptTerms&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:p.formState.errors.acceptTerms.message}),s.jsx(E,{type:"submit",className:"w-full h-12 text-base font-medium",disabled:j.isPending,children:j.isPending?"Creating Account...":"Create Account"})]}):s.jsxs("form",{onSubmit:w.handleSubmit(b),className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"email-desktop",className:"text-sm font-medium",children:"Email Address"}),s.jsx(re,{id:"email-desktop",type:"email",placeholder:"your.email@example.com",className:"h-12",...w.register("email")}),w.formState.errors.email&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:w.formState.errors.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"password-desktop",className:"text-sm font-medium",children:"Password"}),s.jsx(re,{id:"password-desktop",type:"password",placeholder:"Enter your password",className:"h-12",...w.register("password")}),w.formState.errors.password&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:w.formState.errors.password.message})]}),s.jsx(E,{type:"submit",className:"w-full h-12 text-base font-medium",disabled:f.isPending,children:f.isPending?"Signing In...":"Sign In"})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[!t&&s.jsx("div",{className:"text-center mb-4",children:s.jsx($e,{href:"/auth/forgot-password",children:s.jsx(E,{variant:"link",className:"text-sm text-gray-600 hover:text-primary",children:"Forgot your password?"})})}),s.jsxs("p",{className:"text-center text-gray-600",children:[t?"Already have an account?":"Don't have an account?",s.jsx(E,{variant:"link",className:"ml-2 p-0 text-primary font-medium",onClick:()=>r(!t),children:t?"Sign In":"Sign Up"})]})]})]})]})})]})]})})}var vh="focusScope.autoFocusOnMount",jh="focusScope.autoFocusOnUnmount",Pv={bubbles:!1,cancelable:!0},lR="FocusScope",mm=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=e,[o,c]=m.useState(null),d=qt(a),u=qt(i),h=m.useRef(null),x=Je(t,g=>c(g)),y=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let g=function(j){if(y.paused||!o)return;const b=j.target;o.contains(b)?h.current=b:Wn(h.current,{select:!0})},w=function(j){if(y.paused||!o)return;const b=j.relatedTarget;b!==null&&(o.contains(b)||Wn(h.current,{select:!0}))},p=function(j){if(document.activeElement===document.body)for(const k of j)k.removedNodes.length>0&&Wn(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const f=new MutationObserver(p);return o&&f.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),f.disconnect()}}},[n,o,y.paused]),m.useEffect(()=>{if(o){Av.add(y);const g=document.activeElement;if(!o.contains(g)){const p=new CustomEvent(vh,Pv);o.addEventListener(vh,d),o.dispatchEvent(p),p.defaultPrevented||(oR(hR(e1(o)),{select:!0}),document.activeElement===g&&Wn(o))}return()=>{o.removeEventListener(vh,d),setTimeout(()=>{const p=new CustomEvent(jh,Pv);o.addEventListener(jh,u),o.dispatchEvent(p),p.defaultPrevented||Wn(g??document.body,{select:!0}),o.removeEventListener(jh,u),Av.remove(y)},0)}}},[o,d,u,y]);const v=m.useCallback(g=>{if(!r&&!n||y.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,p=document.activeElement;if(w&&p){const f=g.currentTarget,[j,b]=cR(f);j&&b?!g.shiftKey&&p===b?(g.preventDefault(),r&&Wn(j,{select:!0})):g.shiftKey&&p===j&&(g.preventDefault(),r&&Wn(b,{select:!0})):p===f&&g.preventDefault()}},[r,n,y.paused]);return s.jsx(Ue.div,{tabIndex:-1,...l,ref:x,onKeyDown:v})});mm.displayName=lR;function oR(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Wn(n,{select:t}),document.activeElement!==r)return}function cR(e){const t=e1(e),r=Ev(t,e),n=Ev(t.reverse(),e);return[r,n]}function e1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ev(e,t){for(const r of e)if(!dR(r,{upTo:t}))return r}function dR(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function uR(e){return e instanceof HTMLInputElement&&"select"in e}function Wn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&uR(e)&&t&&e.select()}}var Av=mR();function mR(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=_v(e,t),e.unshift(t)},remove(t){var r;e=_v(e,t),(r=e[0])==null||r.resume()}}}function _v(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function hR(e){return e.filter(t=>t.tagName!=="A")}var wh=0;function Vp(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Dv()),document.body.insertAdjacentElement("beforeend",e[1]??Dv()),wh++,()=>{wh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),wh--}},[])}function Dv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Yr=function(){return Yr=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Yr.apply(this,arguments)};function t1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function fR(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var $d="right-scroll-bar-position",Ud="width-before-scroll-bar",xR="with-scroll-bars-hidden",pR="--removed-body-scroll-bar-size";function bh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function gR(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var yR=typeof window<"u"?m.useLayoutEffect:m.useEffect,Rv=new WeakMap;function vR(e,t){var r=gR(null,function(n){return e.forEach(function(a){return bh(a,n)})});return yR(function(){var n=Rv.get(r);if(n){var a=new Set(n),i=new Set(e),l=r.current;a.forEach(function(o){i.has(o)||bh(o,null)}),i.forEach(function(o){a.has(o)||bh(o,l)})}Rv.set(r,e)},[e]),r}function jR(e){return e}function wR(e,t){t===void 0&&(t=jR);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var l=t(i,n);return r.push(l),function(){r=r.filter(function(o){return o!==l})}},assignSyncMedium:function(i){for(n=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(o){return i(o)},filter:function(){return r}}},assignMedium:function(i){n=!0;var l=[];if(r.length){var o=r;r=[],o.forEach(i),l=r}var c=function(){var u=l;l=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){l.push(u),d()},filter:function(u){return l=l.filter(u),r}}}};return a}function bR(e){e===void 0&&(e={});var t=wR(null);return t.options=Yr({async:!0,ssr:!1},e),t}var s1=function(e){var t=e.sideCar,r=t1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Yr({},r))};s1.isSideCarExport=!0;function NR(e,t){return e.useMedium(t),s1}var r1=bR(),Nh=function(){},hm=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Nh,onWheelCapture:Nh,onTouchMoveCapture:Nh}),a=n[0],i=n[1],l=e.forwardProps,o=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,x=e.sideCar,y=e.noIsolation,v=e.inert,g=e.allowPinchZoom,w=e.as,p=w===void 0?"div":w,f=e.gapMode,j=t1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=x,k=vR([r,t]),S=Yr(Yr({},j),a);return m.createElement(m.Fragment,null,u&&m.createElement(b,{sideCar:r1,removeScrollBar:d,shards:h,noIsolation:y,inert:v,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:f}),l?m.cloneElement(m.Children.only(o),Yr(Yr({},S),{ref:k})):m.createElement(p,Yr({},S,{className:c,ref:k}),o))});hm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hm.classNames={fullWidth:Ud,zeroRight:$d};var SR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=SR();return t&&e.setAttribute("nonce",t),e}function CR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function TR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var PR=function(){var e=0,t=null;return{add:function(r){e==0&&(t=kR())&&(CR(t,r),TR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ER=function(){var e=PR();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},n1=function(){var e=ER(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},AR={left:0,top:0,right:0,gap:0},Sh=function(e){return parseInt(e||"",10)||0},_R=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Sh(r),Sh(n),Sh(a)]},DR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return AR;var t=_R(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},RR=n1(),ll="data-scroll-locked",MR=function(e,t,r,n){var a=e.left,i=e.top,l=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(xR,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(ll,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($d,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Ud,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat($d," .").concat($d,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ud," .").concat(Ud,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ll,`] {
    `).concat(pR,": ").concat(o,`px;
  }
`)},Mv=function(){var e=parseInt(document.body.getAttribute(ll)||"0",10);return isFinite(e)?e:0},FR=function(){m.useEffect(function(){return document.body.setAttribute(ll,(Mv()+1).toString()),function(){var e=Mv()-1;e<=0?document.body.removeAttribute(ll):document.body.setAttribute(ll,e.toString())}},[])},OR=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;FR();var i=m.useMemo(function(){return DR(a)},[a]);return m.createElement(RR,{styles:MR(i,!t,a,r?"":"!important")})},ex=!1;if(typeof window<"u")try{var xd=Object.defineProperty({},"passive",{get:function(){return ex=!0,!0}});window.addEventListener("test",xd,xd),window.removeEventListener("test",xd,xd)}catch{ex=!1}var Ai=ex?{passive:!1}:!1,IR=function(e){return e.tagName==="TEXTAREA"},a1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!IR(e)&&r[t]==="visible")},LR=function(e){return a1(e,"overflowY")},$R=function(e){return a1(e,"overflowX")},Fv=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=i1(e,n);if(a){var i=l1(e,n),l=i[1],o=i[2];if(l>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},UR=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},zR=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},i1=function(e,t){return e==="v"?LR(t):$R(t)},l1=function(e,t){return e==="v"?UR(t):zR(t)},BR=function(e,t){return e==="h"&&t==="rtl"?-1:1},qR=function(e,t,r,n,a){var i=BR(e,window.getComputedStyle(t).direction),l=i*n,o=r.target,c=t.contains(o),d=!1,u=l>0,h=0,x=0;do{var y=l1(e,o),v=y[0],g=y[1],w=y[2],p=g-w-i*v;(v||p)&&i1(e,o)&&(h+=p,x+=v),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(u&&(Math.abs(h)<1||!a)||!u&&(Math.abs(x)<1||!a))&&(d=!0),d},pd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ov=function(e){return[e.deltaX,e.deltaY]},Iv=function(e){return e&&"current"in e?e.current:e},VR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},WR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},HR=0,_i=[];function KR(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),a=m.useState(HR++)[0],i=m.useState(n1)[0],l=m.useRef(e);m.useEffect(function(){l.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=fR([e.lockRef.current],(e.shards||[]).map(Iv),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var o=m.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!l.current.allowPinchZoom;var p=pd(g),f=r.current,j="deltaX"in g?g.deltaX:f[0]-p[0],b="deltaY"in g?g.deltaY:f[1]-p[1],k,S=g.target,C=Math.abs(j)>Math.abs(b)?"h":"v";if("touches"in g&&C==="h"&&S.type==="range")return!1;var P=Fv(C,S);if(!P)return!0;if(P?k=C:(k=C==="v"?"h":"v",P=Fv(C,S)),!P)return!1;if(!n.current&&"changedTouches"in g&&(j||b)&&(n.current=k),!k)return!0;var N=n.current||k;return qR(N,w,g,N==="h"?j:b,!0)},[]),c=m.useCallback(function(g){var w=g;if(!(!_i.length||_i[_i.length-1]!==i)){var p="deltaY"in w?Ov(w):pd(w),f=t.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&VR(k.delta,p)})[0];if(f&&f.should){w.cancelable&&w.preventDefault();return}if(!f){var j=(l.current.shards||[]).map(Iv).filter(Boolean).filter(function(k){return k.contains(w.target)}),b=j.length>0?o(w,j[0]):!l.current.noIsolation;b&&w.cancelable&&w.preventDefault()}}},[]),d=m.useCallback(function(g,w,p,f){var j={name:g,delta:w,target:p,should:f,shadowParent:QR(p)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(b){return b!==j})},1)},[]),u=m.useCallback(function(g){r.current=pd(g),n.current=void 0},[]),h=m.useCallback(function(g){d(g.type,Ov(g),g.target,o(g,e.lockRef.current))},[]),x=m.useCallback(function(g){d(g.type,pd(g),g.target,o(g,e.lockRef.current))},[]);m.useEffect(function(){return _i.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:x}),document.addEventListener("wheel",c,Ai),document.addEventListener("touchmove",c,Ai),document.addEventListener("touchstart",u,Ai),function(){_i=_i.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Ai),document.removeEventListener("touchmove",c,Ai),document.removeEventListener("touchstart",u,Ai)}},[]);var y=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(i,{styles:WR(a)}):null,y?m.createElement(OR,{gapMode:e.gapMode}):null)}function QR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const GR=NR(r1,KR);var fm=m.forwardRef(function(e,t){return m.createElement(hm,Yr({},e,{ref:t,sideCar:GR}))});fm.classNames=hm.classNames;var YR=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Di=new WeakMap,gd=new WeakMap,yd={},kh=0,o1=function(e){return e&&(e.host||o1(e.parentNode))},ZR=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=o1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},XR=function(e,t,r,n){var a=ZR(t,Array.isArray(e)?e:[e]);yd[r]||(yd[r]=new WeakMap);var i=yd[r],l=[],o=new Set,c=new Set(a),d=function(h){!h||o.has(h)||(o.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(x){if(o.has(x))u(x);else try{var y=x.getAttribute(n),v=y!==null&&y!=="false",g=(Di.get(x)||0)+1,w=(i.get(x)||0)+1;Di.set(x,g),i.set(x,w),l.push(x),g===1&&v&&gd.set(x,!0),w===1&&x.setAttribute(r,"true"),v||x.setAttribute(n,"true")}catch(p){console.error("aria-hidden: cannot operate on ",x,p)}})};return u(t),o.clear(),kh++,function(){l.forEach(function(h){var x=Di.get(h)-1,y=i.get(h)-1;Di.set(h,x),i.set(h,y),x||(gd.has(h)||h.removeAttribute(n),gd.delete(h)),y||h.removeAttribute(r)}),kh--,kh||(Di=new WeakMap,Di=new WeakMap,gd=new WeakMap,yd={})}},Wp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=YR(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),XR(n,a,r,"aria-hidden")):function(){return null}},Hp="Dialog",[c1,d1]=ar(Hp),[JR,Ur]=c1(Hp),u1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,o=m.useRef(null),c=m.useRef(null),[d=!1,u]=An({prop:n,defaultProp:a,onChange:i});return s.jsx(JR,{scope:t,triggerRef:o,contentRef:c,contentId:Sn(),titleId:Sn(),descriptionId:Sn(),open:d,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),modal:l,children:r})};u1.displayName=Hp;var m1="DialogTrigger",h1=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ur(m1,r),i=Je(t,a.triggerRef);return s.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Gp(a.open),...n,ref:i,onClick:_e(e.onClick,a.onOpenToggle)})});h1.displayName=m1;var Kp="DialogPortal",[e6,f1]=c1(Kp,{forceMount:void 0}),x1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Ur(Kp,t);return s.jsx(e6,{scope:t,forceMount:r,children:m.Children.map(n,l=>s.jsx(Ws,{present:r||i.open,children:s.jsx(Ec,{asChild:!0,container:a,children:l})}))})};x1.displayName=Kp;var Eu="DialogOverlay",p1=m.forwardRef((e,t)=>{const r=f1(Eu,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ur(Eu,e.__scopeDialog);return i.modal?s.jsx(Ws,{present:n||i.open,children:s.jsx(s6,{...a,ref:t})}):null});p1.displayName=Eu;var t6=oi("DialogOverlay.RemoveScroll"),s6=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ur(Eu,r);return s.jsx(fm,{as:t6,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ue.div,{"data-state":Gp(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),gi="DialogContent",g1=m.forwardRef((e,t)=>{const r=f1(gi,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ur(gi,e.__scopeDialog);return s.jsx(Ws,{present:n||i.open,children:i.modal?s.jsx(r6,{...a,ref:t}):s.jsx(n6,{...a,ref:t})})});g1.displayName=gi;var r6=m.forwardRef((e,t)=>{const r=Ur(gi,e.__scopeDialog),n=m.useRef(null),a=Je(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return Wp(i)},[]),s.jsx(y1,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,o=l.button===0&&l.ctrlKey===!0;(l.button===2||o)&&i.preventDefault()}),onFocusOutside:_e(e.onFocusOutside,i=>i.preventDefault())})}),n6=m.forwardRef((e,t)=>{const r=Ur(gi,e.__scopeDialog),n=m.useRef(!1),a=m.useRef(!1);return s.jsx(y1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,o;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),y1=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=e,o=Ur(gi,r),c=m.useRef(null),d=Je(t,c);return Vp(),s.jsxs(s.Fragment,{children:[s.jsx(mm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Wl,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Gp(o.open),...l,ref:d,onDismiss:()=>o.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(i6,{titleId:o.titleId}),s.jsx(o6,{contentRef:c,descriptionId:o.descriptionId})]})]})}),Qp="DialogTitle",v1=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ur(Qp,r);return s.jsx(Ue.h2,{id:a.titleId,...n,ref:t})});v1.displayName=Qp;var j1="DialogDescription",w1=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ur(j1,r);return s.jsx(Ue.p,{id:a.descriptionId,...n,ref:t})});w1.displayName=j1;var b1="DialogClose",N1=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ur(b1,r);return s.jsx(Ue.button,{type:"button",...n,ref:t,onClick:_e(e.onClick,()=>a.onOpenChange(!1))})});N1.displayName=b1;function Gp(e){return e?"open":"closed"}var S1="DialogTitleWarning",[a6,k1]=NP(S1,{contentName:gi,titleName:Qp,docsSlug:"dialog"}),i6=({titleId:e})=>{const t=k1(S1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},l6="DialogDescriptionWarning",o6=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${k1(l6).contentName}}.`;return m.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Yp=u1,Zp=h1,Xp=x1,Fc=p1,Oc=g1,Ic=v1,Lc=w1,xm=N1;const c6=Yp,d6=Zp,u6=Xp,C1=m.forwardRef(({className:e,...t},r)=>s.jsx(Fc,{className:Se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));C1.displayName=Fc.displayName;const m6=Hl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),T1=m.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(u6,{children:[s.jsx(C1,{}),s.jsxs(Oc,{ref:a,className:Se(m6({side:e}),t),...n,children:[r,s.jsxs(xm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(In,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));T1.displayName=Oc.displayName;const h6=m.forwardRef(({className:e,...t},r)=>s.jsx(Ic,{ref:r,className:Se("text-lg font-semibold text-foreground",e),...t}));h6.displayName=Ic.displayName;const f6=m.forwardRef(({className:e,...t},r)=>s.jsx(Lc,{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));f6.displayName=Lc.displayName;function wt(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}const x6=Hl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pe({className:e,variant:t,...r}){return s.jsx("div",{className:Se(x6({variant:t}),e),...r})}var p6=m.createContext(void 0);function pm(e){const t=m.useContext(p6);return e||t||"ltr"}function tx(e,[t,r]){return Math.min(r,Math.max(t,e))}function g6(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Jp="ScrollArea",[P1,QF]=ar(Jp),[y6,jr]=P1(Jp),E1=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...l}=e,[o,c]=m.useState(null),[d,u]=m.useState(null),[h,x]=m.useState(null),[y,v]=m.useState(null),[g,w]=m.useState(null),[p,f]=m.useState(0),[j,b]=m.useState(0),[k,S]=m.useState(!1),[C,P]=m.useState(!1),N=Je(t,D=>c(D)),O=pm(a);return s.jsx(y6,{scope:r,type:n,dir:O,scrollHideDelay:i,scrollArea:o,viewport:d,onViewportChange:u,content:h,onContentChange:x,scrollbarX:y,onScrollbarXChange:v,scrollbarXEnabled:k,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:w,scrollbarYEnabled:C,onScrollbarYEnabledChange:P,onCornerWidthChange:f,onCornerHeightChange:b,children:s.jsx(Ue.div,{dir:O,...l,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});E1.displayName=Jp;var A1="ScrollAreaViewport",_1=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,l=jr(A1,r),o=m.useRef(null),c=Je(t,o,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Ue.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});_1.displayName=A1;var dn="ScrollAreaScrollbar",eg=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=jr(dn,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=a,o=e.orientation==="horizontal";return m.useEffect(()=>(o?i(!0):l(!0),()=>{o?i(!1):l(!1)}),[o,i,l]),a.type==="hover"?s.jsx(v6,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(j6,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(D1,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(tg,{...n,ref:t}):null});eg.displayName=dn;var v6=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=jr(dn,e.__scopeScrollArea),[i,l]=m.useState(!1);return m.useEffect(()=>{const o=a.scrollArea;let c=0;if(o){const d=()=>{window.clearTimeout(c),l(!0)},u=()=>{c=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return o.addEventListener("pointerenter",d),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",d),o.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Ws,{present:r||i,children:s.jsx(D1,{"data-state":i?"visible":"hidden",...n,ref:t})})}),j6=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=jr(dn,e.__scopeScrollArea),i=e.orientation==="horizontal",l=ym(()=>c("SCROLL_END"),100),[o,c]=g6("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(o==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[o,a.scrollHideDelay,c]),m.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const x=()=>{const y=d[u];h!==y&&(c("SCROLL"),l()),h=y};return d.addEventListener("scroll",x),()=>d.removeEventListener("scroll",x)}},[a.viewport,i,c,l]),s.jsx(Ws,{present:r||o!=="hidden",children:s.jsx(tg,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:_e(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:_e(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),D1=m.forwardRef((e,t)=>{const r=jr(dn,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,l]=m.useState(!1),o=e.orientation==="horizontal",c=ym(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;l(o?d:u)}},10);return Il(r.viewport,c),Il(r.content,c),s.jsx(Ws,{present:n||i,children:s.jsx(tg,{"data-state":i?"visible":"hidden",...a,ref:t})})}),tg=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=jr(dn,e.__scopeScrollArea),i=m.useRef(null),l=m.useRef(0),[o,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=I1(o.viewport,o.content),u={...n,sizes:o,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:x=>i.current=x,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:x=>l.current=x};function h(x,y){return C6(x,l.current,o,y)}return r==="horizontal"?s.jsx(w6,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const x=a.viewport.scrollLeft,y=Lv(x,o,a.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollLeft=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollLeft=h(x,a.dir))}}):r==="vertical"?s.jsx(b6,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const x=a.viewport.scrollTop,y=Lv(x,o);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollTop=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollTop=h(x))}}):null}),w6=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=jr(dn,e.__scopeScrollArea),[l,o]=m.useState(),c=m.useRef(null),d=Je(t,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),s.jsx(M1,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gm(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const x=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(x),$1(x,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&l&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:_u(l.paddingLeft),paddingEnd:_u(l.paddingRight)}})}})}),b6=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=jr(dn,e.__scopeScrollArea),[l,o]=m.useState(),c=m.useRef(null),d=Je(t,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),s.jsx(M1,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gm(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const x=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(x),$1(x,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&l&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:_u(l.paddingTop),paddingEnd:_u(l.paddingBottom)}})}})}),[N6,R1]=P1(dn),M1=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...x}=e,y=jr(dn,r),[v,g]=m.useState(null),w=Je(t,N=>g(N)),p=m.useRef(null),f=m.useRef(""),j=y.viewport,b=n.content-n.viewport,k=qt(u),S=qt(c),C=ym(h,10);function P(N){if(p.current){const O=N.clientX-p.current.left,D=N.clientY-p.current.top;d({x:O,y:D})}}return m.useEffect(()=>{const N=O=>{const D=O.target;(v==null?void 0:v.contains(D))&&k(O,b)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[j,v,b,k]),m.useEffect(S,[n,S]),Il(v,C),Il(y.content,C),s.jsx(N6,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:qt(i),onThumbPointerUp:qt(l),onThumbPositionChange:S,onThumbPointerDown:qt(o),children:s.jsx(Ue.div,{...x,ref:w,style:{position:"absolute",...x.style},onPointerDown:_e(e.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),p.current=v.getBoundingClientRect(),f.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),P(N))}),onPointerMove:_e(e.onPointerMove,P),onPointerUp:_e(e.onPointerUp,N=>{const O=N.target;O.hasPointerCapture(N.pointerId)&&O.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=f.current,y.viewport&&(y.viewport.style.scrollBehavior=""),p.current=null})})})}),Au="ScrollAreaThumb",F1=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=R1(Au,e.__scopeScrollArea);return s.jsx(Ws,{present:r||a.hasThumb,children:s.jsx(S6,{ref:t,...n})})}),S6=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=jr(Au,r),l=R1(Au,r),{onThumbPositionChange:o}=l,c=Je(t,h=>l.onThumbChange(h)),d=m.useRef(void 0),u=ym(()=>{d.current&&(d.current(),d.current=void 0)},100);return m.useEffect(()=>{const h=i.viewport;if(h){const x=()=>{if(u(),!d.current){const y=T6(h,o);d.current=y,o()}};return o(),h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[i.viewport,u,o]),s.jsx(Ue.div,{"data-state":l.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:_e(e.onPointerDownCapture,h=>{const y=h.target.getBoundingClientRect(),v=h.clientX-y.left,g=h.clientY-y.top;l.onThumbPointerDown({x:v,y:g})}),onPointerUp:_e(e.onPointerUp,l.onThumbPointerUp)})});F1.displayName=Au;var sg="ScrollAreaCorner",O1=m.forwardRef((e,t)=>{const r=jr(sg,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(k6,{...e,ref:t}):null});O1.displayName=sg;var k6=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=jr(sg,r),[i,l]=m.useState(0),[o,c]=m.useState(0),d=!!(i&&o);return Il(a.scrollbarX,()=>{var h;const u=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),Il(a.scrollbarY,()=>{var h;const u=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(u),l(u)}),d?s.jsx(Ue.div,{...n,ref:t,style:{width:i,height:o,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function _u(e){return e?parseInt(e,10):0}function I1(e,t){const r=e/t;return isNaN(r)?0:r}function gm(e){const t=I1(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function C6(e,t,r,n="ltr"){const a=gm(r),i=a/2,l=t||i,o=a-l,c=r.scrollbar.paddingStart+l,d=r.scrollbar.size-r.scrollbar.paddingEnd-o,u=r.content-r.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return L1([c,d],h)(e)}function Lv(e,t,r="ltr"){const n=gm(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,l=t.content-t.viewport,o=i-n,c=r==="ltr"?[0,l]:[l*-1,0],d=tx(e,c);return L1([0,l],[0,o])(d)}function L1(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function $1(e,t){return e>0&&e<t}var T6=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},l=r.left!==i.left,o=r.top!==i.top;(l||o)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function ym(e,t){const r=qt(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Il(e,t){const r=qt(t);cs(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var U1=E1,P6=_1,E6=O1;const Ll=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(U1,{ref:n,className:Se("relative overflow-hidden",e),...r,children:[s.jsx(P6,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(z1,{}),s.jsx(E6,{})]}));Ll.displayName=U1.displayName;const z1=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(eg,{ref:n,orientation:t,className:Se("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(F1,{className:"relative flex-1 rounded-full bg-border"})}));z1.displayName=eg.displayName;var rg="Popover",[B1,GF]=ar(rg,[Zl]),$c=Zl(),[A6,Da]=B1(rg),q1=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:l=!1}=e,o=$c(t),c=m.useRef(null),[d,u]=m.useState(!1),[h=!1,x]=An({prop:n,defaultProp:a,onChange:i});return s.jsx(iN,{...o,children:s.jsx(A6,{scope:t,contentId:Sn(),triggerRef:c,open:h,onOpenChange:x,onOpenToggle:m.useCallback(()=>x(y=>!y),[x]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:l,children:r})})};q1.displayName=rg;var V1="PopoverAnchor",_6=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Da(V1,r),i=$c(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:o}=a;return m.useEffect(()=>(l(),()=>o()),[l,o]),s.jsx(im,{...i,...n,ref:t})});_6.displayName=V1;var W1="PopoverTrigger",H1=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Da(W1,r),i=$c(r),l=Je(t,a.triggerRef),o=s.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Z1(a.open),...n,ref:l,onClick:_e(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?o:s.jsx(im,{asChild:!0,...i,children:o})});H1.displayName=W1;var ng="PopoverPortal",[D6,R6]=B1(ng,{forceMount:void 0}),K1=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Da(ng,t);return s.jsx(D6,{scope:t,forceMount:r,children:s.jsx(Ws,{present:r||i.open,children:s.jsx(Ec,{asChild:!0,container:a,children:n})})})};K1.displayName=ng;var $l="PopoverContent",Q1=m.forwardRef((e,t)=>{const r=R6($l,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Da($l,e.__scopePopover);return s.jsx(Ws,{present:n||i.open,children:i.modal?s.jsx(F6,{...a,ref:t}):s.jsx(O6,{...a,ref:t})})});Q1.displayName=$l;var M6=oi("PopoverContent.RemoveScroll"),F6=m.forwardRef((e,t)=>{const r=Da($l,e.__scopePopover),n=m.useRef(null),a=Je(t,n),i=m.useRef(!1);return m.useEffect(()=>{const l=n.current;if(l)return Wp(l)},[]),s.jsx(fm,{as:M6,allowPinchZoom:!0,children:s.jsx(G1,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,l=>{var o;l.preventDefault(),i.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,l=>{const o=l.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,d=o.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:_e(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),O6=m.forwardRef((e,t)=>{const r=Da($l,e.__scopePopover),n=m.useRef(!1),a=m.useRef(!1);return s.jsx(G1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,o;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),G1=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,x=Da($l,r),y=$c(r);return Vp(),s.jsx(mm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Wl,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:u,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>x.onOpenChange(!1),children:s.jsx(Rp,{"data-state":Z1(x.open),role:"dialog",id:x.contentId,...y,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Y1="PopoverClose",I6=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Da(Y1,r);return s.jsx(Ue.button,{type:"button",...n,ref:t,onClick:_e(e.onClick,()=>a.onOpenChange(!1))})});I6.displayName=Y1;var L6="PopoverArrow",$6=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=$c(r);return s.jsx(Mp,{...a,...n,ref:t})});$6.displayName=L6;function Z1(e){return e?"open":"closed"}var U6=q1,z6=H1,B6=K1,X1=Q1;const q6=U6,V6=z6,J1=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(B6,{children:s.jsx(X1,{ref:a,align:t,sideOffset:r,className:Se("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));J1.displayName=X1.displayName;function bt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Pa(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const eS=6048e5,W6=864e5,vd=43200,$v=1440;let H6={};function Uc(){return H6}function vc(e,t){var o,c,d,u;const r=Uc(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=bt(e),i=a.getDay(),l=(i<n?7:0)+i-n;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function Du(e){return vc(e,{weekStartsOn:1})}function tS(e){const t=bt(e),r=t.getFullYear(),n=Pa(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Du(n),i=Pa(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const l=Du(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function Uv(e){const t=bt(e);return t.setHours(0,0,0,0),t}function Ru(e){const t=bt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function K6(e,t){const r=Uv(e),n=Uv(t),a=+r-Ru(r),i=+n-Ru(n);return Math.round((a-i)/W6)}function Q6(e){const t=tS(e),r=Pa(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Du(r)}function zd(e,t){const r=bt(e),n=bt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function G6(e){return Pa(e,Date.now())}function Y6(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Z6(e){if(!Y6(e)&&typeof e!="number")return!1;const t=bt(e);return!isNaN(Number(t))}function X6(e,t){const r=bt(e),n=bt(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function J6(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function e5(e,t){return+bt(e)-+bt(t)}function t5(e){const t=bt(e);return t.setHours(23,59,59,999),t}function s5(e){const t=bt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function r5(e){const t=bt(e);return+t5(t)==+s5(t)}function n5(e,t){const r=bt(e),n=bt(t),a=zd(r,n),i=Math.abs(X6(r,n));let l;if(i<1)l=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let o=zd(r,n)===-a;r5(bt(e))&&i===1&&zd(e,n)===1&&(o=!1),l=a*(i-Number(o))}return l===0?0:l}function a5(e,t,r){const n=e5(e,t)/1e3;return J6(r==null?void 0:r.roundingMethod)(n)}function i5(e){const t=bt(e),r=Pa(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const l5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o5=(e,t,r)=>{let n;const a=l5[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ch(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const c5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},d5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},u5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},m5={date:Ch({formats:c5,defaultWidth:"full"}),time:Ch({formats:d5,defaultWidth:"full"}),dateTime:Ch({formats:u5,defaultWidth:"full"})},h5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},f5=(e,t,r,n)=>h5[e];function fo(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):l;a=e.formattingValues[o]||e.formattingValues[l]}else{const l=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[o]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const x5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},p5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},g5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},y5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},v5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},j5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},w5=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},b5={ordinalNumber:w5,era:fo({values:x5,defaultWidth:"wide"}),quarter:fo({values:p5,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fo({values:g5,defaultWidth:"wide"}),day:fo({values:y5,defaultWidth:"wide"}),dayPeriod:fo({values:v5,defaultWidth:"wide",formattingValues:j5,defaultFormattingWidth:"wide"})};function xo(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const l=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?S5(o,h=>h.test(l)):N5(o,h=>h.test(l));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(l.length);return{value:d,rest:u}}}function N5(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function S5(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function k5(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const o=t.slice(a.length);return{value:l,rest:o}}}const C5=/^(\d+)(th|st|nd|rd)?/i,T5=/\d+/i,P5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},E5={any:[/^b/i,/^(a|c)/i]},A5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_5={any:[/1/i,/2/i,/3/i,/4/i]},D5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},R5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},M5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},F5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},O5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},I5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},L5={ordinalNumber:k5({matchPattern:C5,parsePattern:T5,valueCallback:e=>parseInt(e,10)}),era:xo({matchPatterns:P5,defaultMatchWidth:"wide",parsePatterns:E5,defaultParseWidth:"any"}),quarter:xo({matchPatterns:A5,defaultMatchWidth:"wide",parsePatterns:_5,defaultParseWidth:"any",valueCallback:e=>e+1}),month:xo({matchPatterns:D5,defaultMatchWidth:"wide",parsePatterns:R5,defaultParseWidth:"any"}),day:xo({matchPatterns:M5,defaultMatchWidth:"wide",parsePatterns:F5,defaultParseWidth:"any"}),dayPeriod:xo({matchPatterns:O5,defaultMatchWidth:"any",parsePatterns:I5,defaultParseWidth:"any"})},sS={code:"en-US",formatDistance:o5,formatLong:m5,formatRelative:f5,localize:b5,match:L5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $5(e){const t=bt(e);return K6(t,i5(t))+1}function U5(e){const t=bt(e),r=+Du(t)-+Q6(t);return Math.round(r/eS)+1}function rS(e,t){var u,h,x,y;const r=bt(e),n=r.getFullYear(),a=Uc(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(x=a.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,l=Pa(e,0);l.setFullYear(n+1,0,i),l.setHours(0,0,0,0);const o=vc(l,t),c=Pa(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=vc(c,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function z5(e,t){var o,c,d,u;const r=Uc(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=rS(e,t),i=Pa(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),vc(i,t)}function B5(e,t){const r=bt(e),n=+vc(r,t)-+z5(r,t);return Math.round(n/eS)+1}function ht(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const qn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ht(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ht(r+1,2)},d(e,t){return ht(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ht(e.getHours()%12||12,t.length)},H(e,t){return ht(e.getHours(),t.length)},m(e,t){return ht(e.getMinutes(),t.length)},s(e,t){return ht(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return ht(a,t.length)}},Ri={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zv={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return qn.y(e,t)},Y:function(e,t,r,n){const a=rS(e,n),i=a>0?a:1-a;if(t==="YY"){const l=i%100;return ht(l,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ht(i,t.length)},R:function(e,t){const r=tS(e);return ht(r,t.length)},u:function(e,t){const r=e.getFullYear();return ht(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ht(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ht(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return qn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ht(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=B5(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):ht(a,t.length)},I:function(e,t,r){const n=U5(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ht(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):qn.d(e,t)},D:function(e,t,r){const n=$5(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ht(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ht(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ht(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return ht(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Ri.noon:n===0?a=Ri.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Ri.evening:n>=12?a=Ri.afternoon:n>=4?a=Ri.morning:a=Ri.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return qn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):qn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ht(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ht(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):qn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):qn.s(e,t)},S:function(e,t){return qn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return qv(n);case"XXXX":case"XX":return La(n);case"XXXXX":case"XXX":default:return La(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return qv(n);case"xxxx":case"xx":return La(n);case"xxxxx":case"xxx":default:return La(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Bv(n,":");case"OOOO":default:return"GMT"+La(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Bv(n,":");case"zzzz":default:return"GMT"+La(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ht(n,t.length)},T:function(e,t,r){const n=e.getTime();return ht(n,t.length)}};function Bv(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+ht(i,2)}function qv(e,t){return e%60===0?(e>0?"-":"+")+ht(Math.abs(e)/60,2):La(e,t)}function La(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=ht(Math.trunc(n/60),2),i=ht(n%60,2);return r+a+t+i}const Vv=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},nS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},q5=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Vv(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Vv(n,t)).replace("{{time}}",nS(a,t))},V5={p:nS,P:q5},W5=/^D+$/,H5=/^Y+$/,K5=["D","DD","YY","YYYY"];function Q5(e){return W5.test(e)}function G5(e){return H5.test(e)}function Y5(e,t,r){const n=Z5(e,t,r);if(console.warn(n),K5.includes(e))throw new RangeError(n)}function Z5(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const X5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,J5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,e3=/^'([^]*?)'?$/,t3=/''/g,s3=/[a-zA-Z]/;function ya(e,t,r){var u,h,x,y;const n=Uc(),a=n.locale??sS,i=n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,l=n.weekStartsOn??((y=(x=n.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??0,o=bt(e);if(!Z6(o))throw new RangeError("Invalid time value");let c=t.match(J5).map(v=>{const g=v[0];if(g==="p"||g==="P"){const w=V5[g];return w(v,a.formatLong)}return v}).join("").match(X5).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:r3(v)};if(zv[g])return{isToken:!0,value:v};if(g.match(s3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(c=a.localize.preprocessor(o,c));const d={firstWeekContainsDate:i,weekStartsOn:l,locale:a};return c.map(v=>{if(!v.isToken)return v.value;const g=v.value;(G5(g)||Q5(g))&&Y5(g,t,String(e));const w=zv[g[0]];return w(o,g,a.localize,d)}).join("")}function r3(e){const t=e.match(e3);return t?t[1].replace(t3,"'"):e}function n3(e,t,r){const n=Uc(),a=(r==null?void 0:r.locale)??n.locale??sS,i=2520,l=zd(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:l});let c,d;l>0?(c=bt(t),d=bt(e)):(c=bt(e),d=bt(t));const u=a5(d,c),h=(Ru(d)-Ru(c))/1e3,x=Math.round((u-h)/60);let y;if(x<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,o):u<10?a.formatDistance("lessThanXSeconds",10,o):u<20?a.formatDistance("lessThanXSeconds",20,o):u<40?a.formatDistance("halfAMinute",0,o):u<60?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",1,o):x===0?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",x,o);if(x<45)return a.formatDistance("xMinutes",x,o);if(x<90)return a.formatDistance("aboutXHours",1,o);if(x<$v){const v=Math.round(x/60);return a.formatDistance("aboutXHours",v,o)}else{if(x<i)return a.formatDistance("xDays",1,o);if(x<vd){const v=Math.round(x/$v);return a.formatDistance("xDays",v,o)}else if(x<vd*2)return y=Math.round(x/vd),a.formatDistance("aboutXMonths",y,o)}if(y=n5(d,c),y<12){const v=Math.round(x/vd);return a.formatDistance("xMonths",v,o)}else{const v=y%12,g=Math.trunc(y/12);return v<3?a.formatDistance("aboutXYears",g,o):v<9?a.formatDistance("overXYears",g,o):a.formatDistance("almostXYears",g+1,o)}}function yi(e,t){return n3(e,G6(e),t)}function Wv({notifications:e,currentUserId:t}){const[r,n]=m.useState(!1),{toast:a}=at(),i=Nt(),l=e.filter(y=>!y.isRead).length,o=Ee({mutationFn:async y=>await ve(`/api/notifications/${y}`,{method:"PUT",body:{isRead:!0}}),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/notifications/user",t]})},onError:()=>{a({title:"Failed to mark notification as read",description:"Please try again later.",variant:"destructive"})}}),c=Ee({mutationFn:async()=>await ve("/api/notifications/mark-all-read",{method:"PUT",body:{userId:t}}),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/notifications/user",t]}),a({title:"All notifications marked as read",description:"Your notifications have been updated."})},onError:()=>{a({title:"Failed to mark all notifications as read",description:"Please try again later.",variant:"destructive"})}}),d=y=>{switch(y){case"exchange_pending":case"exchange_request":return s.jsx(gs,{className:"h-4 w-4 text-amber-600"});case"exchange_accepted":return s.jsx(yt,{className:"h-4 w-4 text-green-600"});case"exchange_rejected":case"exchange_cancelled":return s.jsx(bn,{className:"h-4 w-4 text-red-600"});case"exchange_delivered":case"exchange_completed":return s.jsx(F4,{className:"h-4 w-4 text-blue-600"});case"message":return s.jsx(is,{className:"h-4 w-4 text-purple-600"});default:return s.jsx(Gy,{className:"h-4 w-4 text-gray-600"})}},u=y=>{switch(y){case"exchange_pending":case"exchange_request":return"border-amber-200 bg-amber-50";case"exchange_accepted":return"border-green-200 bg-green-50";case"exchange_rejected":case"exchange_cancelled":return"border-red-200 bg-red-50";case"exchange_delivered":case"exchange_completed":return"border-blue-200 bg-blue-50";case"message":return"border-purple-200 bg-purple-50";default:return"border-gray-200 bg-gray-50"}},h=y=>{y.isRead||o.mutate(y.id)},x=y=>{n(y),y&&l>0&&c.mutate()};return s.jsxs(q6,{open:r,onOpenChange:x,children:[s.jsx(V6,{asChild:!0,children:s.jsxs(E,{variant:"ghost",size:"sm",className:"relative",children:[s.jsx(Gy,{className:"h-5 w-5"}),l>0&&s.jsx(Pe,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:l})]})}),s.jsxs(J1,{className:"w-80 p-0",align:"end",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Notifications"}),l>0&&s.jsxs(E,{variant:"ghost",size:"sm",onClick:()=>c.mutate(),disabled:c.isPending,className:"text-xs h-6 px-2",children:[s.jsx(Kl,{className:"h-3 w-3 mr-1"}),"Mark all read"]})]}),s.jsx(Ll,{className:"h-80",children:e.length===0?s.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No notifications yet"}):s.jsx("div",{className:"p-2 space-y-2",children:e.map(y=>s.jsx("div",{onClick:()=>h(y),className:`p-3 rounded-lg border cursor-pointer transition-colors hover:bg-gray-50 ${y.isRead?"border-gray-200 bg-white":u(y.type)}`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:d(y.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:`text-sm font-medium ${y.isRead?"text-gray-700":"text-gray-900"}`,children:y.title}),!y.isRead&&s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:y.message}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:yi(new Date(y.createdAt),{addSuffix:!0})})]})]})},y.id))})})]})]})}function a3(e){return e?e.startsWith("http")||e.startsWith("/uploads/")?e:e.startsWith("/avatars/")?`/api/profile/avatar${e}`:e:null}function i3(e){var n,a,i,l;if(!e)return"?";const t=((a=(n=e.firstName)==null?void 0:n.charAt(0))==null?void 0:a.toUpperCase())||"",r=((l=(i=e.lastName)==null?void 0:i.charAt(0))==null?void 0:l.toUpperCase())||"";return t+r||"?"}const l3={sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-sm",xl:"w-16 h-16 text-lg"};function Va({user:e,size:t="md",className:r,showFallback:n=!0}){const a=a3(e==null?void 0:e.avatar),i=i3(e),l=`${l3[t]} rounded-full flex-shrink-0 overflow-hidden`;return a?s.jsx("div",{className:Se(l,r),children:s.jsx("img",{src:a,alt:`${(e==null?void 0:e.firstName)||""} ${(e==null?void 0:e.lastName)||""}`.trim()||"User avatar",className:"w-full h-full object-cover",onError:o=>{if(n){o.currentTarget.style.display="none";const c=o.currentTarget.parentElement;c&&(c.innerHTML=`
                  <div class="w-full h-full bg-gradient-to-r from-indigo-500 to-blue-600 flex items-center justify-center">
                    <span class="text-white font-bold ${t==="sm"?"text-xs":"text-sm"}">${i}</span>
                  </div>
                `)}}})}):n?s.jsx("div",{className:Se(l,"bg-gradient-to-r from-indigo-500 to-blue-600 flex items-center justify-center",r),children:s.jsx("span",{className:"text-white font-bold",children:i})}):null}const o3=[{name:"Dashboard",href:"/dashboard",icon:vp},{name:"My Sites",href:"/sites",icon:sn},{name:"Marketplace",href:"/directory",icon:di},{name:"Wallet",href:"/wallet",icon:mi},{name:"Orders & Requests",href:"/orders",icon:Si},{name:"Support",href:"/support",icon:is},{name:"Profile",href:"/profile",icon:Dn}];function c3({notifications:e}){var d,u;const{user:t,logout:r}=ds(),[n]=on(),[a,i]=m.useState(!1);e.filter(h=>!h.isRead).length;const{data:l}=ae({queryKey:["/api/wallet"],enabled:!!(t!=null&&t.id)}),{data:o}=ae({queryKey:["/api/settings/public"],enabled:!0}),c=(l==null?void 0:l.usdtBalance)||0;return s.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 w-full",children:s.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16 w-full",children:[s.jsx("div",{className:"flex items-center min-w-0 flex-shrink-0 max-w-[200px] sm:max-w-[300px] lg:max-w-none",children:s.jsx($e,{href:"/dashboard",className:"block",children:s.jsx("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-primary truncate cursor-pointer hover:text-primary/80 transition-colors whitespace-nowrap",children:(o==null?void 0:o.platformName)||"CollabPro"})})}),s.jsxs("div",{className:"hidden md:flex items-center space-x-2 lg:space-x-4 flex-shrink-0 min-w-0",children:[s.jsx(ac,{className:"bg-blue-50 text-blue-700 px-2 lg:px-3 py-1.5 rounded-lg border border-blue-200 text-xs lg:text-sm",showIcon:!0,showDate:!0,useAdminTimezone:(t==null?void 0:t.role)==="admin"}),s.jsxs("div",{className:"flex items-center space-x-1 lg:space-x-2 bg-green-50 text-green-700 px-2 lg:px-3 py-1.5 rounded-lg border border-green-200",children:[s.jsx(mi,{className:"h-3 w-3 lg:h-4 lg:w-4"}),s.jsx("span",{className:"text-xs lg:text-sm font-medium",children:wt(c)})]}),s.jsx(Wv,{notifications:e,currentUserId:(t==null?void 0:t.id)||""}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Va,{user:t,size:"md"}),s.jsxs("span",{className:"hidden lg:block font-medium text-gray-700",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),s.jsx(E,{variant:"ghost",size:"sm",onClick:r,children:"Sign Out"})]})]}),s.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[s.jsxs("div",{className:"flex items-center space-x-1 bg-green-50 text-green-700 px-2 py-1 rounded-lg border border-green-200",children:[s.jsx(mi,{className:"h-3 w-3"}),s.jsxs("span",{className:"text-xs font-medium",children:["$",c.toFixed(0)]})]}),s.jsx(Wv,{notifications:e,currentUserId:(t==null?void 0:t.id)||""}),s.jsxs(c6,{open:a,onOpenChange:i,children:[s.jsx(d6,{asChild:!0,children:s.jsx(E,{variant:"ghost",size:"sm",className:"p-2",children:s.jsx(D4,{className:"h-5 w-5"})})}),s.jsx(T1,{side:"right",className:"w-80 p-0",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex items-center justify-between p-4 border-b",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white font-medium",children:[(d=t==null?void 0:t.firstName)==null?void 0:d[0],(u=t==null?void 0:t.lastName)==null?void 0:u[0]]})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),s.jsx("p",{className:"text-sm text-gray-500",children:t==null?void 0:t.email})]})]})}),s.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:o3.map(h=>{const x=n===h.href;return s.jsxs($e,{href:h.href,className:Se("flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors",x?"bg-primary/10 text-primary border border-primary/20":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),onClick:()=>i(!1),children:[s.jsx(h.icon,{className:Se("mr-3 h-5 w-5",x?"text-primary":"text-gray-400")}),h.name]},h.name)})}),s.jsx("div",{className:"p-4 border-t",children:s.jsxs(E,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{r(),i(!1)},children:[s.jsx(jp,{className:"mr-3 h-5 w-5"}),"Sign Out"]})})]})})]})]})]})})})}const d3=[{name:"Dashboard",href:"/dashboard",icon:vp},{name:"My Sites",href:"/sites",icon:sn},{name:"Marketplace",href:"/directory",icon:di},{name:"Wallet",href:"/wallet",icon:mi},{name:"Orders & Requests",href:"/orders",icon:Si},{name:"Profile",href:"/profile",icon:Dn},{name:"Referral Program",href:"/referral",icon:ui},{name:"Support",href:"/support",icon:T4}];function u3({currentSection:e,exchanges:t,sites:r,orders:n=[],notifications:a=[]}){on();const{logout:i}=ds(),{user:l}=ds(),{data:o}=ae({queryKey:["/api/support/notifications/count",l==null?void 0:l.id],enabled:!!(l!=null&&l.id),refetchInterval:5e3}),{data:c}=ae({queryKey:["/api/messages/unread-count",l==null?void 0:l.id],enabled:!!(l!=null&&l.id),refetchInterval:3e3}),d=(o==null?void 0:o.count)||0,u=(c==null?void 0:c.count)||0;t.filter(v=>v.status==="pending").length,n.filter(v=>v.status==="pending").length;const h=r.filter(v=>v.status==="approved").length,x=v=>{switch(v){case"/sites":return null;case"/directory":const g=n.filter(C=>C.status==="pending"&&C.sellerId===(l==null?void 0:l.id)).length;return g>0?g:null;case"/orders":const w=n.filter(C=>C.status==="pending"&&C.sellerId===(l==null?void 0:l.id)).length,p=n.filter(C=>(C.status==="accepted"||C.status==="in_progress"||C.status==="on_going")&&C.sellerId===(l==null?void 0:l.id)).length,f=n.filter(C=>(C.status==="delivered"||C.status==="on_going")&&C.buyerId===(l==null?void 0:l.id)).length,j=t.filter(C=>C.status==="pending"&&(C.requesterId===(l==null?void 0:l.id)||C.requestedUserId===(l==null?void 0:l.id))).length,b=t.filter(C=>(C.status==="active"||C.status==="delivered")&&(C.requesterId===(l==null?void 0:l.id)||C.requestedUserId===(l==null?void 0:l.id))).length,S=w+p+f+j+b+u;return S>0?S:null;case"/support":return d>0?d:null;default:return null}},y=v=>{switch(v){case"/sites":return"destructive";case"/directory":return"destructive";case"/orders":return"destructive";case"/chat":return"default";case"/support":return"default";default:return"secondary"}};return s.jsx("aside",{className:"hidden md:flex md:flex-shrink-0",children:s.jsx("div",{className:"flex flex-col w-64",children:s.jsxs("div",{className:"flex flex-col flex-grow pt-5 bg-white border-r border-gray-200 overflow-y-auto",children:[s.jsx("div",{className:"flex-grow flex flex-col",children:s.jsx("nav",{className:"flex-1 px-4 pb-4 space-y-1",children:d3.map(v=>{const g=e===v.href.replace("/",""),w=x(v.href);return s.jsxs($e,{href:v.href,className:Se("group flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors",g?"bg-primary/5 border-r-2 border-primary text-primary":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[s.jsx(v.icon,{className:Se("mr-3 h-5 w-5",g?"text-primary":"text-gray-400 group-hover:text-gray-500")}),v.name,v.href==="/sites"&&h>0&&s.jsx("span",{className:"ml-auto text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:h}),v.href!=="/sites"&&w&&s.jsx(Pe,{variant:y(v.href),className:"ml-auto",children:w})]},v.name)})})}),s.jsx("div",{className:"flex-shrink-0 p-4 border-t border-gray-200",children:s.jsxs(E,{variant:"ghost",className:"w-full justify-start",onClick:i,children:[s.jsx(jp,{className:"mr-3 h-5 w-5"}),"Sign Out"]})})]})})})}const Jt=m.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Jt.displayName="Textarea";var m3=[" ","Enter","ArrowUp","ArrowDown"],h3=[" ","Enter"],zc="Select",[vm,jm,f3]=mp(zc),[Xl,YF]=ar(zc,[f3,Zl]),wm=Zl(),[x3,Ra]=Xl(zc),[p3,g3]=Xl(zc),aS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:l,defaultValue:o,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:x,required:y,form:v}=e,g=wm(t),[w,p]=m.useState(null),[f,j]=m.useState(null),[b,k]=m.useState(!1),S=pm(d),[C=!1,P]=An({prop:n,defaultProp:a,onChange:i}),[N,O]=An({prop:l,defaultProp:o,onChange:c}),D=m.useRef(null),M=w?v||!!w.closest("form"):!0,[H,B]=m.useState(new Set),Q=Array.from(H).map(se=>se.props.value).join(";");return s.jsx(iN,{...g,children:s.jsxs(x3,{required:y,scope:t,trigger:w,onTriggerChange:p,valueNode:f,onValueNodeChange:j,valueNodeHasChildren:b,onValueNodeHasChildrenChange:k,contentId:Sn(),value:N,onValueChange:O,open:C,onOpenChange:P,dir:S,triggerPointerDownPosRef:D,disabled:x,children:[s.jsx(vm.Provider,{scope:t,children:s.jsx(p3,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(se=>{B(A=>new Set(A).add(se))},[]),onNativeOptionRemove:m.useCallback(se=>{B(A=>{const F=new Set(A);return F.delete(se),F})},[]),children:r})}),M?s.jsxs(AS,{"aria-hidden":!0,required:y,tabIndex:-1,name:u,autoComplete:h,value:N,onChange:se=>O(se.target.value),disabled:x,form:v,children:[N===void 0?s.jsx("option",{value:""}):null,Array.from(H)]},Q):null]})})};aS.displayName=zc;var iS="SelectTrigger",lS=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=wm(r),l=Ra(iS,r),o=l.disabled||n,c=Je(t,l.onTriggerChange),d=jm(r),u=m.useRef("touch"),[h,x,y]=_S(g=>{const w=d().filter(j=>!j.disabled),p=w.find(j=>j.value===l.value),f=DS(w,g,p);f!==void 0&&l.onValueChange(f.value)}),v=g=>{o||(l.onOpenChange(!0),y()),g&&(l.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(im,{asChild:!0,...i,children:s.jsx(Ue.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":ES(l.value)?"":void 0,...a,ref:c,onClick:_e(a.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&v(g)}),onPointerDown:_e(a.onPointerDown,g=>{u.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:_e(a.onKeyDown,g=>{const w=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&x(g.key),!(w&&g.key===" ")&&m3.includes(g.key)&&(v(),g.preventDefault())})})})});lS.displayName=iS;var oS="SelectValue",cS=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:l="",...o}=e,c=Ra(oS,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=Je(t,c.onValueNodeChange);return cs(()=>{d(u)},[d,u]),s.jsx(Ue.span,{...o,ref:h,style:{pointerEvents:"none"},children:ES(c.value)?s.jsx(s.Fragment,{children:l}):i})});cS.displayName=oS;var y3="SelectIcon",dS=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Ue.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});dS.displayName=y3;var v3="SelectPortal",uS=e=>s.jsx(Ec,{asChild:!0,...e});uS.displayName=v3;var vi="SelectContent",mS=m.forwardRef((e,t)=>{const r=Ra(vi,e.__scopeSelect),[n,a]=m.useState();if(cs(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Ni.createPortal(s.jsx(hS,{scope:e.__scopeSelect,children:s.jsx(vm.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(fS,{...e,ref:t})});mS.displayName=vi;var br=10,[hS,Ma]=Xl(vi),j3="SelectContentImpl",w3=oi("SelectContent.RemoveScroll"),fS=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:l,side:o,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:x,collisionPadding:y,sticky:v,hideWhenDetached:g,avoidCollisions:w,...p}=e,f=Ra(vi,r),[j,b]=m.useState(null),[k,S]=m.useState(null),C=Je(t,Y=>b(Y)),[P,N]=m.useState(null),[O,D]=m.useState(null),M=jm(r),[H,B]=m.useState(!1),Q=m.useRef(!1);m.useEffect(()=>{if(j)return Wp(j)},[j]),Vp();const se=m.useCallback(Y=>{const[pe,...Le]=M().map(ke=>ke.ref.current),[Fe]=Le.slice(-1),ye=document.activeElement;for(const ke of Y)if(ke===ye||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===pe&&k&&(k.scrollTop=0),ke===Fe&&k&&(k.scrollTop=k.scrollHeight),ke==null||ke.focus(),document.activeElement!==ye))return},[M,k]),A=m.useCallback(()=>se([P,j]),[se,P,j]);m.useEffect(()=>{H&&A()},[H,A]);const{onOpenChange:F,triggerPointerDownPosRef:U}=f;m.useEffect(()=>{if(j){let Y={x:0,y:0};const pe=Fe=>{var ye,ke;Y={x:Math.abs(Math.round(Fe.pageX)-(((ye=U.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(Fe.pageY)-(((ke=U.current)==null?void 0:ke.y)??0))}},Le=Fe=>{Y.x<=10&&Y.y<=10?Fe.preventDefault():j.contains(Fe.target)||F(!1),document.removeEventListener("pointermove",pe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",Le,{capture:!0})}}},[j,F,U]),m.useEffect(()=>{const Y=()=>F(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[F]);const[Z,q]=_S(Y=>{const pe=M().filter(ye=>!ye.disabled),Le=pe.find(ye=>ye.ref.current===document.activeElement),Fe=DS(pe,Y,Le);Fe&&setTimeout(()=>Fe.ref.current.focus())}),K=m.useCallback((Y,pe,Le)=>{const Fe=!Q.current&&!Le;(f.value!==void 0&&f.value===pe||Fe)&&(N(Y),Fe&&(Q.current=!0))},[f.value]),I=m.useCallback(()=>j==null?void 0:j.focus(),[j]),z=m.useCallback((Y,pe,Le)=>{const Fe=!Q.current&&!Le;(f.value!==void 0&&f.value===pe||Fe)&&D(Y)},[f.value]),ee=n==="popper"?sx:xS,ge=ee===sx?{side:o,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:x,collisionPadding:y,sticky:v,hideWhenDetached:g,avoidCollisions:w}:{};return s.jsx(hS,{scope:r,content:j,viewport:k,onViewportChange:S,itemRefCallback:K,selectedItem:P,onItemLeave:I,itemTextRefCallback:z,focusSelectedItem:A,selectedItemText:O,position:n,isPositioned:H,searchRef:Z,children:s.jsx(fm,{as:w3,allowPinchZoom:!0,children:s.jsx(mm,{asChild:!0,trapped:f.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:_e(a,Y=>{var pe;(pe=f.trigger)==null||pe.focus({preventScroll:!0}),Y.preventDefault()}),children:s.jsx(Wl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:s.jsx(ee,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:Y=>Y.preventDefault(),...p,...ge,onPlaced:()=>B(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:_e(p.onKeyDown,Y=>{const pe=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!pe&&Y.key.length===1&&q(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let Fe=M().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(Fe=Fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const ye=Y.target,ke=Fe.indexOf(ye);Fe=Fe.slice(ke+1)}setTimeout(()=>se(Fe)),Y.preventDefault()}})})})})})})});fS.displayName=j3;var b3="SelectItemAlignedPosition",xS=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Ra(vi,r),l=Ma(vi,r),[o,c]=m.useState(null),[d,u]=m.useState(null),h=Je(t,C=>u(C)),x=jm(r),y=m.useRef(!1),v=m.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:p,focusSelectedItem:f}=l,j=m.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&d&&g&&w&&p){const C=i.trigger.getBoundingClientRect(),P=d.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),O=p.getBoundingClientRect();if(i.dir!=="rtl"){const ye=O.left-P.left,ke=N.left-ye,L=C.left-ke,ce=C.width+L,G=Math.max(ce,P.width),Oe=window.innerWidth-br,Ve=tx(ke,[br,Math.max(br,Oe-G)]);o.style.minWidth=ce+"px",o.style.left=Ve+"px"}else{const ye=P.right-O.right,ke=window.innerWidth-N.right-ye,L=window.innerWidth-C.right-ke,ce=C.width+L,G=Math.max(ce,P.width),Oe=window.innerWidth-br,Ve=tx(ke,[br,Math.max(br,Oe-G)]);o.style.minWidth=ce+"px",o.style.right=Ve+"px"}const D=x(),M=window.innerHeight-br*2,H=g.scrollHeight,B=window.getComputedStyle(d),Q=parseInt(B.borderTopWidth,10),se=parseInt(B.paddingTop,10),A=parseInt(B.borderBottomWidth,10),F=parseInt(B.paddingBottom,10),U=Q+se+H+F+A,Z=Math.min(w.offsetHeight*5,U),q=window.getComputedStyle(g),K=parseInt(q.paddingTop,10),I=parseInt(q.paddingBottom,10),z=C.top+C.height/2-br,ee=M-z,ge=w.offsetHeight/2,Y=w.offsetTop+ge,pe=Q+se+Y,Le=U-pe;if(pe<=z){const ye=D.length>0&&w===D[D.length-1].ref.current;o.style.bottom="0px";const ke=d.clientHeight-g.offsetTop-g.offsetHeight,L=Math.max(ee,ge+(ye?I:0)+ke+A),ce=pe+L;o.style.height=ce+"px"}else{const ye=D.length>0&&w===D[0].ref.current;o.style.top="0px";const L=Math.max(z,Q+g.offsetTop+(ye?K:0)+ge)+Le;o.style.height=L+"px",g.scrollTop=pe-z+g.offsetTop}o.style.margin=`${br}px 0`,o.style.minHeight=Z+"px",o.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[x,i.trigger,i.valueNode,o,d,g,w,p,i.dir,n]);cs(()=>j(),[j]);const[b,k]=m.useState();cs(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const S=m.useCallback(C=>{C&&v.current===!0&&(j(),f==null||f(),v.current=!1)},[j,f]);return s.jsx(S3,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:y,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:s.jsx(Ue.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});xS.displayName=b3;var N3="SelectPopperPosition",sx=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=br,...i}=e,l=wm(r);return s.jsx(Rp,{...l,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sx.displayName=N3;var[S3,ag]=Xl(vi,{}),rx="SelectViewport",pS=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Ma(rx,r),l=ag(rx,r),o=Je(t,i.onViewportChange),c=m.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(vm.Slot,{scope:r,children:s.jsx(Ue.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:_e(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:x}=l;if(x!=null&&x.current&&h){const y=Math.abs(c.current-u.scrollTop);if(y>0){const v=window.innerHeight-br*2,g=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),p=Math.max(g,w);if(p<v){const f=p+y,j=Math.min(v,f),b=f-j;h.style.height=j+"px",h.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});pS.displayName=rx;var gS="SelectGroup",[k3,C3]=Xl(gS),T3=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Sn();return s.jsx(k3,{scope:r,id:a,children:s.jsx(Ue.div,{role:"group","aria-labelledby":a,...n,ref:t})})});T3.displayName=gS;var yS="SelectLabel",vS=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=C3(yS,r);return s.jsx(Ue.div,{id:a.id,...n,ref:t})});vS.displayName=yS;var Mu="SelectItem",[P3,jS]=Xl(Mu),wS=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...l}=e,o=Ra(Mu,r),c=Ma(Mu,r),d=o.value===n,[u,h]=m.useState(i??""),[x,y]=m.useState(!1),v=Je(t,f=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,f,n,a)}),g=Sn(),w=m.useRef("touch"),p=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(P3,{scope:r,value:n,disabled:a,textId:g,isSelected:d,onItemTextChange:m.useCallback(f=>{h(j=>j||((f==null?void 0:f.textContent)??"").trim())},[]),children:s.jsx(vm.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(Ue.div,{role:"option","aria-labelledby":g,"data-highlighted":x?"":void 0,"aria-selected":d&&x,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:v,onFocus:_e(l.onFocus,()=>y(!0)),onBlur:_e(l.onBlur,()=>y(!1)),onClick:_e(l.onClick,()=>{w.current!=="mouse"&&p()}),onPointerUp:_e(l.onPointerUp,()=>{w.current==="mouse"&&p()}),onPointerDown:_e(l.onPointerDown,f=>{w.current=f.pointerType}),onPointerMove:_e(l.onPointerMove,f=>{var j;w.current=f.pointerType,a?(j=c.onItemLeave)==null||j.call(c):w.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_e(l.onPointerLeave,f=>{var j;f.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:_e(l.onKeyDown,f=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&f.key===" "||(h3.includes(f.key)&&p(),f.key===" "&&f.preventDefault())})})})})});wS.displayName=Mu;var So="SelectItemText",bS=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,l=Ra(So,r),o=Ma(So,r),c=jS(So,r),d=g3(So,r),[u,h]=m.useState(null),x=Je(t,p=>h(p),c.onItemTextChange,p=>{var f;return(f=o.itemTextRefCallback)==null?void 0:f.call(o,p,c.value,c.disabled)}),y=u==null?void 0:u.textContent,v=m.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=d;return cs(()=>(g(v),()=>w(v)),[g,w,v]),s.jsxs(s.Fragment,{children:[s.jsx(Ue.span,{id:c.textId,...i,ref:x}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ni.createPortal(i.children,l.valueNode):null]})});bS.displayName=So;var NS="SelectItemIndicator",SS=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return jS(NS,r).isSelected?s.jsx(Ue.span,{"aria-hidden":!0,...n,ref:t}):null});SS.displayName=NS;var nx="SelectScrollUpButton",kS=m.forwardRef((e,t)=>{const r=Ma(nx,e.__scopeSelect),n=ag(nx,e.__scopeSelect),[a,i]=m.useState(!1),l=Je(t,n.onScrollButtonChange);return cs(()=>{if(r.viewport&&r.isPositioned){let o=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?s.jsx(TS,{...e,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});kS.displayName=nx;var ax="SelectScrollDownButton",CS=m.forwardRef((e,t)=>{const r=Ma(ax,e.__scopeSelect),n=ag(ax,e.__scopeSelect),[a,i]=m.useState(!1),l=Je(t,n.onScrollButtonChange);return cs(()=>{if(r.viewport&&r.isPositioned){let o=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?s.jsx(TS,{...e,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});CS.displayName=ax;var TS=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Ma("SelectScrollButton",r),l=m.useRef(null),o=jm(r),c=m.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),cs(()=>{var u;const d=o().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),s.jsx(Ue.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:_e(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:_e(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:_e(a.onPointerLeave,()=>{c()})})}),E3="SelectSeparator",PS=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ue.div,{"aria-hidden":!0,...n,ref:t})});PS.displayName=E3;var ix="SelectArrow",A3=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=wm(r),i=Ra(ix,r),l=Ma(ix,r);return i.open&&l.position==="popper"?s.jsx(Mp,{...a,...n,ref:t}):null});A3.displayName=ix;function ES(e){return e===""||e===void 0}var AS=m.forwardRef((e,t)=>{const{value:r,...n}=e,a=m.useRef(null),i=Je(t,a),l=Ip(r);return m.useEffect(()=>{const o=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==r&&u){const h=new Event("change",{bubbles:!0});u.call(o,r),o.dispatchEvent(h)}},[l,r]),s.jsx(Ac,{asChild:!0,children:s.jsx("select",{...n,ref:i,defaultValue:r})})});AS.displayName="BubbleSelect";function _S(e){const t=qt(e),r=m.useRef(""),n=m.useRef(0),a=m.useCallback(l=>{const o=r.current+l;t(o),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),i=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function DS(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let l=_3(e,Math.max(i,0));a.length===1&&(l=l.filter(d=>d!==r));const c=l.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function _3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var D3=aS,RS=lS,R3=cS,M3=dS,F3=uS,MS=mS,O3=pS,FS=vS,OS=wS,I3=bS,L3=SS,IS=kS,LS=CS,$S=PS;const vt=D3,jt=R3,ft=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(RS,{ref:n,className:Se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(M3,{asChild:!0,children:s.jsx(pp,{className:"h-4 w-4 opacity-50"})})]}));ft.displayName=RS.displayName;const US=m.forwardRef(({className:e,...t},r)=>s.jsx(IS,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(w4,{className:"h-4 w-4"})}));US.displayName=IS.displayName;const zS=m.forwardRef(({className:e,...t},r)=>s.jsx(LS,{ref:r,className:Se("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(pp,{className:"h-4 w-4"})}));zS.displayName=LS.displayName;const xt=m.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(F3,{children:s.jsxs(MS,{ref:a,className:Se("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(US,{}),s.jsx(O3,{className:Se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(zS,{})]})}));xt.displayName=MS.displayName;const $3=m.forwardRef(({className:e,...t},r)=>s.jsx(FS,{ref:r,className:Se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));$3.displayName=FS.displayName;const de=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(OS,{ref:n,className:Se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(L3,{children:s.jsx(Kl,{className:"h-4 w-4"})})}),s.jsx(I3,{children:t})]}));de.displayName=OS.displayName;const U3=m.forwardRef(({className:e,...t},r)=>s.jsx($S,{ref:r,className:Se("-mx-1 my-1 h-px bg-muted",e),...t}));U3.displayName=$S.displayName;const ot=Yp,us=Zp,z3=Xp,BS=m.forwardRef(({className:e,...t},r)=>s.jsx(Fc,{ref:r,className:Se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));BS.displayName=Fc.displayName;const ct=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(z3,{children:[s.jsx(BS,{}),s.jsxs(Oc,{ref:n,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[95vw] sm:max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-4 sm:p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg max-h-[95vh] overflow-y-auto",e),...r,children:[t,s.jsxs(xm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(In,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ct.displayName=Oc.displayName;const dt=({className:e,...t})=>s.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});dt.displayName="DialogHeader";const lx=({className:e,...t})=>s.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});lx.displayName="DialogFooter";const ut=m.forwardRef(({className:e,...t},r)=>s.jsx(Ic,{ref:r,className:Se("text-lg font-semibold leading-none tracking-tight",e),...t}));ut.displayName=Ic.displayName;const Ls=m.forwardRef(({className:e,...t},r)=>s.jsx(Lc,{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));Ls.displayName=Lc.displayName;const ji=y_,qS=m.createContext({}),ys=({...e})=>s.jsx(qS.Provider,{value:{name:e.name},children:s.jsx(w_,{...e})}),bm=()=>{const e=m.useContext(qS),t=m.useContext(VS),{getFieldState:r,formState:n}=dm(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},VS=m.createContext({}),ns=m.forwardRef(({className:e,...t},r)=>{const n=m.useId();return s.jsx(VS.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:Se("space-y-2",e),...t})})});ns.displayName="FormItem";const vs=m.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=bm();return s.jsx(W,{ref:r,className:Se(n&&"text-destructive",e),htmlFor:a,...t})});vs.displayName="FormLabel";const as=m.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=bm();return s.jsx(Gw,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});as.displayName="FormControl";const B3=m.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=bm();return s.jsx("p",{ref:r,id:n,className:Se("text-sm text-muted-foreground",e),...t})});B3.displayName="FormDescription";const Ps=m.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=bm(),l=a?String((a==null?void 0:a.message)??""):t;return l?s.jsx("p",{ref:n,id:i,className:Se("text-sm font-medium text-destructive",e),...r,children:l}):null});Ps.displayName="FormMessage";const q3=e=>e.replace(/<[^>]*>/g,"").replace(/[<>]/g,"").replace(/(https?:\/\/[^\s]+|www\.[^\s]+|[^\s]+\.[a-z]{2,})/gi,"").replace(/[^a-zA-Z0-9\s\.\,\!\?\-]/g,"").trim().substring(0,30),V3=Re.object({subject:Re.string().min(5,"Subject must be at least 5 characters").max(30,"Subject must be 30 characters or less").transform(q3).refine(e=>e.length>=5,"Subject too short after sanitization"),description:Re.string().min(20,"Description must be at least 20 characters").max(2e3,"Description must be 2000 characters or less").refine(e=>!/[<>\"'&]/.test(e),"Description contains invalid characters"),priority:Re.enum(["low","medium","high","urgent"]),category:Re.enum(["technical","billing","account","general"])}),W3=Re.object({message:Re.string().min(1,"Message cannot be empty").max(2e3,"Message must be 2000 characters or less")});function H3(){const{user:e}=ds(),{toast:t}=at(),[r,n]=m.useState(null),[a,i]=m.useState(!1),l=m.useRef(null),o=m.useRef(null),c=Ee({mutationFn:async S=>await ve("/api/support/notifications/mark-read",{method:"POST",body:{ticketId:S}}),onSuccess:()=>{Zt.invalidateQueries({queryKey:["/api/support/notifications/count",e==null?void 0:e.id]})}});m.useEffect(()=>{r&&e&&c.mutate(r.id)},[r==null?void 0:r.id,e==null?void 0:e.id]);const d=Ee({mutationFn:async()=>await ve("/api/support/notifications/mark-all-read",{method:"POST"}),onSuccess:()=>{Zt.invalidateQueries({queryKey:["/api/support/notifications/count",e==null?void 0:e.id]})}});m.useEffect(()=>{e&&d.mutate()},[e==null?void 0:e.id]);const u=qs({resolver:Vs(V3),defaultValues:{priority:"medium",category:"general"}}),h=qs({resolver:Vs(W3)}),{data:x=[],isLoading:y}=ae({queryKey:["/api/support/tickets/user",e==null?void 0:e.id],enabled:!!(e!=null&&e.id),refetchInterval:3e4}),{data:v=[],isLoading:g}=ae({queryKey:["/api/support/tickets",r==null?void 0:r.id,"messages"],enabled:!!(r!=null&&r.id),refetchInterval:5e3});m.useEffect(()=>{if(o.current){const S=o.current.querySelector("[data-radix-scroll-area-viewport]");S&&(S.scrollTop=S.scrollHeight)}},[v]);const w=Ee({mutationFn:async S=>await ve("/api/support/tickets",{method:"POST",body:{...S,status:"open"}}),onSuccess:()=>{Zt.invalidateQueries({queryKey:["/api/support/tickets/user"]}),i(!1),u.reset(),t({title:"Ticket created successfully",description:"Our support team will respond as soon as possible."})},onError:()=>{t({title:"Failed to create ticket",variant:"destructive"})}}),p=Ee({mutationFn:async S=>await ve(`/api/support/tickets/${S.ticketId}/messages`,{method:"POST",body:{message:S.message}}),onSuccess:()=>{Zt.invalidateQueries({queryKey:["/api/support/tickets",r==null?void 0:r.id,"messages"]}),Zt.invalidateQueries({queryKey:["/api/support/tickets/user"]}),h.reset({message:""})},onError:()=>{t({title:"Failed to send message",variant:"destructive"})}}),f=S=>{w.mutate(S)},j=S=>{r&&p.mutate({ticketId:r.id,message:S.message})},b=S=>{const C={open:{variant:"outline",icon:gs,label:"Open"},replied:{variant:"default",icon:R4,label:"Replied"},investigating:{variant:"secondary",icon:sr,label:"Investigating"},resolved:{variant:"default",icon:yt,label:"Resolved"},closed:{variant:"secondary",icon:In,label:"Closed"}},P=C[S]||C.open,N=P.icon;return s.jsxs(Pe,{variant:P.variant,className:"flex items-center gap-1",children:[s.jsx(N,{className:"h-3 w-3"}),P.label]})},k=S=>{const C={low:"outline",medium:"secondary",high:"default",urgent:"destructive"};return s.jsx(Pe,{variant:C[S]||"outline",children:S.charAt(0).toUpperCase()+S.slice(1)})};return s.jsx("div",{className:"space-y-6",children:s.jsx(J,{children:s.jsx(te,{className:"p-0",children:s.jsx("div",{className:"flex flex-col h-[500px] sm:h-[600px] lg:h-[700px]",children:r?s.jsxs("div",{className:"flex flex-col h-full w-full",children:[s.jsxs("div",{className:"p-4 border-b",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(E,{variant:"ghost",size:"sm",onClick:()=>n(null),className:"p-1 h-8 w-8",children:s.jsx(ws,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold text-sm",children:r.ticketNumber}),b(r.status)]})]}),s.jsx("h3",{className:"font-medium text-sm line-clamp-1",children:r.subject})]}),s.jsx(Ll,{ref:o,className:"flex-1 p-4",children:s.jsxs("div",{className:"space-y-4",children:[g?s.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading messages..."}):v.map(S=>s.jsx("div",{className:`w-full flex ${S.sender==="user"?"justify-end":"justify-start"} px-2`,children:s.jsxs("div",{className:`max-w-[90%] sm:max-w-[80%] md:max-w-[70%] p-3 rounded-lg ${S.sender==="user"?"bg-primary text-white":"bg-gray-100 text-gray-900"}`,style:{wordWrap:"break-word",overflowWrap:"break-word"},children:[s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsx("span",{className:"text-xs font-semibold",children:S.sender==="user"?"You":S.senderName||"Support Team"})}),s.jsx("div",{className:"text-sm leading-relaxed",style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:S.message}),s.jsxs("p",{className:"text-xs opacity-70 mt-2",children:[ya(new Date(S.createdAt),"MMM d, HH:mm")," UTC"]})]})},S.id)),s.jsx("div",{ref:l})]})}),r.status!=="closed"?s.jsx("div",{className:"p-4 border-t",children:s.jsx(ji,{...h,children:s.jsxs("form",{onSubmit:h.handleSubmit(j),className:"space-y-2",children:[s.jsx(ys,{control:h.control,name:"message",render:({field:S})=>s.jsxs(ns,{children:[s.jsx(as,{children:s.jsx(Jt,{placeholder:"Type your message...",rows:2,...S,onKeyDown:C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),h.handleSubmit(j)())}})}),s.jsx(Ps,{})]})}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(E,{type:"submit",size:"sm",disabled:p.isPending,className:"flex items-center gap-2",children:[s.jsx(_c,{className:"h-4 w-4"}),"Send Message"]})})]})})}):s.jsxs("div",{className:"p-4 border-t bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600",children:[s.jsx(Cb,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"This ticket is closed"})]}),s.jsx("p",{className:"text-xs text-gray-500 text-center mt-1",children:"You cannot send messages to closed tickets"})]})]}):s.jsxs("div",{className:"flex flex-col h-full w-full",children:[s.jsxs("div",{className:"p-3 sm:p-4 border-b flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0",children:[s.jsx("h3",{className:"font-semibold text-sm sm:text-base",children:"Support Tickets"}),s.jsxs(ot,{open:a,onOpenChange:i,children:[s.jsx(us,{asChild:!0,children:s.jsxs(E,{size:"sm",className:"flex items-center gap-2 w-full sm:w-auto text-xs sm:text-sm",children:[s.jsx(yr,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"New Ticket"}),s.jsx("span",{className:"sm:hidden",children:"New"})]})}),s.jsxs(ct,{className:"mx-2 sm:mx-4 max-w-sm sm:max-w-lg",children:[s.jsxs(dt,{className:"flex-shrink-0",children:[s.jsx(ut,{children:"Create Support Ticket"}),s.jsx(Ls,{children:"Describe your issue and our support team will assist you."})]}),s.jsx(ji,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(f),className:"space-y-4 flex-1",children:[s.jsx(ys,{control:u.control,name:"subject",render:({field:S})=>s.jsxs(ns,{children:[s.jsx(vs,{children:"Subject"}),s.jsx(as,{children:s.jsx(re,{placeholder:"Brief description of your issue",...S})}),s.jsx(Ps,{})]})}),s.jsx(ys,{control:u.control,name:"category",render:({field:S})=>s.jsxs(ns,{children:[s.jsx(vs,{children:"Category"}),s.jsxs(vt,{onValueChange:S.onChange,defaultValue:S.value,children:[s.jsx(as,{children:s.jsx(ft,{children:s.jsx(jt,{placeholder:"Select a category"})})}),s.jsxs(xt,{children:[s.jsx(de,{value:"technical",children:"Technical Issues"}),s.jsx(de,{value:"billing",children:"Billing & Payments"}),s.jsx(de,{value:"account",children:"Account Management"}),s.jsx(de,{value:"general",children:"General Inquiry"})]})]}),s.jsx(Ps,{})]})}),s.jsx(ys,{control:u.control,name:"priority",render:({field:S})=>s.jsxs(ns,{children:[s.jsx(vs,{children:"Priority"}),s.jsxs(vt,{onValueChange:S.onChange,defaultValue:S.value,children:[s.jsx(as,{children:s.jsx(ft,{children:s.jsx(jt,{placeholder:"Select priority"})})}),s.jsxs(xt,{children:[s.jsx(de,{value:"low",children:"Low"}),s.jsx(de,{value:"medium",children:"Medium"}),s.jsx(de,{value:"high",children:"High"}),s.jsx(de,{value:"urgent",children:"Urgent"})]})]}),s.jsx(Ps,{})]})}),s.jsx(ys,{control:u.control,name:"description",render:({field:S})=>s.jsxs(ns,{children:[s.jsx(vs,{children:"Description"}),s.jsx(as,{children:s.jsx(Jt,{placeholder:"Please provide detailed information about your issue...",rows:4,...S})}),s.jsx(Ps,{})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2",children:[s.jsx(E,{type:"button",variant:"outline",onClick:()=>i(!1),className:"w-full sm:w-auto",children:"Cancel"}),s.jsx(E,{type:"submit",disabled:w.isPending,className:"w-full sm:w-auto",children:"Create Ticket"})]})]})})]})]})]}),s.jsx(Ll,{className:"flex-1",children:s.jsx("div",{className:"p-4 space-y-3",children:y?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading tickets..."}):x.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Od,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No support tickets yet"}),s.jsx("p",{className:"text-sm",children:"Create your first ticket to get help"})]}):x.map(S=>s.jsx(J,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>n(S),children:s.jsxs(te,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold text-sm",children:S.ticketNumber}),b(S.status)]}),k(S.priority)]}),s.jsx("h4",{className:"font-medium text-sm mb-1 line-clamp-1",children:S.subject}),s.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-2",children:S.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsx("span",{className:"capitalize",children:S.category}),s.jsxs("span",{children:["Created: ",ya(new Date(S.createdAt),"MMM d, HH:mm")," UTC"]})]})]})},S.id))})})]})})})})})}function K3({sites:e,exchanges:t,userStats:r,totalSales:n=0}){const a=(r==null?void 0:r.totalSites)??e.length,i=(r==null?void 0:r.completedExchanges)??t.filter(c=>c.status==="completed"&&c.requesterCompleted===!0&&c.requestedUserCompleted===!0).length,l=(r==null?void 0:r.pendingApproval)??e.filter(c=>c.status==="pending").length,o=[{title:"Total Sites",value:a.toString(),icon:vp,bgColor:"bg-blue-50",iconColor:"text-blue-600",change:a>0?a===1?"1 site registered":`${a} sites registered`:"No sites yet",changeText:""},{title:"Completed Exchanges",value:i.toString(),icon:Al,bgColor:"bg-green-50",iconColor:"text-green-600",change:i>0?"Successfully completed":"No exchanges yet",changeText:""},{title:"Pending Approval",value:l.toString(),icon:gs,bgColor:"bg-amber-50",iconColor:"text-amber-600",change:l>0?"Review needed":"All approved",changeText:""},{title:"Total Sales",value:`$${n.toFixed(0)}`,icon:Bs,bgColor:"bg-purple-50",iconColor:"text-purple-600",change:n>0?"Revenue earned":"No sales yet",changeText:""}];return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:o.map((c,d)=>s.jsx(J,{className:"border border-gray-200 hover:shadow-md transition-shadow",children:s.jsxs(te,{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 truncate",children:c.title}),s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mt-1",children:c.value}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1 truncate",children:c.change})]}),s.jsx("div",{className:`${c.bgColor} p-3 rounded-full flex-shrink-0 ml-3`,children:s.jsx(c.icon,{className:`h-4 w-4 sm:h-6 sm:w-6 ${c.iconColor}`})})]}),c.changeText&&s.jsxs("div",{className:"mt-2 sm:mt-4 flex items-center text-xs sm:text-sm",children:[s.jsx("span",{className:`font-medium ${c.change.startsWith("+")?"text-green-600":"text-amber-600"}`,children:c.change}),c.changeText&&s.jsx("span",{className:"text-gray-600 ml-1 truncate",children:c.changeText})]})]})},d))})}function Q3({exchanges:e,orders:t}){const{user:r}=ds(),n=e.filter(l=>l.status==="completed").map(l=>{var o;return{id:`exchange-${l.id}`,icon:Kl,bgColor:"bg-green-100",iconColor:"text-green-600",message:"Exchange completed",siteName:((o=l.requestedSite)==null?void 0:o.domain)||"Unknown site",time:yi(new Date(l.updatedAt||l.createdAt),{addSuffix:!0}),timestamp:new Date(l.updatedAt||l.createdAt),type:"exchange"}}),a=(t||[]).filter(l=>l.status==="completed").map(l=>{var d,u;const o=l.buyerId===(r==null?void 0:r.id),c=((u=(d=l.listing)==null?void 0:d.site)==null?void 0:u.domain)||"Unknown site";return{id:`order-${l.id}`,icon:Si,bgColor:"bg-blue-100",iconColor:"text-blue-600",message:o?"Order Completed":"Order has been sold to",siteName:c,time:yi(new Date(l.updatedAt),{addSuffix:!0}),timestamp:new Date(l.updatedAt),type:"order"}}),i=[...n,...a].sort((l,o)=>o.timestamp.getTime()-l.timestamp.getTime()).slice(0,5);return s.jsxs(J,{className:"border border-gray-200",children:[s.jsx(fe,{className:"border-b border-gray-200",children:s.jsx(xe,{className:"text-lg font-semibold text-gray-900",children:"📋 Recent Activity"})}),s.jsx(te,{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:i.length>0?i.map(l=>s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`${l.bgColor} p-2 rounded-full`,children:s.jsx(l.icon,{className:`h-4 w-4 ${l.iconColor}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-gray-900",children:[l.message," for"," ",s.jsx("span",{className:"font-medium",children:l.siteName})]}),s.jsx("p",{className:"text-xs text-gray-500",children:l.time})]})]},l.id)):s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-sm text-gray-500",children:"No recent activity"})})})})]})}function G3({sites:e,orders:t}){const r=e.filter(i=>i.status==="approved").sort((i,l)=>(l.purchaseCount||0)-(i.purchaseCount||0)).slice(0,5),n=i=>{switch(i){case"approved":return s.jsx(Pe,{className:"bg-green-100 text-green-800",children:"Active"});case"pending":return s.jsx(Pe,{className:"bg-amber-100 text-amber-800",children:"Pending"});case"rejected":return s.jsx(Pe,{className:"bg-red-100 text-red-800",children:"Rejected"});default:return s.jsx(Pe,{variant:"secondary",children:"Unknown"})}},a=i=>{const l=["from-blue-500 to-purple-600","from-green-500 to-teal-600","from-purple-500 to-pink-600"];return l[i%l.length]};return s.jsxs(J,{className:"border border-gray-200",children:[s.jsx(fe,{className:"border-b border-gray-200",children:s.jsx(xe,{className:"text-lg font-semibold text-gray-900",children:"🔥 Top Performing Sites"})}),s.jsx(te,{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:r.length>0?r.map((i,l)=>{var o;return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${a(l)} rounded-lg flex items-center justify-center`,children:s.jsx(sn,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:i.domain}),s.jsxs("p",{className:"text-sm text-gray-500",children:[i.purchaseCount||0," orders | DA:"," ",i.domainAuthority," | Traffic:"," ",((o=i.monthlyTraffic)==null?void 0:o.toLocaleString())||0,"/mo"]})]})]}),s.jsx("div",{className:"text-right",children:n(i.status)})]},i.id)}):s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-sm text-gray-500",children:"No sites with completed orders yet"})})})})]})}const Hv=e=>{if(!e)return 0;const t=e.toString().trim().toUpperCase();if(t.endsWith("K")){const r=parseFloat(t.replace("K",""));return Math.floor(r*1e3)}else if(t.endsWith("M")){const r=parseFloat(t.replace("M",""));return Math.floor(r*1e6)}else{const r=parseFloat(t);return isNaN(r)?0:Math.floor(r)}},Y3=(e=10)=>Re.object({domain:Re.string().min(1,"Domain is required").max(40,"Domain must be 40 characters or less").refine(t=>t.includes("."),"Please enter a valid domain").refine(t=>!/[<>\"'&]/.test(t),"Domain contains invalid characters"),title:Re.string().min(1,"Title is required").max(30,"Title must be 30 characters or less").refine(t=>!/[<>\"'&]/.test(t),"Title contains invalid characters"),description:Re.string().max(500,"Description must be 500 characters or less").refine(t=>!t||!/[<>\"'&]/.test(t),"Description contains invalid characters").optional(),category:Re.string().min(1,"Category is required"),domainAuthority:Re.number().min(1).max(100),drScore:Re.number().min(1).max(100),monthlyTraffic:Re.number().min(1).max(199999999,"Monthly traffic must be less than 200,000,000"),language:Re.string().min(1,"Language is required"),purpose:Re.string().min(1,"Purpose is required"),linkType:Re.string().min(1,"Link type is required"),casinoAllowed:Re.string().optional(),price:Re.union([Re.number(),Re.nan()]).optional().transform(t=>t&&!isNaN(t)?t:void 0),deliveryTime:Re.union([Re.number(),Re.nan()]).optional().transform(t=>t&&!isNaN(t)?t:void 0)}).refine(t=>!(t.purpose==="sales"&&(!t.price||t.price<e||!t.deliveryTime||t.deliveryTime<=0)),{message:`Price must be at least $${e} for sales listings`,path:["price"]}).refine(t=>!(t.purpose==="sales"&&(!t.deliveryTime||t.deliveryTime<=0)),{message:"Delivery time is required for sales listings",path:["deliveryTime"]});function Z3({onSuccess:e,editingSite:t}){const{user:r}=ds(),{toast:n}=at(),a=Nt(),{data:i}=ae({queryKey:["/api/settings/public"]}),l=parseInt((i==null?void 0:i.minimumSalesPrice)||"10"),o=Y3(l),{data:c=[]}=ae({queryKey:["/api/categories"]}),d=qs({resolver:Vs(o),defaultValues:t?{domain:t.domain||"",title:t.title||"",description:t.description||"",category:t.category||"",domainAuthority:t.domainAuthority||void 0,drScore:t.drScore||void 0,monthlyTraffic:t.monthlyTraffic||void 0,language:t.language||"English",purpose:t.purpose||"exchange",linkType:t.linkType||"dofollow",casinoAllowed:t.casinoAllowed||"N/A",price:t.price?t.price:void 0,deliveryTime:t.deliveryTime||void 0}:{domain:"",title:"",description:"",category:"",domainAuthority:void 0,drScore:void 0,monthlyTraffic:void 0,language:"English",purpose:"sales",linkType:"dofollow",casinoAllowed:"N/A",price:void 0,deliveryTime:void 0}}),u=RN({control:d.control,name:"purpose"});m.useEffect(()=>{t||d.setValue("purpose","sales")},[t,d]);const h=Ee({mutationFn:async y=>{console.log("Form submission data:",y),console.log("Monthly traffic parsed:",y.monthlyTraffic);const v=t?`/api/sites/${t.id}`:"/api/sites";return await ve(v,{method:t?"PUT":"POST",body:{...y,userId:r==null?void 0:r.id}})},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/sites/user",r==null?void 0:r.id]}),n({title:t?"Site updated successfully!":"Site added successfully!",description:t?"Your site changes have been saved.":"Your site has been submitted for approval."}),e()},onError:y=>{const v=(y==null?void 0:y.message)||"Please check your information and try again.";n({title:"Failed to add site",description:v,variant:"destructive"})}}),x=y=>{console.log("Form submission data:",y),console.log("Form validation errors:",d.formState.errors),h.mutate(y)};return s.jsx("div",{className:"max-h-[80vh] overflow-y-auto",children:s.jsxs("form",{onSubmit:d.handleSubmit(x),className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"purpose",children:"What would you like to do?"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Choose how you want to use your site:"}),s.jsxs(vt,{onValueChange:y=>d.setValue("purpose",y),value:d.watch("purpose"),children:[s.jsx(ft,{children:s.jsx(jt,{placeholder:"Select site purpose"})}),s.jsxs(xt,{children:[s.jsx(de,{value:"sales",children:"💰 Sales - Selling guest post spots or link placements"}),s.jsx(de,{value:"exchange",children:"🤝 Link Collab – Non-reciprocal or reciprocal (A-B-C swaps)"})]})]}),d.formState.errors.purpose&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.formState.errors.purpose.message})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"linkType",children:"Link Type"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Choose the type of link you provide:"}),s.jsxs(vt,{onValueChange:y=>d.setValue("linkType",y),value:d.watch("linkType"),children:[s.jsx(ft,{children:s.jsx(jt,{placeholder:"Select link type"})}),s.jsxs(xt,{children:[s.jsx(de,{value:"dofollow",children:"✅ Do Follow - Pass link juice and SEO value"}),s.jsx(de,{value:"nofollow",children:"🚫 No Follow - Does not pass SEO value"})]})]}),d.formState.errors.linkType&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.formState.errors.linkType.message})]}),u==="sales"&&s.jsxs("div",{children:[s.jsx(W,{htmlFor:"casinoAllowed",children:"Casino Content Allowed"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Do you accept casino/gambling content?"}),s.jsxs(vt,{onValueChange:y=>d.setValue("casinoAllowed",y),value:d.watch("casinoAllowed"),children:[s.jsx(ft,{children:s.jsx(jt,{placeholder:"Select casino policy"})}),s.jsxs(xt,{children:[s.jsx(de,{value:"yes",children:"🎰 Yes - Casino content allowed"}),s.jsx(de,{value:"no",children:"🚫 No - Casino content not allowed"}),s.jsx(de,{value:"N/A",children:"➖ N/A - Not specified"})]})]}),d.formState.errors.casinoAllowed&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.formState.errors.casinoAllowed.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"domain",children:"Domain"}),s.jsx(re,{id:"domain",placeholder:"example.com",...d.register("domain")}),d.formState.errors.domain&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.formState.errors.domain.message})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"title",children:"Site Title"}),s.jsx(re,{id:"title",placeholder:"My Awesome Blog",...d.register("title")}),d.formState.errors.title&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.formState.errors.title.message})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"description",children:"Description"}),s.jsx(Jt,{id:"description",placeholder:"Brief description of your site...",...d.register("description")})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"category",children:"Category"}),s.jsxs(vt,{onValueChange:y=>d.setValue("category",y),children:[s.jsx(ft,{children:s.jsx(jt,{placeholder:"Select category"})}),s.jsx(xt,{children:c.map(y=>s.jsx(de,{value:y.name,children:y.name},y.id))})]}),d.formState.errors.category&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.formState.errors.category.message})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"language",children:"Language"}),s.jsxs(vt,{defaultValue:"English",onValueChange:y=>d.setValue("language",y),children:[s.jsx(ft,{children:s.jsx(jt,{})}),s.jsxs(xt,{children:[s.jsx(de,{value:"English",children:"English"}),s.jsx(de,{value:"Spanish",children:"Spanish"}),s.jsx(de,{value:"French",children:"French"}),s.jsx(de,{value:"German",children:"German"}),s.jsx(de,{value:"Portuguese",children:"Portuguese"})]})]})]})]}),u==="sales"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("h4",{className:"text-base font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"💰 Sales Information Required"}),s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-4",children:"Both price and delivery time are required and will be publicly visible to buyers in the marketplace directory."})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"price",className:"text-blue-900 dark:text-blue-100 font-medium",children:"Price (USD) *"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400",children:"$"}),s.jsx(re,{id:"price",type:"number",min:l,placeholder:`${l}`,className:"pl-8 border-blue-300 dark:border-blue-700 focus:border-blue-500",...d.register("price",{valueAsNumber:!0})})]}),s.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Publicly visible to potential buyers"}),s.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1",children:["Minimum price: $",l]}),s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:[(i==null?void 0:i.platformFeeType)==="percentage"?`${i.platformFee}%`:`$${(i==null?void 0:i.platformFee)||"5"}`," Earnings Deduction"]}),d.formState.errors.price&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.formState.errors.price.message})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"deliveryTime",className:"text-blue-900 dark:text-blue-100 font-medium",children:"Delivery Time (Days) *"}),s.jsx(re,{id:"deliveryTime",type:"number",min:"1",placeholder:"e.g., 2",className:"border-blue-300 dark:border-blue-700 focus:border-blue-500",...d.register("deliveryTime",{valueAsNumber:!0})}),s.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Typical delivery time (days)"}),d.formState.errors.deliveryTime&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.formState.errors.deliveryTime.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"domainAuthority",children:"DA Score (1-100)"}),s.jsx(re,{id:"domainAuthority",type:"number",min:"1",max:"100",placeholder:"Moz DA",...d.register("domainAuthority",{valueAsNumber:!0})}),d.formState.errors.domainAuthority&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.formState.errors.domainAuthority.message})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"drScore",children:"DR Score (1-100)"}),s.jsx(re,{id:"drScore",type:"number",min:"1",max:"100",placeholder:"Ahrefs DR",...d.register("drScore",{valueAsNumber:!0})}),d.formState.errors.drScore&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.formState.errors.drScore.message})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"monthlyTraffic",children:"Monthly Traffic"}),s.jsx(re,{id:"monthlyTraffic",type:"text",placeholder:"No Fake",...d.register("monthlyTraffic",{setValueAs:y=>Hv(y)})}),d.formState.errors.monthlyTraffic&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.formState.errors.monthlyTraffic.message})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 sm:gap-4 pt-4 border-t sticky bottom-0 bg-white dark:bg-gray-950",children:[s.jsx(E,{type:"button",variant:"outline",onClick:e,className:"w-full sm:w-auto",children:"Cancel"}),s.jsx(E,{type:"submit",disabled:h.isPending,className:"w-full sm:w-auto",onClick:y=>{var g,w;console.log("Button clicked!");const v=d.getValues();console.log("Current form values:",v),console.log("Monthly traffic raw input:",(g=document.getElementById("monthlyTraffic"))==null?void 0:g.value),console.log("Monthly traffic parsed:",Hv(((w=document.getElementById("monthlyTraffic"))==null?void 0:w.value)||"")),console.log("Form valid:",d.formState.isValid),console.log("Form errors:",d.formState.errors),d.trigger()},children:h.isPending?t?"Updating...":"Adding...":t?"Update Site":"Add Site"})]})]})})}var Th="rovingFocusGroup.onEntryFocus",X3={bubbles:!1,cancelable:!0},Nm="RovingFocusGroup",[ox,WS,J3]=mp(Nm),[eM,HS]=ar(Nm,[J3]),[tM,sM]=eM(Nm),KS=m.forwardRef((e,t)=>s.jsx(ox.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(ox.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(rM,{...e,ref:t})})}));KS.displayName=Nm;var rM=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,x=m.useRef(null),y=Je(t,x),v=pm(i),[g=null,w]=An({prop:l,defaultProp:o,onChange:c}),[p,f]=m.useState(!1),j=qt(d),b=WS(r),k=m.useRef(!1),[S,C]=m.useState(0);return m.useEffect(()=>{const P=x.current;if(P)return P.addEventListener(Th,j),()=>P.removeEventListener(Th,j)},[j]),s.jsx(tM,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:g,onItemFocus:m.useCallback(P=>w(P),[w]),onItemShiftTab:m.useCallback(()=>f(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(P=>P+1),[]),onFocusableItemRemove:m.useCallback(()=>C(P=>P-1),[]),children:s.jsx(Ue.div,{tabIndex:p||S===0?-1:0,"data-orientation":n,...h,ref:y,style:{outline:"none",...e.style},onMouseDown:_e(e.onMouseDown,()=>{k.current=!0}),onFocus:_e(e.onFocus,P=>{const N=!k.current;if(P.target===P.currentTarget&&N&&!p){const O=new CustomEvent(Th,X3);if(P.currentTarget.dispatchEvent(O),!O.defaultPrevented){const D=b().filter(se=>se.focusable),M=D.find(se=>se.active),H=D.find(se=>se.id===g),Q=[M,H,...D].filter(Boolean).map(se=>se.ref.current);YS(Q,u)}}k.current=!1}),onBlur:_e(e.onBlur,()=>f(!1))})})}),QS="RovingFocusGroupItem",GS=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,...l}=e,o=Sn(),c=i||o,d=sM(QS,r),u=d.currentTabStopId===c,h=WS(r),{onFocusableItemAdd:x,onFocusableItemRemove:y}=d;return m.useEffect(()=>{if(n)return x(),()=>y()},[n,x,y]),s.jsx(ox.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:s.jsx(Ue.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:_e(e.onMouseDown,v=>{n?d.onItemFocus(c):v.preventDefault()}),onFocus:_e(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:_e(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=iM(v,d.orientation,d.dir);if(g!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let p=h().filter(f=>f.focusable).map(f=>f.ref.current);if(g==="last")p.reverse();else if(g==="prev"||g==="next"){g==="prev"&&p.reverse();const f=p.indexOf(v.currentTarget);p=d.loop?lM(p,f+1):p.slice(f+1)}setTimeout(()=>YS(p))}})})})});GS.displayName=QS;var nM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function iM(e,t,r){const n=aM(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return nM[n]}function YS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function lM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var oM=KS,cM=GS,ig="Tabs",[dM,ZF]=ar(ig,[HS]),ZS=HS(),[uM,lg]=dM(ig),XS=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:c="automatic",...d}=e,u=pm(o),[h,x]=An({prop:n,onChange:a,defaultProp:i});return s.jsx(uM,{scope:r,baseId:Sn(),value:h,onValueChange:x,orientation:l,dir:u,activationMode:c,children:s.jsx(Ue.div,{dir:u,"data-orientation":l,...d,ref:t})})});XS.displayName=ig;var JS="TabsList",e2=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=lg(JS,r),l=ZS(r);return s.jsx(oM,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Ue.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});e2.displayName=JS;var t2="TabsTrigger",s2=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,l=lg(t2,r),o=ZS(r),c=a2(l.baseId,n),d=i2(l.baseId,n),u=n===l.value;return s.jsx(cM,{asChild:!0,...o,focusable:!a,active:u,children:s.jsx(Ue.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:_e(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?l.onValueChange(n):h.preventDefault()}),onKeyDown:_e(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&l.onValueChange(n)}),onFocus:_e(e.onFocus,()=>{const h=l.activationMode!=="manual";!u&&!a&&h&&l.onValueChange(n)})})})});s2.displayName=t2;var r2="TabsContent",n2=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...l}=e,o=lg(r2,r),c=a2(o.baseId,n),d=i2(o.baseId,n),u=n===o.value,h=m.useRef(u);return m.useEffect(()=>{const x=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(x)},[]),s.jsx(Ws,{present:a||u,children:({present:x})=>s.jsx(Ue.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!x,id:d,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:x&&i})})});n2.displayName=r2;function a2(e,t){return`${e}-trigger-${t}`}function i2(e,t){return`${e}-content-${t}`}var mM=XS,l2=e2,o2=s2,c2=n2;const Lr=mM,vr=m.forwardRef(({className:e,...t},r)=>s.jsx(l2,{ref:r,className:Se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));vr.displayName=l2.displayName;const ze=m.forwardRef(({className:e,...t},r)=>s.jsx(o2,{ref:r,className:Se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ze.displayName=o2.displayName;const Ye=m.forwardRef(({className:e,...t},r)=>s.jsx(c2,{ref:r,className:Se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ye.displayName=c2.displayName;function hM({mode:e,onModeChange:t,filters:r,onFiltersChange:n,onSortChange:a}){const[i,l]=m.useState(r||{search:"",category:"all",domainAuthority:"any",traffic:"any"}),{data:o=[]}=ae({queryKey:["/api/categories"]}),c=()=>{const u={search:"",category:"all",domainAuthority:"any",traffic:"any"};l(u),n==null||n(u),a==null||a(null)},d=u=>{l(u),n==null||n(u)};return m.useEffect(()=>{if(e==="exchange"){const u={...i,domainAuthority:"any",traffic:"any"};l(u),n==null||n(u),a==null||a("highTraffic")}else if(e==="marketplace"){const u={...i,domainAuthority:"any",traffic:"any"};l(u),n==null||n(u),a==null||a("bestSales")}},[e]),s.jsx(J,{className:"border border-gray-200",children:s.jsxs(te,{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"mb-4 sm:mb-6",children:[s.jsx(Lr,{value:e,onValueChange:u=>t(u),children:s.jsxs(vr,{className:"grid w-full grid-cols-2",children:[s.jsxs(ze,{value:"marketplace",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[s.jsx(Si,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Guest Post"}),s.jsx("span",{className:"sm:hidden",children:"Marketplace"})]}),s.jsxs(ze,{value:"exchange",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[s.jsx(Al,{className:"h-3 w-3 sm:h-4 sm:w-4"}),"Exchange"]})]})}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-2",children:e==="exchange"?"Connect with sites for link collaboration":"Explore available guest post opportunities"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"search",children:"Search Domains"}),s.jsxs("div",{className:"relative",children:[s.jsx(re,{id:"search",placeholder:"Enter domain or keyword...",value:i.search,onChange:u=>d({...i,search:u.target.value}),className:"pl-10"}),s.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"category",children:"Category"}),s.jsxs(vt,{value:i.category,onValueChange:u=>d({...i,category:u}),children:[s.jsx(ft,{children:s.jsx(jt,{placeholder:"All Categories"})}),s.jsxs(xt,{children:[s.jsx(de,{value:"all",children:"All Categories"}),o.map(u=>s.jsx(de,{value:u.name,children:u.name},u.id))]})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"domainAuthority",children:"Ahrefs DR"}),s.jsxs(vt,{value:i.domainAuthority,onValueChange:u=>{d({...i,domainAuthority:u}),a==null||a(null)},children:[s.jsx(ft,{children:s.jsx(jt,{placeholder:"Any DR"})}),s.jsxs(xt,{children:[s.jsx(de,{value:"any",children:"Any DR"}),s.jsx(de,{value:"high-to-low",children:"High to Low"}),s.jsx(de,{value:"low-to-high",children:"Low to High"})]})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"traffic",children:"Traffic Range"}),s.jsxs(vt,{value:i.traffic,onValueChange:u=>{d({...i,traffic:u}),a==null||a(null)},children:[s.jsx(ft,{children:s.jsx(jt,{placeholder:"Any Traffic"})}),s.jsxs(xt,{children:[s.jsx(de,{value:"any",children:"Any Traffic"}),s.jsx(de,{value:"high-to-low",children:"High to Low"}),s.jsx(de,{value:"low-to-high",children:"Low to High"})]})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[s.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Showing"," ",e==="exchange"?"sites available for collaboration":"sites offering guest posts"]}),s.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>{const u={...i,domainAuthority:"any",traffic:"any"};d(u),a==null||a("bestSales")},className:"flex items-center gap-2",children:[s.jsx(Bs,{className:"h-4 w-4"}),"Best Sales"]}),s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>{const u={...i,domainAuthority:"any",traffic:"any"};d(u),a==null||a("highTraffic")},className:"flex items-center gap-2",children:[s.jsx(wp,{className:"h-4 w-4"}),"High Traffic"]}),s.jsx(E,{variant:"outline",onClick:c,size:"sm",children:"Reset Filters"})]})]})]})})}function fM({listing:e,currentUserId:t,purchaseCount:r=0}){var Q,se,A,F,U,Z,q,K,I,z,ee,ge,Y,pe,Le,Fe,ye,ke,L,ce,G,Oe,Ve,Ke,_,Qe,ie,T,$,V,ue,oe,X,De,tt,Dt,Kt,qc,ki,Ci,Vc,Jl,Wc,eo,dg,ug,mg;const{toast:n}=at(),a=he=>he>=1e6?(he/1e6).toFixed(1).replace(/\.0$/,"")+"M":he>=1e3?(he/1e3).toFixed(1).replace(/\.0$/,"")+"K":he.toString(),i=Nt(),[l,o]=m.useState(!1),[c,d]=m.useState(!1),[u,h]=m.useState(""),[x,y]=m.useState(""),[v,g]=m.useState(""),[w,p]=m.useState(!1),[f,j]=m.useState(null),{data:b}=ae({queryKey:["/api/wallet"],enabled:!!t}),{data:k}=ae({queryKey:["/api/settings/public"]}),S=k?parseFloat(k.platformFee):5,C=(k==null?void 0:k.platformFeeType)||"percentage",P=Ee({mutationFn:async he=>await ve("/api/orders",{method:"POST",body:he}),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/orders/user"]}),i.invalidateQueries({queryKey:["/api/wallet"]}),d(!1),o(!1),h(""),y(""),g(""),j(null),n({title:"Order placed!",description:"Your order has been sent to the seller's Sales Inbox for review."})},onError:()=>{n({title:"Order failed",description:"Unable to place order. Please check your wallet balance.",variant:"destructive"})}}),N=()=>{if(B)return;const he=e.totalSellers&&e.totalSellers>1&&e.allListings?Math.min(...e.allListings.map(It=>It.price)):e.price;if(!(b&&b.balance>=he)){n({title:"Insufficient balance",description:`You need at least ${wt(he)} to place this order. Please add funds to your wallet.`,variant:"destructive"});return}e.totalSellers&&e.totalSellers>1?(e.highestOrderListing&&j(e.highestOrderListing.id),o(!0)):(j(e.id),d(!0))},O=he=>{j(he),o(!1),d(!0)},D=()=>{var Wt,Rs;if(!u.trim()){n({title:"Google Doc URL required",description:"Please provide a link to your guest post content.",variant:"destructive"});return}if(!x.trim()){n({title:"Target link required",description:"Please provide the URL you want linked in the guest post.",variant:"destructive"});return}if(e.totalSellers&&e.totalSellers>1&&!f){n({title:"Please select a seller",description:"Choose which seller you want to purchase from.",variant:"destructive"});return}const he=f&&((Rs=(Wt=e.allListings)==null?void 0:Wt.find(zr=>zr.id===f))==null?void 0:Rs.price)||e.price;if(!(b&&b.balance>=he)){n({title:"Insufficient balance",description:`You need at least ${wt(he)} to place this order. Please add funds to your wallet.`,variant:"destructive"});return}const It=f||e.id;P.mutate({listingId:It,googleDocLink:u.trim(),targetLink:x.trim(),requirements:v.trim()||void 0})},M=e.price,H=C==="percentage"?e.price*(S/100):S;e.price-H;const B=e.userId===t;return s.jsx(J,{className:"hover:shadow-md transition-shadow border border-gray-200",children:s.jsxs(te,{className:"p-3 sm:p-4",children:[s.jsxs("div",{className:"block lg:hidden space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Va,{user:e.firstUser||((Q=e.site)==null?void 0:Q.user),size:"lg",className:"bg-gray-200"}),e.totalSellers&&e.totalSellers>1&&s.jsxs("div",{className:"absolute -bottom-1 -right-1 bg-blue-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:["+",e.totalSellers-1]})]}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-800",children:(se=e.site)==null?void 0:se.domain}),e.totalSellers&&e.totalSellers>1?s.jsxs("p",{className:"text-xs text-gray-500",children:[e.totalSellers," sellers available"]}):((A=e.site)==null?void 0:A.user)&&s.jsxs("p",{className:"text-xs text-gray-500",children:[e.site.user.firstName," ",e.site.user.lastName]})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-lg font-bold text-green-600",children:wt(M)})})]}),s.jsx(ot,{open:w,onOpenChange:p,children:s.jsxs(ct,{className:"max-w-[95vw] sm:max-w-lg lg:max-w-xl mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs(dt,{className:"flex-shrink-0",children:[s.jsx(ut,{className:"text-lg sm:text-xl",children:(F=e.site)==null?void 0:F.domain}),s.jsx(Ls,{className:"text-sm sm:text-base",children:"Complete listing details for this guest post opportunity."})]}),s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-xl font-bold text-white",children:((Z=(U=e.site)==null?void 0:U.domain)==null?void 0:Z.charAt(0).toUpperCase())||"S"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 text-lg",children:(q=e.site)==null?void 0:q.domain}),s.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.totalSellers&&e.totalSellers>1?s.jsxs("span",{className:"text-sm text-blue-600 font-medium",children:[e.totalSellers," sellers available"]}):s.jsx("span",{className:"text-sm text-blue-600 font-medium",children:"1 seller available"}),s.jsxs("span",{className:"text-sm text-gray-600",children:["From ",wt(e.price)]}),(e.turnaroundTime||((K=e.site)==null?void 0:K.deliveryTime))&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(gs,{className:"h-3 w-3 text-gray-400"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[e.turnaroundTime||((I=e.site)==null?void 0:I.deliveryTime)," days"]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"text-center bg-gray-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-2",children:[s.jsx("img",{src:"/assets/google-analytics-icon.svg",alt:"Traffic",className:"w-4 h-4"}),s.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900",children:a(((z=e.site)==null?void 0:z.monthlyTraffic)||1e3)})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Monthly Traffic"})]}),s.jsxs("div",{className:"text-center bg-gray-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-2",children:[s.jsx("img",{src:"/assets/Ahrefs-icon.jpeg",alt:"DR",className:"w-4 h-4"}),s.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900",children:((ee=e.site)==null?void 0:ee.drScore)||50})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Domain Rating"})]}),s.jsxs("div",{className:"text-center bg-gray-50 rounded-lg p-3 col-span-2 sm:col-span-1",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-2",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xs",children:"M"})}),s.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900",children:((ge=e.site)==null?void 0:ge.domainAuthority)||50})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Domain Authority"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Website URL:"}),s.jsx("a",{href:`https://${(Y=e.site)==null?void 0:Y.domain}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm break-all",children:(pe=e.site)==null?void 0:pe.domain})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Category:"}),s.jsx("span",{className:"text-sm",children:(Le=e.site)==null?void 0:Le.category})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Language:"}),s.jsx("span",{className:"text-sm",children:(Fe=e.site)==null?void 0:Fe.language})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Link Type:"}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:s.jsx("div",{className:`inline-flex px-2 py-1 rounded text-xs font-medium ${((ye=e.site)==null?void 0:ye.linkType)==="dofollow"?"bg-green-500 text-white":"bg-blue-500 text-white"}`,children:((ke=e.site)==null?void 0:ke.linkType)==="dofollow"?"Do Follow":"No Follow"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Starting Price:"}),s.jsxs("span",{className:"font-bold text-green-600 text-lg",children:["From ",wt(e.price)]})]}),(e.turnaroundTime||((L=e.site)==null?void 0:L.deliveryTime))&&s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Fastest Delivery:"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(gs,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{className:"text-sm",children:[e.turnaroundTime||((ce=e.site)==null?void 0:ce.deliveryTime)," days"]})]})]})]}),((G=e.site)==null?void 0:G.description)&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-semibold mb-2 text-sm sm:text-base",children:"Site Description:"}),s.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:e.site.description}),((Oe=e.site)==null?void 0:Oe.casinoAllowed)&&e.site.casinoAllowed!=="N/A"&&s.jsx("div",{className:"mt-3 flex justify-start",children:s.jsxs("div",{className:`px-3 py-1 rounded text-sm font-medium ${e.site.casinoAllowed==="yes"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:["Casino: ",e.site.casinoAllowed==="yes"?"Allowed":"Not Allowed"]})})]}),s.jsx("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:s.jsx(E,{variant:"outline",onClick:()=>p(!1),className:"text-sm",children:"Close"})})]})]})}),s.jsx(ot,{open:l,onOpenChange:o,children:s.jsxs(ct,{className:"max-w-[95vw] sm:max-w-2xl mx-4 max-h-[80vh] overflow-hidden",children:[s.jsxs(dt,{children:[s.jsx(ut,{children:"Choose Your Seller"}),s.jsxs(Ls,{children:["Select which seller you want to purchase from for ",(Ve=e.site)==null?void 0:Ve.domain]})]}),s.jsx("div",{className:"overflow-y-auto max-h-[60vh] pr-2",children:s.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.allListings&&e.allListings.sort((he,Et)=>{var It,Wt;return(((It=Et.site)==null?void 0:It.purchaseCount)||0)-(((Wt=he.site)==null?void 0:Wt.purchaseCount)||0)}).map(he=>{var It,Wt,Rs,zr,Fa,Hc,hg,fg,xg,pg;const Et=b&&b.balance>=he.price;return s.jsx("div",{onClick:()=>Et?O(he.id):null,className:`p-4 border rounded-lg transition-all ${Et?"cursor-pointer hover:shadow-md hover:border-gray-300 bg-white":"cursor-not-allowed bg-gray-50 opacity-60"}`,children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Va,{user:(It=he.site)==null?void 0:It.user,size:"lg",className:"bg-gray-200"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:(Wt=he.site)!=null&&Wt.user?`${he.site.user.firstName} ${he.site.user.lastName}`:"Anonymous Seller"}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[s.jsx("span",{className:"text-2xl font-bold text-green-600",children:wt(he.price)}),(he.turnaroundTime||((Rs=he.site)==null?void 0:Rs.deliveryTime))&&s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[s.jsx(gs,{className:"h-4 w-4"}),s.jsxs("span",{children:[he.turnaroundTime||((zr=he.site)==null?void 0:zr.deliveryTime)," days delivery"]})]}),s.jsx("div",{className:"text-sm text-gray-500",children:(()=>{var gg;return`${((gg=he.site)==null?void 0:gg.purchaseCount)||0} orders`})()})]})]})]}),s.jsx("div",{className:`font-medium ${Et?"text-blue-600":"text-gray-400"}`,children:Et?`Select - Buy ${wt(he.price)}`:"Insufficient Balance"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[((Fa=he.site)==null?void 0:Fa.linkType)&&s.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${he.site.linkType==="dofollow"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:he.site.linkType==="dofollow"?"Do Follow":"No Follow"}),((Hc=he.site)==null?void 0:Hc.casinoAllowed)&&he.site.casinoAllowed!=="N/A"&&s.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${he.site.casinoAllowed==="yes"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:["Casino: ",he.site.casinoAllowed==="yes"?"Accepted":"Not Accepted"]}),((hg=he.site)==null?void 0:hg.category)&&s.jsx("div",{className:"px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-700",children:he.site.category})]}),((xg=(fg=he.site)==null?void 0:fg.user)==null?void 0:xg.bio)&&s.jsx("div",{className:"pt-3 border-t border-gray-100",children:s.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',he.site.user.bio,'"']})}),s.jsx("div",{className:"flex items-center justify-end pt-3 border-t border-gray-100",children:s.jsx("span",{className:"text-sm text-gray-500",children:((pg=he.site)==null?void 0:pg.language)||"English"})})]})},he.id)})})}),s.jsx("div",{className:"flex justify-end pt-4 border-t",children:s.jsx(E,{variant:"outline",onClick:()=>o(!1),children:"Cancel"})})]})}),s.jsx(ot,{open:c,onOpenChange:d,children:s.jsxs(ct,{className:"max-w-[95vw] sm:max-w-md mx-4",children:[s.jsxs(dt,{children:[s.jsx(ut,{children:"Complete Your Order"}),s.jsx(Ls,{children:(()=>{var Wt,Rs,zr;const he=f?(Wt=e.allListings)==null?void 0:Wt.find(Fa=>Fa.id===f):e,Et=(Rs=he==null?void 0:he.site)!=null&&Rs.user?`${he.site.user.firstName} ${he.site.user.lastName}`:"the seller",It=(he==null?void 0:he.price)||e.price;return`Ordering from ${Et} for ${wt(It)} on ${(zr=e.site)==null?void 0:zr.domain}`})()})]}),s.jsxs("div",{className:"space-y-4",children:[f&&(()=>{var It,Wt,Rs,zr,Fa;const he=((It=e.allListings)==null?void 0:It.find(Hc=>Hc.id===f))||e,Et=(Wt=he.site)==null?void 0:Wt.user;return s.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Va,{user:Et,size:"md",className:"bg-gray-200"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-gray-900",children:Et?`${Et.firstName} ${Et.lastName}`:"Anonymous Seller"}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[s.jsx("span",{className:"font-bold text-green-600",children:wt(he.price)}),(he.turnaroundTime||((Rs=he.site)==null?void 0:Rs.deliveryTime))&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(gs,{className:"h-3 w-3"}),s.jsxs("span",{children:[he.turnaroundTime||((zr=he.site)==null?void 0:zr.deliveryTime)," days"]})]}),((Fa=he.site)==null?void 0:Fa.casinoAllowed)&&he.site.casinoAllowed!=="N/A"&&s.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${he.site.casinoAllowed==="yes"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:["Casino: ",he.site.casinoAllowed==="yes"?"OK":"No"]})]})]})]})})})(),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"googleDoc",children:"Google Doc Link *"}),s.jsx(re,{id:"googleDoc",value:u,onChange:he=>h(he.target.value),placeholder:"https://docs.google.com/document/..."})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"targetLink",children:"Target Link *"}),s.jsx(re,{id:"targetLink",value:x,onChange:he=>y(he.target.value),placeholder:"https://yoursite.com"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"requirements",children:"Additional Requirements"}),s.jsx(Jt,{id:"requirements",value:v,onChange:he=>g(he.target.value),placeholder:"Any specific requests..."})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx(E,{variant:"outline",onClick:()=>{d(!1),j(null),h(""),y(""),g("")},children:"Back"}),s.jsx(E,{onClick:D,disabled:P.isPending,children:P.isPending?"Processing...":(()=>{var Et,It;const he=f&&((It=(Et=e.allListings)==null?void 0:Et.find(Wt=>Wt.id===f))==null?void 0:It.price)||e.price;return`Buy for ${wt(he)}`})()})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"text-center bg-gray-50 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[s.jsx("img",{src:"/assets/google-analytics-icon.svg",alt:"Traffic",className:"w-3 h-3"}),s.jsx("span",{className:"text-sm font-bold text-gray-900",children:a(((Ke=e.site)==null?void 0:Ke.monthlyTraffic)||1e3)})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Traffic"})]}),s.jsxs("div",{className:"text-center bg-gray-50 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[s.jsx("img",{src:"/assets/Ahrefs-icon.jpeg",alt:"DR",className:"w-3 h-3"}),s.jsx("span",{className:"text-sm font-bold text-gray-900",children:((_=e.site)==null?void 0:_.drScore)||50})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"DR"})]}),s.jsxs("div",{className:"text-center bg-gray-50 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xs",children:"M"})}),s.jsx("span",{className:"text-sm font-bold text-gray-900",children:((Qe=e.site)==null?void 0:Qe.domainAuthority)||50})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"DA"})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center space-x-1 flex-wrap",children:[((ie=e.site)==null?void 0:ie.category)&&s.jsx("div",{className:"px-2 py-1 rounded text-xs font-medium bg-blue-500 text-white",children:e.site.category}),s.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${((T=e.site)==null?void 0:T.linkType)==="dofollow"?"bg-green-500 text-white":"bg-blue-500 text-white"}`,children:(($=e.site)==null?void 0:$.linkType)==="dofollow"?"Do Follow":"No Follow"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-gray-600",children:["Lang: ",(V=e.site)==null?void 0:V.language]}),(e.turnaroundTime||((ue=e.site)==null?void 0:ue.deliveryTime))&&s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(gs,{className:"h-3 w-3 text-gray-400"}),s.jsxs("span",{className:"text-gray-600",children:[e.turnaroundTime||((oe=e.site)==null?void 0:oe.deliveryTime)," days"]})]}),s.jsx("p",{className:"text-gray-500 text-xs mt-1",children:(()=>{var Et;return`${e.allListings?e.allListings.reduce((It,Wt)=>{var Rs;return It+(((Rs=Wt.site)==null?void 0:Rs.purchaseCount)||0)},0):((Et=e.site)==null?void 0:Et.purchaseCount)||0} orders`})()})]})]}),s.jsxs("div",{className:"flex space-x-2 pt-2 border-t border-gray-100",children:[s.jsx(ot,{open:w,onOpenChange:p,children:s.jsx(us,{asChild:!0,children:s.jsx(E,{variant:"outline",size:"sm",className:"flex-1 text-xs",children:"Details"})})}),!B&&s.jsxs(E,{size:"sm",className:"flex-1 text-xs bg-green-600 hover:bg-green-700 text-white",onClick:N,children:["Buy ",wt(M)]})]})]}),s.jsxs("div",{className:"hidden lg:block max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Va,{user:e.highestOrderUser||e.firstUser||((X=e.site)==null?void 0:X.user),size:"md",className:"bg-gray-200"}),e.totalSellers&&e.totalSellers>1&&s.jsxs("div",{className:"absolute -bottom-1 -right-1 bg-blue-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center font-bold",children:["+",e.totalSellers-1]})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(De=e.site)==null?void 0:De.domain}),e.totalSellers&&e.totalSellers>1?s.jsxs("p",{className:"text-xs text-gray-500",children:[e.totalSellers," sellers available"]}):((tt=e.site)==null?void 0:tt.user)&&s.jsxs("p",{className:"text-xs text-gray-500",children:[e.site.user.firstName," ",e.site.user.lastName]})]})]}),s.jsxs("div",{className:"text-right text-xs text-gray-600 ml-2",children:[s.jsx("p",{children:(Dt=e.site)==null?void 0:Dt.language}),(e.turnaroundTime||((Kt=e.site)==null?void 0:Kt.deliveryTime))&&s.jsxs("div",{className:"flex items-center gap-1 justify-end mt-1",children:[s.jsx(gs,{className:"h-3 w-3 text-gray-400"}),s.jsxs("span",{children:[e.turnaroundTime||((qc=e.site)==null?void 0:qc.deliveryTime)," days"]})]}),s.jsxs("p",{className:"text-gray-500 mt-1",children:[r," orders"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1 mb-3 flex-wrap",children:[((ki=e.site)==null?void 0:ki.category)&&s.jsx("div",{className:"px-2 py-1 rounded text-xs font-medium bg-blue-500 text-white",children:e.site.category}),s.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${((Ci=e.site)==null?void 0:Ci.linkType)==="dofollow"?"bg-green-500 text-white":"bg-blue-500 text-white"}`,children:((Vc=e.site)==null?void 0:Vc.linkType)==="dofollow"?"Do Follow":"No Follow"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center mb-3",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[s.jsx("img",{src:"/assets/google-analytics-icon.svg",alt:"Traffic",className:"w-4 h-4"}),s.jsx("span",{className:"text-lg font-bold text-gray-900",children:a(((Jl=e.site)==null?void 0:Jl.monthlyTraffic)||1e3)})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Traffic/mo"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[s.jsx("img",{src:"/assets/Ahrefs-icon.jpeg",alt:"DR",className:"w-4 h-4"}),s.jsx("span",{className:"text-lg font-bold text-gray-900",children:((Wc=e.site)==null?void 0:Wc.drScore)||50})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"DR"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xs",children:"M"})}),s.jsx("span",{className:"text-lg font-bold text-gray-900",children:((eo=e.site)==null?void 0:eo.domainAuthority)||50})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"DA"})]})]}),((dg=e.site)==null?void 0:dg.description)&&s.jsx("div",{className:"mb-3 p-2 bg-gray-50 rounded",children:s.jsx("p",{className:"text-xs text-gray-600 overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.site.description})}),((ug=e.site)==null?void 0:ug.casinoAllowed)&&e.site.casinoAllowed!=="N/A"&&s.jsx("div",{className:"mb-3 flex justify-start",children:s.jsxs("div",{className:`px-2 py-1 rounded text-xs font-medium ${e.site.casinoAllowed==="yes"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:["Casino: ",e.site.casinoAllowed==="yes"?"Allowed":"Not Allowed"]})}),s.jsxs("div",{className:"flex space-x-2 w-full",children:[s.jsx(E,{variant:"outline",size:"sm",className:"flex-1 text-xs",onClick:()=>p(!0),children:"View Details"}),s.jsx(E,{size:"sm",disabled:B,className:"bg-green-600 hover:bg-green-700 text-white text-xs px-4 flex-shrink-0",onClick:N,children:B?"Your Listing":wt(M)}),s.jsx(ot,{open:c,onOpenChange:d,children:s.jsxs(ct,{className:"max-w-[95vw] sm:max-w-md mx-4",children:[s.jsxs(dt,{children:[s.jsx(ut,{children:"Purchase Guest Post"}),s.jsxs(Ls,{children:["Complete your order for a guest post on ",(mg=e.site)==null?void 0:mg.domain]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"googleDoc",children:"Google Doc Link to Your Content *"}),s.jsx(re,{id:"googleDoc",placeholder:"https://docs.google.com/document/d/...",value:u,onChange:he=>h(he.target.value)}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Share a Google Doc with your guest post content (must have view/comment access)"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"targetLink",children:"Target Link for Guest Post *"}),s.jsx(re,{id:"targetLink",placeholder:"https://your-website.com/target-page",value:x,onChange:he=>y(he.target.value)}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The URL you want linked in your guest post"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"requirements",children:"Additional Requirements (Optional)"}),s.jsx(Jt,{id:"requirements",placeholder:"Any specific instructions for the guest post placement...",value:v,onChange:he=>g(he.target.value)})]}),s.jsx("div",{className:"border-t pt-4",children:(()=>{var Et,It;const he=f&&((It=(Et=e.allListings)==null?void 0:Et.find(Wt=>Wt.id===f))==null?void 0:It.price)||e.price;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{children:"Guest Post Price:"}),s.jsx("span",{className:"font-bold",children:wt(he)})]}),s.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{className:"text-green-600",children:wt(he)})]})]})})()}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(E,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsx(E,{onClick:D,disabled:P.isPending,children:P.isPending?"Processing...":"Complete Order"})]})]})]})})]})]})]})})}function xM({sites:e,userSites:t,mode:r,filters:n,sortType:a}){const{user:i}=ds(),l=A=>A>=1e6?(A/1e6).toFixed(1).replace(/\.0$/,"")+"M":A>=1e3?(A/1e3).toFixed(1).replace(/\.0$/,"")+"K":A.toString(),{data:o=[],isLoading:c}=ae({queryKey:["/api/listings/marketplace"],enabled:r==="marketplace"}),{toast:d}=at(),u=Nt(),[h,x]=m.useState(null),[y,v]=m.useState(""),[g,w]=m.useState(""),[p,f]=m.useState(null),[j,b]=m.useState(1),S=12;m.useEffect(()=>{b(1)},[r]);const C=Ee({mutationFn:async A=>await ve("/api/exchanges",{method:"POST",body:A}),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/exchanges/user",i==null?void 0:i.id]}),d({title:"Exchange request sent!",description:"Your exchange request has been sent to the site owner."}),x(null),w(""),v("")},onError:()=>{d({title:"Failed to send request",description:"Please try again later.",variant:"destructive"})}}),P=()=>{!h||!y||!i||C.mutate({requesterId:i.id,requestedUserId:h.userId,requesterSiteId:y,requestedSiteId:h.id,message:g})},N=()=>n?e.filter(A=>!(A.userId===(i==null?void 0:i.id)||r==="exchange"&&A.purpose!=="exchange"||n.search&&!A.domain.toLowerCase().includes(n.search.toLowerCase())&&!A.title.toLowerCase().includes(n.search.toLowerCase())&&!A.category.toLowerCase().includes(n.search.toLowerCase())||n.category&&n.category!=="all"&&A.category!==n.category||n.domainAuthority!=="any"&&!["high-to-low","low-to-high"].includes(n.domainAuthority)&&(n.domainAuthority==="high"&&A.drScore<60||n.domainAuthority==="medium"&&(A.drScore<30||A.drScore>=60)||n.domainAuthority==="low"&&A.drScore>=30)||n.traffic!=="any"&&!["high-to-low","low-to-high"].includes(n.traffic)&&(n.traffic==="high"&&A.monthlyTraffic<1e5||n.traffic==="medium"&&(A.monthlyTraffic<1e4||A.monthlyTraffic>=1e5)||n.traffic==="low"&&A.monthlyTraffic>=1e4))):e.filter(A=>A.userId!==(i==null?void 0:i.id)&&(r==="exchange"?A.purpose==="exchange":!0)),D=(()=>{let A=N();if(console.log("Sorting filters:",n),console.log("Sort type:",a),a==="bestSales")return console.log("Sorting by best sales"),A.sort((F,U)=>(U.purchaseCount||0)-(F.purchaseCount||0));if(a==="highTraffic")return console.log("Sorting by high traffic"),A.sort((F,U)=>U.monthlyTraffic-F.monthlyTraffic);if((n==null?void 0:n.traffic)==="high-to-low")return console.log("Sorting by traffic high to low"),A.sort((F,U)=>U.monthlyTraffic-F.monthlyTraffic);if((n==null?void 0:n.traffic)==="low-to-high"){console.log("Sorting by traffic low to high"),console.log("Traffic values:",A.map(U=>({domain:U.domain,traffic:U.monthlyTraffic})));const F=A.sort((U,Z)=>U.monthlyTraffic-Z.monthlyTraffic);return console.log("After sorting:",F.map(U=>({domain:U.domain,traffic:U.monthlyTraffic}))),F}else{if((n==null?void 0:n.domainAuthority)==="high-to-low")return console.log("Sorting by DR high to low"),A.sort((F,U)=>U.drScore-F.drScore);if((n==null?void 0:n.domainAuthority)==="low-to-high")return console.log("Sorting by DR low to high"),A.sort((F,U)=>F.drScore-U.drScore)}return console.log("Using default sorting"),A.sort((F,U)=>U.monthlyTraffic-F.monthlyTraffic)})(),M=t.filter(A=>A.status==="approved"&&(A.purpose==="exchange"||A.purpose==="both")).reduce((A,F)=>(A.some(Z=>Z.domain===F.domain)||A.push(F),A),[]),H=A=>{const F=(j-1)*S,U=F+S;return A.slice(F,U)},B=A=>Math.ceil(A.length/S),Q=({items:A})=>{const F=B(A);return F<=1?null:s.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-4 mt-6 sm:mt-8",children:[s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>b(U=>Math.max(1,U-1)),disabled:j===1,className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[s.jsx(em,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"}),s.jsx("span",{className:"sm:hidden",children:"Prev"})]}),s.jsx("div",{className:"flex items-center gap-2 px-2",children:s.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:[j," / ",F]})}),s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>b(U=>Math.min(F,U+1)),disabled:j===F,className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx("span",{className:"sm:hidden",children:"Next"}),s.jsx(tm,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]})};if(r==="marketplace"){if(c)return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mt-4 sm:mt-6",children:[...Array(6)].map((z,ee)=>s.jsx("div",{className:"h-64 bg-white rounded-xl border border-gray-200 animate-pulse"},ee))});const A=()=>n?o.filter(z=>!(!z.site||n.search&&!z.site.domain.toLowerCase().includes(n.search.toLowerCase())&&!z.site.title.toLowerCase().includes(n.search.toLowerCase())&&!z.site.category.toLowerCase().includes(n.search.toLowerCase())||n.category&&n.category!=="all"&&z.site.category!==n.category||n.domainAuthority!=="any"&&(n.domainAuthority==="high"&&z.site.drScore<60||n.domainAuthority==="medium"&&(z.site.drScore<30||z.site.drScore>=60)||n.domainAuthority==="low"&&z.site.drScore>=30)||n.traffic!=="any"&&(n.traffic==="high"&&z.site.monthlyTraffic<1e5||n.traffic==="medium"&&(z.site.monthlyTraffic<1e4||z.site.monthlyTraffic>=1e5)||n.traffic==="low"&&z.site.monthlyTraffic>=1e4))):o,U=(()=>{let z=A();return a==="bestSales"?z.sort((ee,ge)=>{var Y,pe;return(((Y=ge.site)==null?void 0:Y.purchaseCount)||0)-(((pe=ee.site)==null?void 0:pe.purchaseCount)||0)}):a==="highTraffic"?z.sort((ee,ge)=>{var Y,pe;return(((Y=ge.site)==null?void 0:Y.monthlyTraffic)||0)-(((pe=ee.site)==null?void 0:pe.monthlyTraffic)||0)}):(n==null?void 0:n.traffic)==="high-to-low"?z.sort((ee,ge)=>{var Y,pe;return(((Y=ge.site)==null?void 0:Y.monthlyTraffic)||0)-(((pe=ee.site)==null?void 0:pe.monthlyTraffic)||0)}):(n==null?void 0:n.traffic)==="low-to-high"?(console.log("Marketplace: Sorting by traffic low to high"),z.sort((ee,ge)=>{var Y,pe;return(((Y=ee.site)==null?void 0:Y.monthlyTraffic)||0)-(((pe=ge.site)==null?void 0:pe.monthlyTraffic)||0)})):(n==null?void 0:n.domainAuthority)==="high-to-low"?z.sort((ee,ge)=>{var Y,pe;return(((Y=ge.site)==null?void 0:Y.drScore)||0)-(((pe=ee.site)==null?void 0:pe.drScore)||0)}):(n==null?void 0:n.domainAuthority)==="low-to-high"?z.sort((ee,ge)=>{var Y,pe;return(((Y=ee.site)==null?void 0:Y.drScore)||0)-(((pe=ge.site)==null?void 0:pe.drScore)||0)}):z.sort((ee,ge)=>{var Y,pe;return(((Y=ge.site)==null?void 0:Y.monthlyTraffic)||0)-(((pe=ee.site)==null?void 0:pe.monthlyTraffic)||0)})})();if(o.length===0)return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No marketplace listings found"}),s.jsx("p",{className:"text-gray-600",children:"No guest post or link placement listings are currently available."})]});if(U.length===0)return s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No results match your filters"}),s.jsx("p",{className:"text-gray-600",children:"Try adjusting your search criteria or clearing some filters to see more listings."})]});const q=[...U].sort((z,ee)=>z.type==="guest_post"&&ee.type==="link_placement"?-1:z.type==="link_placement"&&ee.type==="guest_post"?1:0).reduce((z,ee)=>{var Y,pe,Le,Fe,ye,ke,L,ce;const ge=(Y=ee.site)==null?void 0:Y.domain;if(!ge)return z;if(!z[ge])z[ge]={representativeListing:ee,allListings:[ee],lowestPrice:ee.price||0,fastestDelivery:((pe=ee.site)==null?void 0:pe.deliveryTime)||ee.turnaroundTime||999,totalSellers:1,firstUser:(Le=ee.site)==null?void 0:Le.user,highestOrderUser:(Fe=ee.site)==null?void 0:Fe.user,highestOrderCount:((ye=ee.site)==null?void 0:ye.purchaseCount)||0,highestOrderListing:ee};else{z[ge].allListings.push(ee),z[ge].totalSellers++,ee.price&&ee.price<z[ge].lowestPrice&&(z[ge].lowestPrice=ee.price);const G=((ke=ee.site)==null?void 0:ke.deliveryTime)||ee.turnaroundTime||999;G<z[ge].fastestDelivery&&(z[ge].fastestDelivery=G);const Oe=((L=ee.site)==null?void 0:L.purchaseCount)||0;Oe>z[ge].highestOrderCount&&(z[ge].highestOrderCount=Oe,z[ge].highestOrderUser=(ce=ee.site)==null?void 0:ce.user,z[ge].highestOrderListing=ee)}return z},{}),K=Object.values(q).map(z=>{var Y,pe,Le,Fe,ye,ke,L,ce,G,Oe;const ee=z.allListings.map(Ve=>Ve.site).filter(Ve=>Ve).sort((Ve,Ke)=>new Date(Ve.createdAt||0).getTime()-new Date(Ke.createdAt||0).getTime())[0];return{...z.representativeListing,price:z.lowestPrice,site:{...z.representativeListing.site,domain:(ee==null?void 0:ee.domain)||((Y=z.representativeListing.site)==null?void 0:Y.domain),monthlyTraffic:(ee==null?void 0:ee.monthlyTraffic)||((pe=z.representativeListing.site)==null?void 0:pe.monthlyTraffic),domainAuthority:(ee==null?void 0:ee.domainAuthority)||((Le=z.representativeListing.site)==null?void 0:Le.domainAuthority),drScore:(ee==null?void 0:ee.drScore)||((Fe=z.representativeListing.site)==null?void 0:Fe.drScore),category:(ee==null?void 0:ee.category)||((ye=z.representativeListing.site)==null?void 0:ye.category),language:(ee==null?void 0:ee.language)||((ke=z.representativeListing.site)==null?void 0:ke.language),linkType:(ee==null?void 0:ee.linkType)||((L=z.representativeListing.site)==null?void 0:L.linkType),casinoAllowed:(ee==null?void 0:ee.casinoAllowed)||((ce=z.representativeListing.site)==null?void 0:ce.casinoAllowed),description:(ee==null?void 0:ee.description)||((G=z.representativeListing.site)==null?void 0:G.description),deliveryTime:z.fastestDelivery===999?(Oe=z.representativeListing.site)==null?void 0:Oe.deliveryTime:z.fastestDelivery},turnaroundTime:z.fastestDelivery===999?z.representativeListing.turnaroundTime:z.fastestDelivery,totalSellers:z.totalSellers,allListings:z.allListings,firstUser:z.firstUser,highestOrderUser:z.highestOrderUser,highestOrderListing:z.highestOrderListing}}),I=H(K);return s.jsxs("div",{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 mt-4 sm:mt-6",children:I.map(z=>{const ee=z.allListings?z.allListings.reduce((ge,Y)=>{const pe=e.find(Le=>Le.id===Y.siteId);return ge+((pe==null?void 0:pe.purchaseCount)||0)},0):(()=>{const ge=e.find(Y=>Y.id===z.siteId);return(ge==null?void 0:ge.purchaseCount)||0})();return s.jsx(fM,{listing:z,currentUserId:(i==null?void 0:i.id)||"",purchaseCount:ee},z.id)})}),s.jsx(Q,{items:U})]})}const se=H(D);return s.jsxs(s.Fragment,{children:[M.length===0&&s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mt-3 mb-3",children:s.jsx("p",{className:"text-amber-800",children:"You must have one approved site before connecting with others."})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 mt-6 sm:mt-8",children:se.map((A,F)=>{var U,Z,q,K,I,z,ee,ge,Y,pe,Le,Fe;return s.jsx(J,{className:"border border-gray-200 hover:shadow-md transition-shadow",children:s.jsxs(te,{className:"p-3 sm:p-4",children:[s.jsxs("div",{className:"block lg:hidden space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:(U=A.user)!=null&&U.avatar?s.jsx("img",{src:A.user.avatar,alt:`${A.user.firstName} ${A.user.lastName}`,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-r from-blue-400 to-blue-600 flex items-center justify-center",children:s.jsxs("span",{className:"text-white font-bold text-sm",children:[((q=(Z=A.user)==null?void 0:Z.firstName)==null?void 0:q.charAt(0))||"U",((I=(K=A.user)==null?void 0:K.lastName)==null?void 0:I.charAt(0))||""]})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-800 truncate",children:A.domain}),A.user&&s.jsxs("p",{className:"text-xs text-gray-500",children:[A.user.firstName," ",A.user.lastName]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{className:"text-center bg-gray-50 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[s.jsx("img",{src:"/assets/google-analytics-icon.svg",alt:"Traffic",className:"w-3 h-3"}),s.jsx("span",{className:"text-sm font-bold text-gray-900",children:l(A.monthlyTraffic||0)})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Traffic"})]}),s.jsxs("div",{className:"text-center bg-gray-50 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[s.jsx("img",{src:"/assets/Ahrefs-icon.jpeg",alt:"DR",className:"w-3 h-3"}),s.jsx("span",{className:"text-sm font-bold text-gray-900",children:A.drScore||50})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"DR"})]}),s.jsxs("div",{className:"text-center bg-gray-50 rounded-lg p-2",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xs",children:"M"})}),s.jsx("span",{className:"text-sm font-bold text-gray-900",children:A.domainAuthority||50})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"DA"})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`inline-flex px-2 py-1 rounded text-xs font-medium ${A.linkType==="dofollow"?"bg-green-500 text-white":"bg-blue-500 text-white"}`,children:A.linkType==="dofollow"?"Do Follow":"No Follow"}),A.category&&s.jsx("div",{className:"px-2 py-1 rounded text-xs font-medium bg-blue-500 text-white",children:A.category})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-gray-600",children:["Lang: ",A.language]})})]}),s.jsxs("div",{className:"flex space-x-2 pt-2 border-t border-gray-100",children:[s.jsx(E,{variant:"outline",size:"sm",onClick:()=>f(A.id),className:"flex-1 text-xs",children:"View Details"}),s.jsxs(ot,{children:[s.jsx(us,{asChild:!0,children:s.jsxs(E,{size:"sm",onClick:()=>x(A),className:"flex-shrink-0 text-xs",children:[s.jsx(Al,{className:"h-3 w-3 mr-1"}),"Request Exchange"]})}),s.jsxs(ct,{className:"max-w-[95vw] sm:max-w-md mx-4",children:[s.jsxs(dt,{children:[s.jsxs(ut,{children:["Request Exchange with ",A.domain]}),s.jsx(Ls,{children:"Send an exchange request to collaborate on link building."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"userSite",children:"Select Your Site"}),s.jsxs(vt,{value:y,onValueChange:v,children:[s.jsx(ft,{children:s.jsx(jt,{placeholder:"Choose your site"})}),s.jsx(xt,{children:M.map(ye=>s.jsx(de,{value:ye.id,children:ye.domain},ye.id))})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"message",children:"Message (Optional)"}),s.jsx(Jt,{id:"message",placeholder:"Introduce yourself and explain your collaboration idea...",value:g,onChange:ye=>w(ye.target.value),rows:3})]}),s.jsx(lx,{children:s.jsx(E,{onClick:P,disabled:!y||M.length===0||C.isPending,className:"w-full",children:C.isPending?"Sending...":"Send Request"})})]})]})]})]})]}),s.jsxs("div",{className:"hidden lg:block max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200 flex-shrink-0",children:(z=A.user)!=null&&z.avatar?s.jsx("img",{src:A.user.avatar,alt:`${A.user.firstName} ${A.user.lastName}`,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-r from-blue-400 to-blue-600 flex items-center justify-center",children:s.jsxs("span",{className:"text-white font-bold text-sm",children:[((ge=(ee=A.user)==null?void 0:ee.firstName)==null?void 0:ge.charAt(0))||"U",((pe=(Y=A.user)==null?void 0:Y.lastName)==null?void 0:pe.charAt(0))||""]})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:A.domain}),A.user&&s.jsxs("p",{className:"text-xs text-gray-500",children:[A.user.firstName," ",A.user.lastName]})]})]}),s.jsx("div",{className:"text-right text-xs text-gray-600 ml-2",children:s.jsx("p",{children:A.language})})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium text-white ${A.linkType==="dofollow"?"bg-green-500":"bg-blue-500"}`,children:A.linkType==="dofollow"?"Do Follow":"No Follow"}),A.category&&s.jsx("div",{className:"px-2 py-1 rounded text-xs font-medium bg-blue-500 text-white",children:A.category})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center mb-3",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[s.jsx("img",{src:"/assets/google-analytics-icon.svg",alt:"Traffic",className:"w-4 h-4"}),s.jsx("span",{className:"text-lg font-bold text-gray-900",children:l(A.monthlyTraffic||0)})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Traffic/mo"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[s.jsx("img",{src:"/assets/Ahrefs-icon.jpeg",alt:"DR",className:"w-4 h-4"}),s.jsx("span",{className:"text-lg font-bold text-gray-900",children:A.drScore})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"DR"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xs",children:"M"})}),s.jsx("span",{className:"text-lg font-bold text-gray-900",children:A.domainAuthority})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"DA"})]})]}),A.description&&s.jsx("div",{className:"mb-3 p-2 bg-gray-50 rounded",children:s.jsx("p",{className:"text-xs text-gray-600 overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:A.description})}),s.jsxs("div",{className:"flex space-x-2 w-full",children:[s.jsx(E,{variant:"outline",size:"sm",onClick:()=>f(A.id),className:"flex-1 text-xs",children:"View Details"}),s.jsxs(ot,{open:(h==null?void 0:h.id)===A.id,onOpenChange:ye=>{ye||(x(null),w(""),v(""))},children:[s.jsx(us,{asChild:!0,children:s.jsx(E,{size:"sm",onClick:()=>x(A),disabled:M.length===0,className:"flex-shrink-0 text-xs",children:"Request Exchange"})}),s.jsxs(ct,{children:[s.jsxs(dt,{children:[s.jsxs(ut,{children:["Request Exchange with ",A.domain]}),s.jsxs(Ls,{children:["Send a link exchange request to ",(Le=A.user)==null?void 0:Le.firstName," ",(Fe=A.user)==null?void 0:Fe.lastName," who owns ",A.domain,"."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"userSite",children:"Your Site"}),s.jsxs(vt,{value:y,onValueChange:v,children:[s.jsx(ft,{children:s.jsx(jt,{placeholder:"Select your site"})}),s.jsx(xt,{children:M.map(ye=>s.jsx(de,{value:ye.id,children:ye.domain},ye.id))})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"message",children:"Message"}),s.jsx(Jt,{id:"message",placeholder:"Introduce yourself and explain why you'd like to exchange links...",value:g,onChange:ye=>w(ye.target.value)})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(E,{variant:"outline",onClick:()=>{x(null),w(""),v("")},children:"Cancel"}),s.jsx(E,{onClick:P,disabled:!y||!g.trim()||C.isPending,children:C.isPending?"Sending...":"Send Request"})]})]})]})]})]})]})]})},A.id)})}),s.jsx(Q,{items:D}),D.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No sites found"}),s.jsx("p",{className:"text-gray-600",children:"Try adjusting your search filters."})]}),s.jsx(ot,{open:p!==null,onOpenChange:()=>f(null),children:s.jsx(ct,{className:"max-w-[95vw] sm:max-w-2xl mx-4",children:p&&(()=>{var F,U,Z,q,K,I,z,ee,ge;const A=e.find(Y=>Y.id===p);return A?s.jsxs(s.Fragment,{children:[s.jsxs(dt,{children:[s.jsx(ut,{className:"text-xl font-bold",children:A.domain}),s.jsx(Ls,{children:"Complete site information and statistics"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200",children:(F=A.user)!=null&&F.avatar?s.jsx("img",{src:A.user.avatar,alt:`${(U=A.user)==null?void 0:U.firstName} ${(Z=A.user)==null?void 0:Z.lastName}`,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-r from-blue-400 to-blue-600 flex items-center justify-center",children:s.jsxs("span",{className:"text-white font-bold",children:[((K=(q=A.user)==null?void 0:q.firstName)==null?void 0:K.charAt(0))||"U",((z=(I=A.user)==null?void 0:I.lastName)==null?void 0:z.charAt(0))||""]})})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[(ee=A.user)==null?void 0:ee.firstName," ",(ge=A.user)==null?void 0:ge.lastName]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Publisher"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[s.jsx("img",{src:"/assets/google-analytics-icon.svg",alt:"Traffic",className:"w-5 h-5"}),s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:l(A.monthlyTraffic||0)})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Traffic"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[s.jsx("img",{src:"/assets/Ahrefs-icon.jpeg",alt:"DR",className:"w-5 h-5"}),s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:A.drScore})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Domain Rating"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[s.jsx("div",{className:"w-5 h-5 bg-blue-600 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"M"})}),s.jsx("span",{className:"text-2xl font-bold text-gray-900",children:A.domainAuthority})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Domain Authority"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Category"}),s.jsx("div",{className:"px-3 py-2 bg-blue-500 text-white rounded text-sm inline-block",children:A.category||"Not specified"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Link Type"}),s.jsx("div",{className:`px-3 py-2 rounded text-sm inline-block text-white ${A.linkType==="dofollow"?"bg-green-500":"bg-blue-500"}`,children:A.linkType==="dofollow"?"Do Follow":"No Follow"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Language"}),s.jsx("p",{className:"text-gray-700",children:A.language})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Website"}),s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>window.open(`https://${A.domain}`,"_blank"),className:"flex items-center space-x-2",children:[s.jsx(Sb,{className:"h-4 w-4"}),s.jsx("span",{children:"Visit Site"})]})]})]}),A.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:A.description})]})]}),s.jsxs(lx,{children:[s.jsx(E,{variant:"outline",onClick:()=>f(null),children:"Close"}),s.jsx(E,{onClick:()=>{f(null),x(A)},disabled:M.length===0,children:"Request Exchange"})]})]}):null})()})})]})}const pM=[{id:"all",label:"All Exchanges"},{id:"pending",label:"Pending"},{id:"active",label:"Active"},{id:"completed",label:"Completed"},{id:"cancelled",label:"Cancelled"}];function gM(){const[e,t]=m.useState("all");return s.jsx(J,{className:"border border-gray-200",children:s.jsx(te,{className:"p-6",children:s.jsx("div",{className:"flex flex-wrap gap-4",children:pM.map(r=>s.jsx(E,{variant:e===r.id?"default":"outline",onClick:()=>t(r.id),children:r.label},r.id))})})})}function Kv({exchange:e,currentUserId:t,onOpenChat:r}){var p,f,j,b,k,S,C,P,N,O,D,M,H,B,Q,se,A,F,U,Z,q,K,I,z,ee,ge,Y,pe,Le,Fe,ye,ke,L,ce,G,Oe,Ve,Ke,_,Qe,ie,T,$,V;const{toast:n}=at(),a=Nt(),[i,l]=m.useState(!1),o=Ee({mutationFn:async ue=>await ve(`/api/exchanges/${e.id}`,{method:"PUT",body:ue}),onSuccess:(ue,oe)=>{a.invalidateQueries({queryKey:["/api/exchanges/user",t]}),a.invalidateQueries({queryKey:["/api/messages/exchange",e.id]}),a.invalidateQueries({queryKey:["/api/notifications/user",t]}),oe.status==="cancelled"||oe.status==="rejected"?n({title:oe.status==="rejected"?"Exchange rejected":"Exchange cancelled",description:"The exchange request has been rejected and messages have been cleared."}):n({title:"Exchange updated",description:"The exchange status has been updated."})},onError:()=>{n({title:"Failed to update exchange",description:"Please try again later.",variant:"destructive"})}}),c=ue=>{switch(ue){case"pending":return s.jsx(Pe,{className:"bg-amber-100 text-amber-800",children:"Pending"});case"active":return s.jsx(Pe,{className:"bg-green-100 text-green-800",children:"On Going"});case"completed":return s.jsx(Pe,{className:"bg-blue-100 text-blue-800",children:"Completed"});case"cancelled":case"declined":return s.jsx(Pe,{className:"bg-red-100 text-red-800",children:"Declined"});default:return s.jsx(Pe,{variant:"secondary",children:"Unknown"})}},d=ue=>ue.split(".")[0].substring(0,2).toUpperCase(),u=()=>{o.mutate({status:"active",userId:t})},h=()=>{o.mutate({status:"rejected",userId:t})},x=()=>{o.mutate({status:"completed",userId:t})},y=e.requesterId===t,v=!y&&e.status==="pending",g=y?e.requesterCompleted:e.requestedUserCompleted,w=y?e.requestedUserCompleted:e.requesterCompleted;return s.jsx(J,{className:"border border-gray-200",children:s.jsxs(te,{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"block md:hidden space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[c(e.status),s.jsxs("span",{className:"text-xs text-gray-500",children:["#",e.id.slice(0,6)]})]}),s.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[s.jsx(_n,{className:"h-3 w-3 mr-1"}),yi(new Date(e.createdAt),{addSuffix:!0})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:y?"Your Site":`${((p=e.requester)==null?void 0:p.firstName)||"Unknown"}'s Site`}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:e.requesterSite?d(e.requesterSite.domain):"?"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h5",{className:"font-semibold text-gray-900 text-sm truncate",children:((f=e.requesterSite)==null?void 0:f.domain)||"Unknown"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsxs("span",{className:"text-xs text-gray-500",children:["DA: ",((j=e.requesterSite)==null?void 0:j.domainAuthority)||"?"]}),s.jsxs("span",{className:"text-xs text-gray-500",children:["Traffic: ",((k=(b=e.requesterSite)==null?void 0:b.monthlyTraffic)==null?void 0:k.toLocaleString())||"0","/mo"]})]}),s.jsxs("div",{className:"flex flex-col space-y-2 mt-1",children:[s.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium text-white w-fit ${((S=e.requesterSite)==null?void 0:S.linkType)==="dofollow"?"bg-green-500":"bg-blue-500"}`,children:((C=e.requesterSite)==null?void 0:C.linkType)==="dofollow"?"Do Follow":"No Follow"}),((P=e.requesterSite)==null?void 0:P.category)&&s.jsx("div",{className:"px-2 py-1 rounded text-xs font-medium bg-blue-500 text-white w-fit",children:e.requesterSite.category})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:y?`${((N=e.requestedUser)==null?void 0:N.firstName)||"Unknown"}'s Site`:"Your Site"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-blue-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:e.requestedSite?d(e.requestedSite.domain):"?"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h5",{className:"font-semibold text-gray-900 text-sm truncate",children:((O=e.requestedSite)==null?void 0:O.domain)||"Unknown"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsxs("span",{className:"text-xs text-gray-500",children:["DA: ",((D=e.requestedSite)==null?void 0:D.domainAuthority)||"?"]}),s.jsxs("span",{className:"text-xs text-gray-500",children:["Traffic: ",((H=(M=e.requestedSite)==null?void 0:M.monthlyTraffic)==null?void 0:H.toLocaleString())||"0","/mo"]})]}),s.jsxs("div",{className:"flex flex-col space-y-2 mt-1",children:[s.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium text-white w-fit ${((B=e.requestedSite)==null?void 0:B.linkType)==="dofollow"?"bg-green-500":"bg-blue-500"}`,children:((Q=e.requestedSite)==null?void 0:Q.linkType)==="dofollow"?"Do Follow":"No Follow"}),((se=e.requestedSite)==null?void 0:se.category)&&s.jsx("div",{className:"px-2 py-1 rounded text-xs font-medium bg-blue-500 text-white w-fit",children:e.requestedSite.category})]})]})]})]})]}),e.message&&s.jsx("div",{className:"bg-blue-50 rounded-lg p-3",children:s.jsxs("p",{className:"text-xs text-gray-700 line-clamp-2",children:['"',e.message,'"']})}),s.jsxs("div",{className:"space-y-3 pt-3 border-t border-gray-200",children:[(e.status==="active"||e.status==="delivered")&&s.jsxs("div",{className:"flex items-center justify-center space-x-1 bg-green-50 rounded-lg p-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Exchange in progress"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(ot,{open:i,onOpenChange:l,children:[s.jsx(us,{asChild:!0,children:s.jsxs(E,{variant:"ghost",size:"sm",className:"text-xs px-3 flex-1",children:[s.jsx(sr,{className:"h-3 w-3 mr-1"}),"Details"]})}),s.jsxs(ct,{className:"max-w-[95vw] sm:max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsx(dt,{className:"flex-shrink-0",children:s.jsx(ut,{children:"Exchange Request Details"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Selected Site:"}),s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"font-medium",children:((A=e.requesterSite)==null?void 0:A.domain)||"Unknown"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["DA: ",((F=e.requesterSite)==null?void 0:F.domainAuthority)||"?"," | Traffic: ",((Z=(U=e.requesterSite)==null?void 0:U.monthlyTraffic)==null?void 0:Z.toLocaleString())||"0","/mo"]}),s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:`inline-flex px-2 py-1 rounded text-xs font-medium text-white ${((q=e.requesterSite)==null?void 0:q.linkType)==="dofollow"?"bg-green-500":"bg-blue-500"}`,children:((K=e.requesterSite)==null?void 0:K.linkType)==="dofollow"?"Do Follow":"No Follow"})})]})]}),e.message&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Message:"}),s.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-700",children:['"',e.message,'"']})})]})]})]})]}),(e.status==="active"||e.status==="delivered"||e.status==="completed")&&s.jsxs(E,{size:"sm",variant:e.status==="completed"?"outline":"default",onClick:()=>r(e.id),disabled:e.status==="completed",className:"text-xs px-3 flex-1",children:[s.jsx(is,{className:"h-3 w-3 mr-1"}),e.status==="completed"?"Chat Closed":"Chat"]})]}),v&&s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(E,{variant:"outline",onClick:h,disabled:o.isPending,className:"text-red-600 border-red-300 hover:bg-red-50 text-xs",size:"sm",children:[s.jsx(bn,{className:"h-3 w-3 mr-1"}),o.isPending?"Processing...":"Disapprove"]}),s.jsxs(E,{onClick:u,disabled:o.isPending,className:"bg-green-600 hover:bg-green-700 text-xs",size:"sm",children:[s.jsx(yt,{className:"h-3 w-3 mr-1"}),o.isPending?"Processing...":"Approve"]})]}),(e.status==="active"||e.status==="delivered")&&s.jsxs("div",{className:"flex space-x-2",children:[g?s.jsxs(E,{variant:"outline",disabled:!0,className:"border-green-500 text-green-700 bg-green-50 text-xs flex-1",size:"sm",children:[s.jsx(yt,{className:"h-3 w-3 mr-1"}),"Completed by You"]}):s.jsxs(E,{variant:"outline",onClick:x,disabled:o.isPending,className:"border-green-300 text-green-600 hover:bg-green-50 text-xs flex-1",size:"sm",children:[s.jsx(yt,{className:"h-3 w-3 mr-1"}),o.isPending?"Processing...":"Mark Complete"]}),w&&s.jsxs(E,{variant:"outline",disabled:!0,className:"border-blue-300 text-blue-600 bg-blue-50 text-xs flex-1",size:"sm",children:[s.jsx(yt,{className:"h-3 w-3 mr-1"}),"Other User Completed"]})]}),e.status==="pending"&&y&&s.jsx(E,{variant:"outline",onClick:h,disabled:o.isPending,className:"text-xs w-full",size:"sm",children:"Cancel Request"})]})]}),s.jsxs("div",{className:"hidden md:block",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[c(e.status),s.jsxs("span",{className:"text-sm text-gray-500",children:["Exchange #",e.id.slice(0,8)]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(_n,{className:"h-4 w-4 mr-1"}),"Created ",yi(new Date(e.createdAt),{addSuffix:!0})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:y?"Your Site":`${((I=e.requester)==null?void 0:I.firstName)||"Unknown"}'s Site`}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold",children:e.requesterSite?d(e.requesterSite.domain):"?"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h5",{className:"font-semibold text-gray-900",children:((z=e.requesterSite)==null?void 0:z.domain)||"Unknown"}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Owner: ",e.requester?`${e.requester.firstName} ${e.requester.lastName}`:"Unknown"]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["DA: ",((ee=e.requesterSite)==null?void 0:ee.domainAuthority)||"?"," | Traffic: ",((Y=(ge=e.requesterSite)==null?void 0:ge.monthlyTraffic)==null?void 0:Y.toLocaleString())||"0","/mo"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium text-white ${((pe=e.requesterSite)==null?void 0:pe.linkType)==="dofollow"?"bg-green-500":"bg-blue-500"}`,children:((Le=e.requesterSite)==null?void 0:Le.linkType)==="dofollow"?"Do Follow":"No Follow"}),((Fe=e.requesterSite)==null?void 0:Fe.category)&&s.jsx("div",{className:"px-2 py-1 rounded text-xs font-medium bg-blue-500 text-white",children:e.requesterSite.category})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:y?`${((ye=e.requestedUser)==null?void 0:ye.firstName)||"Unknown"}'s Site`:"Your Site"}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-indigo-500 to-blue-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold",children:e.requestedSite?d(e.requestedSite.domain):"?"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h5",{className:"font-semibold text-gray-900",children:((ke=e.requestedSite)==null?void 0:ke.domain)||"Unknown"}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Owner: ",e.requestedUser?`${e.requestedUser.firstName} ${e.requestedUser.lastName}`:"Unknown"]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["DA: ",((L=e.requestedSite)==null?void 0:L.domainAuthority)||"?"," | Traffic: ",((G=(ce=e.requestedSite)==null?void 0:ce.monthlyTraffic)==null?void 0:G.toLocaleString())||"0","/mo"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium text-white ${((Oe=e.requestedSite)==null?void 0:Oe.linkType)==="dofollow"?"bg-green-500":"bg-blue-500"}`,children:((Ve=e.requestedSite)==null?void 0:Ve.linkType)==="dofollow"?"Do Follow":"No Follow"}),((Ke=e.requestedSite)==null?void 0:Ke.category)&&s.jsx("div",{className:"px-2 py-1 rounded text-xs font-medium bg-blue-500 text-white",children:e.requestedSite.category})]})]})]})]}),e.message&&s.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"',e.message,'"']})}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[(e.status==="active"||e.status==="delivered")&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Exchange in progress"})]}),s.jsxs(ot,{open:i,onOpenChange:l,children:[s.jsx(us,{asChild:!0,children:s.jsxs(E,{variant:"ghost",size:"sm",children:[s.jsx(sr,{className:"h-4 w-4 mr-2"}),"View Details"]})}),s.jsxs(ct,{className:"max-w-[95vw] sm:max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsx(dt,{className:"flex-shrink-0",children:s.jsx(ut,{children:"Exchange Request Details"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Selected Site:"}),s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"font-medium",children:((_=e.requesterSite)==null?void 0:_.domain)||"Unknown"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["DA: ",((Qe=e.requesterSite)==null?void 0:Qe.domainAuthority)||"?"," | Traffic: ",((T=(ie=e.requesterSite)==null?void 0:ie.monthlyTraffic)==null?void 0:T.toLocaleString())||"0","/mo"]}),s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:`inline-flex px-2 py-1 rounded text-xs font-medium text-white ${(($=e.requesterSite)==null?void 0:$.linkType)==="dofollow"?"bg-green-500":"bg-blue-500"}`,children:((V=e.requesterSite)==null?void 0:V.linkType)==="dofollow"?"Do Follow":"No Follow"})})]})]}),e.message&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Message:"}),s.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-700",children:['"',e.message,'"']})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Requester:"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.requester?`${e.requester.firstName} ${e.requester.lastName}`:"Unknown"})]})]})]})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[v&&s.jsxs(s.Fragment,{children:[s.jsxs(E,{variant:"outline",onClick:h,disabled:o.isPending,className:"text-red-600 border-red-300 hover:bg-red-50 w-full md:w-auto",size:"sm",children:[s.jsx(bn,{className:"h-4 w-4 mr-2"}),o.isPending?"Processing...":"Disapprove"]}),s.jsxs(E,{onClick:u,disabled:o.isPending,className:"bg-green-600 hover:bg-green-700 w-full md:w-auto",size:"sm",children:[s.jsx(yt,{className:"h-4 w-4 mr-2"}),o.isPending?"Processing...":"Approve"]})]}),(e.status==="active"||e.status==="delivered")&&s.jsxs(s.Fragment,{children:[s.jsxs(E,{onClick:()=>r(e.id),size:"sm",className:"w-full md:w-auto",children:[s.jsx(is,{className:"h-4 w-4 mr-2"}),"Open Chat"]}),g?s.jsxs(E,{variant:"outline",disabled:!0,className:"border-green-500 text-green-700 bg-green-50 w-full md:w-auto",size:"sm",children:[s.jsx(yt,{className:"h-4 w-4 mr-2"}),"Completed by You"]}):s.jsxs(E,{variant:"outline",onClick:x,disabled:o.isPending,className:"border-green-300 text-green-600 hover:bg-green-50 w-full md:w-auto",size:"sm",children:[s.jsx(yt,{className:"h-4 w-4 mr-2"}),o.isPending?"Processing...":"Mark Complete"]}),w&&s.jsxs(E,{variant:"outline",disabled:!0,className:"border-blue-300 text-blue-600 bg-blue-50",children:[s.jsx(yt,{className:"h-4 w-4 mr-2"}),"Other User Completed"]})]}),e.status==="completed"&&s.jsxs(E,{variant:"outline",disabled:!0,children:[s.jsx(is,{className:"h-4 w-4 mr-2"}),"Chat Closed"]}),e.status==="pending"&&y&&s.jsx(E,{variant:"outline",onClick:h,disabled:o.isPending,children:"Cancel Request"})]})]})]})]})})}function yM({exchangeId:e,currentUserId:t}){var j,b,k,S,C,P,N,O,D,M,H,B;const[r,n]=m.useState(""),[a,i]=m.useState(""),{toast:l}=at(),o=Nt(),c=m.useRef(null),{data:d=[],isLoading:u}=ae({queryKey:["/api/messages/exchange",e],enabled:!!e,refetchInterval:3e3,refetchIntervalInBackground:!0}),{data:h=[]}=ae({queryKey:["/api/exchanges/user",t],enabled:!!t,refetchOnMount:!0,refetchOnWindowFocus:!0,staleTime:0}),x=()=>{var Q;(Q=c.current)==null||Q.scrollIntoView({behavior:"smooth"})};m.useEffect(()=>{x()},[d]),m.useEffect(()=>{e&&(ve("/api/messages/mark-read",{method:"POST",body:{exchangeId:e}}).then(()=>{o.invalidateQueries({queryKey:["/api/messages/unread-count",t]})}).catch(Q=>{console.error("Failed to mark messages as read:",Q)}),setTimeout(x,100))},[e]);const y=Ee({mutationFn:async Q=>await ve("/api/messages",{method:"POST",body:{exchangeId:e,senderId:t,content:Q}}),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/messages/exchange",e]}),o.invalidateQueries({queryKey:["/api/exchanges/user",t]}),o.invalidateQueries({queryKey:["/api/messages/unread-count",t]}),n(""),setTimeout(x,100)},onError:()=>{l({title:"Failed to send message",description:"Please try again later.",variant:"destructive"})}}),v=Ee({mutationFn:async Q=>await ve(`/api/exchanges/${e}`,{method:"PUT",body:Q}),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/exchanges/user",t]}),o.invalidateQueries({queryKey:["/api/messages/exchange",e]}),i(""),l({title:"Exchange updated",description:"The exchange status has been updated."})},onError:()=>{l({title:"Failed to update exchange",description:"Please try again later.",variant:"destructive"})}}),g=()=>{!r.trim()||!e||y.mutate(r.trim())},w=Q=>{Q.key==="Enter"&&!Q.shiftKey&&(Q.preventDefault(),g())},p=()=>{v.mutate({status:"completed",userId:t})};if(!e)return s.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No conversation selected"}),s.jsx("p",{className:"text-gray-600",children:"Choose a conversation from the list to start messaging."})]})});const f=h.find(Q=>Q.id===e);return(f==null?void 0:f.requesterId)===t?f==null||f.requestedUser:f==null||f.requester,u?s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"flex-1 flex flex-col bg-white max-h-screen overflow-hidden",children:[s.jsx("div",{className:"p-3 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:(f==null?void 0:f.requesterId)===t?`Site Owner: ${((j=f==null?void 0:f.requestedUser)==null?void 0:j.firstName)||""} ${((b=f==null?void 0:f.requestedUser)==null?void 0:b.lastName)||""}`.trim()||"Unknown User":`Requester: ${((k=f==null?void 0:f.requester)==null?void 0:k.firstName)||""} ${((S=f==null?void 0:f.requester)==null?void 0:S.lastName)||""}`.trim()||"Unknown User"}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 truncate",children:["Exchange: ",(C=f==null?void 0:f.requesterSite)==null?void 0:C.domain," ↔ ",(P=f==null?void 0:f.requestedSite)==null?void 0:P.domain]}),f&&(f.status==="active"||f.status==="completed")&&s.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:[s.jsxs("span",{className:`${f.requesterCompleted?"text-green-600":"text-gray-400"}`,children:[f.requesterCompleted?"✓":"○"," ",(N=f.requester)==null?void 0:N.firstName," ",(O=f.requester)==null?void 0:O.lastName]})," ",s.jsxs("span",{className:`${f.requestedUserCompleted?"text-green-600":"text-gray-400"}`,children:[f.requestedUserCompleted?"✓":"○"," ",(D=f.requestedUser)==null?void 0:D.firstName," ",(M=f.requestedUser)==null?void 0:M.lastName]})]})]}),s.jsxs("div",{className:"text-right flex flex-col items-end space-y-2",children:[f&&f.status==="active"&&(t===f.requesterId&&!f.requesterCompleted||t===f.requestedUserId&&!f.requestedUserCompleted)&&s.jsxs(E,{onClick:p,disabled:v.isPending,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white text-sm px-3 py-2 h-8 rounded-md shadow-sm",children:[s.jsx(yt,{className:"h-4 w-4 mr-2"}),"Mark Complete"]}),s.jsxs("span",{className:"text-sm font-mono text-blue-600 bg-blue-50 px-2 py-1 rounded",children:["#CHAT",(e||"").slice(-4).toUpperCase()]})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[d.length===0?s.jsx("div",{className:"text-center text-gray-500 py-8",children:s.jsx("p",{children:"No messages yet. Start the conversation!"})}):d.map(Q=>{var se,A;return s.jsx("div",{className:`flex ${Q.senderId===t?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${Q.senderId===t?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[s.jsx("div",{className:"font-medium text-sm mb-1",children:Q.senderId===t?"You":`${(se=Q.sender)==null?void 0:se.firstName} ${(A=Q.sender)==null?void 0:A.lastName}`}),s.jsx("div",{className:"text-sm",children:Q.content}),s.jsx("div",{className:`text-xs mt-1 ${Q.senderId===t?"text-blue-100":"text-gray-500"}`,children:yi(new Date(Q.createdAt),{addSuffix:!0})})]})},Q.id)}),s.jsx("div",{ref:c})]}),f&&f.status==="delivered"&&s.jsx("div",{className:"px-6 py-4 bg-green-50 border-t border-green-200 flex-shrink-0",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm font-medium text-green-900",children:"Exchange Ready for Completion"}),s.jsx("p",{className:"text-sm text-green-700",children:"Both parties must confirm completion. Once both confirm, the exchange will be marked as completed."}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[f.requesterCompleted?s.jsx(yt,{className:"h-4 w-4 text-green-600"}):s.jsx("div",{className:"h-4 w-4 border border-gray-300 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-700",children:[(H=f.requester)==null?void 0:H.firstName," confirmed"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[f.requestedUserCompleted?s.jsx(yt,{className:"h-4 w-4 text-green-600"}):s.jsx("div",{className:"h-4 w-4 border border-gray-300 rounded-full"}),s.jsxs("span",{className:"text-sm text-gray-700",children:[(B=f.requestedUser)==null?void 0:B.firstName," confirmed"]})]})]})})]})}),f&&(f.status==="active"||f.status==="delivered")&&s.jsx("div",{className:"p-3 sm:p-6 border-t border-gray-200 bg-white flex-shrink-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-end gap-3 sm:gap-4",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx(Jt,{placeholder:"Type your message...",value:r,onChange:Q=>n(Q.target.value),onKeyPress:w,className:"resize-none min-h-[80px] w-full",rows:3})}),s.jsx("div",{className:"flex flex-row sm:flex-col gap-2 justify-end",children:s.jsx(E,{onClick:g,disabled:!r.trim()||y.isPending,className:"shrink-0",size:"sm",children:s.jsx(_c,{className:"h-4 w-4"})})})]})}),f&&f.status==="completed"&&s.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-gray-500 text-sm",children:"Chat is closed - Exchange completed"})})})]})}const vM=Re.object({firstName:Re.string().min(1,"First name is required").max(50,"First name must be 50 characters or less").refine(e=>!/[<>\"'&]/.test(e),"First name contains invalid characters"),lastName:Re.string().min(1,"Last name is required").max(50,"Last name must be 50 characters or less").refine(e=>!/[<>\"'&]/.test(e),"Last name contains invalid characters"),company:Re.string().max(100,"Company must be 100 characters or less").refine(e=>!e||!/[<>\"'&]/.test(e),"Company contains invalid characters").optional(),bio:Re.string().max(500,"Bio must be 500 characters or less").refine(e=>!e||!/[<>\"'&]/.test(e),"Bio contains invalid characters").optional()});function jM({user:e}){const{login:t}=ds(),{toast:r}=at(),n=Nt(),a=qs({resolver:Vs(vM),defaultValues:{firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",company:(e==null?void 0:e.company)||"",bio:(e==null?void 0:e.bio)||""}}),i=Ee({mutationFn:async c=>(console.log("Sending profile update to:",`/api/users/${e==null?void 0:e.id}`,c),await ve(`/api/users/${e==null?void 0:e.id}`,{method:"PUT",body:c})),onSuccess:c=>{console.log("Profile update successful:",c),t(c),n.invalidateQueries({queryKey:["/api/users",e==null?void 0:e.id]}),r({title:"Profile updated",description:"Your profile has been successfully updated."})},onError:c=>{console.error("Profile update error:",c),r({title:"Failed to update profile",description:c.message||"Please try again later.",variant:"destructive"})}}),l=c=>{console.log("Profile form submission:",c),i.mutate(c)},o=()=>{a.reset({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",company:(e==null?void 0:e.company)||"",bio:(e==null?void 0:e.bio)||""})};return s.jsxs(J,{className:"border border-gray-200",children:[s.jsx(fe,{children:s.jsx(xe,{className:"text-lg font-semibold text-gray-900",children:"Personal Information"})}),s.jsx(te,{children:s.jsxs("form",{onSubmit:a.handleSubmit(l),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"firstName",children:"First Name"}),s.jsx(re,{id:"firstName",...a.register("firstName")}),a.formState.errors.firstName&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:a.formState.errors.firstName.message})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"lastName",children:"Last Name"}),s.jsx(re,{id:"lastName",...a.register("lastName")}),a.formState.errors.lastName&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:a.formState.errors.lastName.message})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"email",children:"Email Address"}),s.jsx(re,{id:"email",type:"email",defaultValue:(e==null?void 0:e.email)||"",disabled:!0,className:"bg-gray-100 cursor-not-allowed"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Email cannot be changed for security reasons"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"company",children:"Company"}),s.jsx(re,{id:"company",...a.register("company")})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"bio",children:"Bio"}),s.jsx(Jt,{id:"bio",rows:4,placeholder:"Tell us about yourself and your expertise...",...a.register("bio")})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx(E,{type:"button",variant:"outline",onClick:o,children:"Cancel"}),s.jsx(E,{type:"submit",disabled:i.isPending,children:i.isPending?"Saving...":"Save Changes"})]})]})})]})}const wM=Re.object({currentPassword:Re.string().min(1,"Current password is required").max(128,"Password must be 128 characters or less"),newPassword:Re.string().min(6,"Password must be at least 6 characters").max(128,"Password must be 128 characters or less"),confirmPassword:Re.string().min(1,"Please confirm your password").max(128,"Password must be 128 characters or less")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function bM(){const{user:e}=ds(),{toast:t}=at(),r=qs({resolver:Vs(wM),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),n=Ee({mutationFn:async i=>await ve(`/api/users/${e==null?void 0:e.id}/password`,{method:"PUT",body:{currentPassword:i.currentPassword,newPassword:i.newPassword}}),onSuccess:()=>{t({title:"Password updated",description:"Your password has been successfully updated."}),r.reset()},onError:i=>{t({title:"Failed to update password",description:i.message||"Please check your current password and try again.",variant:"destructive"})}}),a=i=>{n.mutate(i)};return s.jsxs(J,{className:"border border-gray-200",children:[s.jsx(fe,{children:s.jsx(xe,{className:"text-lg font-semibold text-gray-900",children:"Security Settings"})}),s.jsx(te,{children:s.jsxs("form",{onSubmit:r.handleSubmit(a),className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(re,{id:"currentPassword",type:"password",placeholder:"Enter current password",...r.register("currentPassword")}),r.formState.errors.currentPassword&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:r.formState.errors.currentPassword.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"newPassword",children:"New Password"}),s.jsx(re,{id:"newPassword",type:"password",placeholder:"Enter new password",...r.register("newPassword")}),r.formState.errors.newPassword&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:r.formState.errors.newPassword.message})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(re,{id:"confirmPassword",type:"password",placeholder:"Confirm new password",...r.register("confirmPassword")}),r.formState.errors.confirmPassword&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:r.formState.errors.confirmPassword.message})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(E,{type:"submit",disabled:n.isPending,children:n.isPending?"Updating...":"Update Password"})})]})})]})}var og="Switch",[NM,XF]=ar(og),[SM,kM]=NM(og),d2=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:l,disabled:o,value:c="on",onCheckedChange:d,form:u,...h}=e,[x,y]=m.useState(null),v=Je(t,j=>y(j)),g=m.useRef(!1),w=x?u||!!x.closest("form"):!0,[p=!1,f]=An({prop:a,defaultProp:i,onChange:d});return s.jsxs(SM,{scope:r,checked:p,disabled:o,children:[s.jsx(Ue.button,{type:"button",role:"switch","aria-checked":p,"aria-required":l,"data-state":h2(p),"data-disabled":o?"":void 0,disabled:o,value:c,...h,ref:v,onClick:_e(e.onClick,j=>{f(b=>!b),w&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),w&&s.jsx(CM,{control:x,bubbles:!g.current,name:n,value:c,checked:p,required:l,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});d2.displayName=og;var u2="SwitchThumb",m2=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=kM(u2,r);return s.jsx(Ue.span,{"data-state":h2(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});m2.displayName=u2;var CM=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,i=m.useRef(null),l=Ip(r),o=Ap(t);return m.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&h){const x=new Event("click",{bubbles:n});h.call(c,r),c.dispatchEvent(x)}},[l,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function h2(e){return e?"checked":"unchecked"}var f2=d2,TM=m2;const er=m.forwardRef(({className:e,...t},r)=>s.jsx(f2,{className:Se("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(TM,{className:Se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));er.displayName=f2.displayName;function PM({currentAvatar:e,userId:t,onAvatarUpdate:r}){const[n,a]=m.useState(!1),i=m.useRef(null),{toast:l}=at(),{login:o}=ds(),c=async u=>{var y;const h=(y=u.target.files)==null?void 0:y[0];if(!h)return;if(!["image/jpeg","image/png","image/gif","image/webp"].includes(h.type)){l({title:"Invalid file type",description:"Image must be 300x300 pixels and up to 1MB (JPG, PNG, GIF, WebP).",variant:"destructive"});return}if(h.size>1*1024*1024){l({title:"File too large",description:"Image must be 300x300 pixels and up to 1MB.",variant:"destructive"});return}await d(h)},d=async u=>{a(!0);try{const h=new FormData;h.append("file",u);const x=await fetch("/api/profile/upload",{method:"POST",body:h,credentials:"include"});if(!x.ok){const v=await x.json();throw new Error(v.error||"Upload failed")}const y=await x.json();l({title:"Profile picture updated",description:"Image resized to 300x300 pixels and saved successfully."}),y.user&&o(y.user),r&&y.avatarPath&&r(y.avatarPath),i.current&&(i.current.value="")}catch(h){console.error("Upload error:",h),l({title:"Upload failed",description:h.message||"Please try again.",variant:"destructive"})}finally{a(!1)}};return s.jsxs("div",{className:"text-center",children:[s.jsx("input",{ref:i,type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:c,className:"hidden"}),s.jsxs(E,{onClick:()=>{var u;return(u=i.current)==null?void 0:u.click()},variant:"outline",size:"sm",className:"gap-1",disabled:n,children:[s.jsx(v4,{className:"w-4 h-4"}),n?"Uploading...":"Change Picture"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"300x300 pixels • Up to 1MB • JPG, PNG, GIF, WebP"})]})}function EM({user:e}){const[t,r]=m.useState(e==null?void 0:e.avatar),n=()=>e?(e.firstName[0]||"")+(e.lastName[0]||""):"?",a=()=>t?t.startsWith("http")||t.startsWith("/uploads/")?t:t.startsWith("/avatars/")?`/api/profile/avatar${t}`:t:null,i=o=>{r(o)},{data:l}=ae({queryKey:["/api/users",e==null?void 0:e.id,"stats"],enabled:!!(e!=null&&e.id)});return s.jsxs("div",{className:"space-y-8",children:[s.jsxs(J,{className:"border border-gray-200",children:[s.jsx(fe,{children:s.jsx(xe,{className:"text-lg font-semibold text-gray-900",children:"Profile Avatar"})}),s.jsx(te,{children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"w-24 h-24 rounded-full overflow-hidden mx-auto mb-4 bg-gray-100 flex items-center justify-center",children:[a()?s.jsx("img",{src:a(),alt:"Profile avatar",className:"w-full h-full object-cover",onError:o=>{const c=o.currentTarget;c.style.display="none";const d=c.nextElementSibling;d&&(d.style.display="flex")}}):null,s.jsx("div",{className:`w-full h-full bg-primary rounded-full flex items-center justify-center ${a()?"hidden":""}`,children:s.jsx("span",{className:"text-white font-bold text-2xl",children:n()})})]}),s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),s.jsx("div",{className:"flex justify-center mb-4",children:e&&s.jsx(PM,{currentAvatar:a(),userId:e.id,onAvatarUpdate:i})}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:a()?"Profile picture uploaded":"Upload a profile picture or display your initials"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xl font-bold text-blue-600",children:(l==null?void 0:l.totalSites)||0}),s.jsx("div",{className:"text-xs text-gray-600",children:"Sites"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xl font-bold text-green-600",children:(l==null?void 0:l.completedExchanges)||0}),s.jsx("div",{className:"text-xs text-gray-600",children:"Exchanges"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xl font-bold text-purple-600",children:(l==null?void 0:l.successfulOrders)||0}),s.jsx("div",{className:"text-xs text-gray-600",children:"Orders"})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Member Since"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:e!=null&&e.createdAt?new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"Unknown"})]})]})]})})]}),s.jsxs(J,{className:"border border-gray-200",children:[s.jsx(fe,{children:s.jsx(xe,{className:"text-lg font-semibold text-gray-900",children:"Notifications"})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Email Notifications"}),s.jsx(er,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"SMS Notifications"}),s.jsx(er,{})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Exchange Updates"}),s.jsx(er,{defaultChecked:!0})]})]})})]})]})}function Ln(){const{data:e}=ae({queryKey:["/api/settings/public"],enabled:!0}),{data:t=[]}=ae({queryKey:["/api/social-links"]}),r=n=>{const a=n.toLowerCase();return a.includes("twitter")||a.includes("x")?s.jsx(B4,{className:"h-5 w-5 text-gray-400 hover:text-white"}):a.includes("facebook")?s.jsx(k4,{className:"h-5 w-5 text-gray-400 hover:text-white"}):a.includes("linkedin")?s.jsx(A4,{className:"h-5 w-5 text-gray-400 hover:text-white"}):a.includes("instagram")?s.jsx(P4,{className:"h-5 w-5 text-gray-400 hover:text-white"}):s.jsx(_c,{className:"h-5 w-5 text-gray-400 hover:text-white"})};return s.jsx("footer",{className:"bg-gray-900 text-white py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:(e==null?void 0:e.platformName)||"CollabPro"}),s.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"A B2B platform for guest posts and link partnerships. Verified sites, clear workflows."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white mb-4",children:"About"}),s.jsx("nav",{children:s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx($e,{href:"/about",className:"text-gray-400 hover:text-white transition-colors text-sm block",children:"About Us"})}),s.jsx("li",{children:s.jsx($e,{href:"/faq",className:"text-gray-400 hover:text-white transition-colors text-sm block",children:"FAQ"})})]})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white mb-4",children:"Support"}),s.jsx("nav",{children:s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx($e,{href:"/contact",className:"text-gray-400 hover:text-white transition-colors text-sm block",children:"Contact"})}),s.jsx("li",{children:s.jsx($e,{href:"/terms",className:"text-gray-400 hover:text-white transition-colors text-sm block",children:"Terms of Service"})}),s.jsx("li",{children:s.jsx($e,{href:"/privacy",className:"text-gray-400 hover:text-white transition-colors text-sm block",children:"Privacy Policy"})})]})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white mb-4",children:"Follow Us"}),t.length>0?s.jsx("div",{className:"flex space-x-4",children:t.map(n=>s.jsx("a",{href:n.url,className:"w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-700 transition-colors","aria-label":n.name,target:"_blank",rel:"noopener noreferrer",children:r(n.name)},n.id))}):s.jsx("p",{className:"text-gray-400 text-sm",children:"No social links configured yet."})]})]}),s.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["© 2024 ",(e==null?void 0:e.platformName)||"CollabPro",". All rights reserved."]})})]})})}function AM({order:e,currentUserId:t,onOpenChat:r}){var w,p,f,j,b,k,S,C,P,N,O,D,M,H,B,Q,se,A,F,U,Z,q,K;const{toast:n}=at(),a=Nt(),[i,l]=m.useState(!1);m.useState(e.deliveryUrl||"");const o=e.sellerId===t,c=e.buyerId===t,d=Ee({mutationFn:async I=>await ve(`/api/orders/${e.id}`,{method:"PATCH",body:I}),onSuccess:(I,z)=>{a.invalidateQueries({queryKey:["/api/orders/user",t]}),a.invalidateQueries({queryKey:["/api/messages/order",e.id]}),a.invalidateQueries({queryKey:["/api/notifications/user",t]}),z.status==="refunded"?n({title:"Order declined",description:"The order has been declined and buyer has been refunded."}):z.status==="completed"?n({title:"Order completed",description:"The order has been marked as completed and chat has been closed."}):n({title:"Order updated",description:"The order status has been updated."})},onError:()=>{n({title:"Failed to update order",description:"Please try again later.",variant:"destructive"})}}),u=I=>{switch(I){case"pending":return s.jsx(Pe,{className:"bg-amber-100 text-amber-800",children:"Pending"});case"on_going":case"accepted":case"in_progress":return s.jsx(Pe,{className:"bg-green-100 text-green-800",children:"Sales in Progress"});case"completed":return s.jsx(Pe,{className:"bg-blue-100 text-blue-800",children:"Completed"});case"cancelled":case"refunded":return s.jsx(Pe,{className:"bg-red-100 text-red-800",children:"Declined"});default:return s.jsx(Pe,{variant:"secondary",children:"Unknown"})}},h=I=>I.split(".")[0].substring(0,2).toUpperCase(),x=()=>{d.mutate({status:"refunded",userId:t})},y=()=>{d.mutate({action:"confirm_completed",userId:t})},v=I=>I.toFixed(2),g=I=>I.replace("#ORDER-","Sales #");return s.jsx(J,{className:"border border-gray-200",children:s.jsxs(te,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[u(e.status),s.jsx("span",{className:"text-sm text-gray-500",children:g(e.orderId||`Sales #${e.id.slice(0,6)}`)})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(_n,{className:"h-4 w-4 mr-1"}),"Created ",yi(new Date(e.createdAt),{addSuffix:!0})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:o?"Buyer":"Seller"}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold",children:o?(((p=(w=e.buyer)==null?void 0:w.firstName)==null?void 0:p.charAt(0))||"B")+(((j=(f=e.buyer)==null?void 0:f.lastName)==null?void 0:j.charAt(0))||""):(((k=(b=e.seller)==null?void 0:b.firstName)==null?void 0:k.charAt(0))||"S")+(((C=(S=e.seller)==null?void 0:S.lastName)==null?void 0:C.charAt(0))||"")})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"font-semibold text-gray-900",children:o?`${((P=e.buyer)==null?void 0:P.firstName)||""} ${((N=e.buyer)==null?void 0:N.lastName)||""}`.trim()||"Unknown Buyer":`${((O=e.seller)==null?void 0:O.firstName)||""} ${((D=e.seller)==null?void 0:D.lastName)||""}`.trim()||"Unknown Seller"}),s.jsx("p",{className:"text-sm text-gray-500",children:o?"Purchasing guest post":"Selling guest post"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Site Details"}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold",children:(H=(M=e.listing)==null?void 0:M.site)!=null&&H.domain?h(e.listing.site.domain):"?"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"font-semibold text-gray-900",children:((Q=(B=e.listing)==null?void 0:B.site)==null?void 0:Q.domain)||"Site Domain"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["DA: ",((A=(se=e.listing)==null?void 0:se.site)==null?void 0:A.domainAuthority)||"?"," | Traffic: ",((Z=(U=(F=e.listing)==null?void 0:F.site)==null?void 0:U.monthlyTraffic)==null?void 0:Z.toLocaleString())||"0","/mo"]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:o?s.jsxs(s.Fragment,{children:["Earnings: $",v(e.sellerAmount||e.amount)]}):s.jsxs(s.Fragment,{children:["Total Cost: $",v(e.amount)]})})]})]})]})]}),e.requirements&&s.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"',e.requirements,'"']})}),(e.googleDocLink||e.targetLink)&&s.jsxs("div",{className:"mb-4 space-y-2",children:[e.googleDocLink&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ci,{className:"h-4 w-4 text-blue-500"}),s.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Google Doc:"})]}),s.jsx("div",{className:"bg-gray-50 p-2 rounded border text-xs break-all font-mono",children:e.googleDocLink})]}),e.targetLink&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ci,{className:"h-4 w-4 text-purple-500"}),s.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Target Link:"})]}),s.jsx("div",{className:"bg-gray-50 p-2 rounded border text-xs break-all font-mono",children:e.targetLink}),(e.status==="on_going"||e.status==="accepted")&&s.jsxs(s.Fragment,{children:[o&&s.jsxs("div",{className:"flex items-center space-x-2 mt-2 p-2 bg-blue-50 border border-blue-200 rounded text-xs",children:[s.jsx("span",{className:"text-blue-600",children:"💡"}),s.jsx("span",{className:"text-blue-700",children:"Payment is released once the buyer confirms delivery."})]}),c&&s.jsxs("div",{className:"flex items-center space-x-2 mt-2 p-2 bg-red-50 border border-red-200 rounded text-xs",children:[s.jsx("span",{className:"text-red-600",children:"⚠️"}),s.jsx("span",{className:"text-red-700",children:"Be sure to receive your order in chat before clicking 'Mark Complete'."})]})]})]})]}),e.deliveryUrl&&s.jsx("div",{className:"mb-4 p-3 bg-green-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Content Published:"}),s.jsx("a",{href:e.deliveryUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-green-600 hover:underline",children:"View Published Content"})]})}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[(e.status==="on_going"||e.status==="accepted")&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Sales in progress"})]}),s.jsxs(ot,{open:i,onOpenChange:l,children:[s.jsx(us,{asChild:!0,children:s.jsxs(E,{variant:"ghost",size:"sm",children:[s.jsx(sr,{className:"h-4 w-4 mr-2"}),"View Details"]})}),s.jsxs(ct,{className:"max-w-md",children:[s.jsx(dt,{children:s.jsx(ut,{children:"Order Details"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-gray-900",children:[o?"Buyer":"Seller"," Information"]}),s.jsx("p",{className:"text-sm text-gray-600",children:o?e.buyer?`${e.buyer.firstName} ${e.buyer.lastName}`:"Unknown Buyer":e.seller?`${e.seller.firstName} ${e.seller.lastName}`:"Unknown Seller"})]}),!o&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Site Domain"}),s.jsx("p",{className:"text-sm text-gray-600",children:((K=(q=e.listing)==null?void 0:q.site)==null?void 0:K.domain)||"Unknown"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:o?"Your Earnings":"Total Cost"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["$",v(o&&e.sellerAmount||e.amount)]}),o&&e.serviceFee&&s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Platform fee: $",v(e.serviceFee)]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Description"}),s.jsx("p",{className:"text-sm text-gray-600",children:e.requirements||"No description provided"})]}),e.googleDocLink&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Submitted Content"}),s.jsx("div",{className:"bg-gray-50 p-2 rounded border text-xs break-all font-mono",children:e.googleDocLink})]}),e.targetLink&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Target Link"}),s.jsx("div",{className:"bg-gray-50 p-2 rounded border text-xs break-all font-mono",children:e.targetLink})]})]})]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[e.status==="on_going"&&o&&s.jsxs(E,{variant:"outline",onClick:x,disabled:d.isPending,className:"text-red-600 border-red-300 hover:bg-red-50",children:[s.jsx(bn,{className:"h-4 w-4 mr-2"}),d.isPending?"Processing...":"Decline"]}),e.status==="on_going"&&s.jsxs(s.Fragment,{children:[s.jsxs(E,{onClick:()=>r(e.id),children:[s.jsx(is,{className:"h-4 w-4 mr-2"}),"Open Chat"]}),c&&(e.status==="completed"?s.jsxs(E,{variant:"outline",disabled:!0,className:"border-green-500 text-green-700 bg-green-50",children:[s.jsx(yt,{className:"h-4 w-4 mr-2"}),"Completed by You"]}):s.jsxs(E,{variant:"outline",onClick:y,disabled:d.isPending,className:"border-green-300 text-green-600 hover:bg-green-50",children:[s.jsx(yt,{className:"h-4 w-4 mr-2"}),d.isPending?"Processing...":"Mark Complete"]}))]})]})]})]})})}function _M({orderId:e,currentUserId:t}){const[r,n]=m.useState(""),a=Nt(),{toast:i}=at(),{data:l=[],isLoading:o,refetch:c}=ae({queryKey:["/api/messages/order",e]}),d=Ee({mutationFn:async x=>await ve(`/api/messages/order/${e}`,{method:"POST",body:{content:x}}),onSuccess:()=>{n(""),a.invalidateQueries({queryKey:["/api/messages/order",e]})},onError:x=>{console.error("Failed to send message:",x),i({title:"Failed to send message",description:"Please try again later.",variant:"destructive"})}}),u=()=>{r.trim()&&d.mutate(r.trim())},h=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),u())};return m.useEffect(()=>{const x=setInterval(()=>{c()},3e3);return()=>clearInterval(x)},[c]),o?s.jsx("div",{className:"h-96 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-blue-600 border-t-transparent rounded-full"})}):s.jsxs("div",{className:"h-96 flex flex-col",children:[s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:l.length===0?s.jsx("div",{className:"text-center text-gray-500 py-8",children:s.jsx("p",{children:"No messages yet. Start the conversation!"})}):l.map(x=>{var y,v;return s.jsx("div",{className:`flex ${x.senderId===t?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${x.senderId===t?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[s.jsx("div",{className:"font-medium text-sm mb-1",children:x.senderId===t?"You":`${(y=x.sender)==null?void 0:y.firstName} ${(v=x.sender)==null?void 0:v.lastName}`}),s.jsx("div",{className:"text-sm",children:x.content}),s.jsx("div",{className:`text-xs mt-1 ${x.senderId===t?"text-blue-100":"text-gray-500"}`,children:ya(new Date(x.createdAt),"MMM d, h:mm a")})]})},x.id)})}),s.jsx("div",{className:"border-t border-gray-200 p-4",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(Jt,{value:r,onChange:x=>n(x.target.value),onKeyDown:h,placeholder:"Type your message...",className:"flex-1 min-h-[60px] resize-none",disabled:d.isPending}),s.jsx(E,{onClick:u,disabled:!r.trim()||d.isPending,className:"px-4 py-2",children:s.jsx(_c,{className:"h-4 w-4"})})]})})]})}function DM({open:e,onOpenChange:t,amount:r=10}){const[n,a]=m.useState(null),[i,l]=m.useState(0),[o,c]=m.useState(!1),[d,u]=m.useState(!1),[h,x]=m.useState(2),[y,v]=m.useState(""),{toast:g}=at(),w=Nt(),p=async()=>{try{const P=await ve("/api/settings/public");P.topUpFee&&x(parseInt(P.topUpFee))}catch(P){console.error("Failed to fetch topup fee:",P)}},f=P=>{const N=Math.floor(P/60),O=P%60;return`${N}:${O.toString().padStart(2,"0")}`},j=async P=>{try{await navigator.clipboard.writeText(P),g({title:"Copied!",description:"Wallet address copied to clipboard"})}catch{g({title:"Copy failed",description:"Please copy the address manually",variant:"destructive"})}},b=async()=>{try{c(!0);const P=await ve("/api/deposit/create-session",{method:"POST",body:{amount:r}});a(P);const N=new Date(P.expiresAt),O=new Date,D=Math.max(0,Math.floor((N.getTime()-O.getTime())/1e3));l(D)}catch{g({title:"Error",description:"Failed to create deposit session",variant:"destructive"})}finally{c(!1)}},k=async()=>{try{const P=await ve("/api/deposit/session"),N=new Date(P.expiresAt),O=new Date,D=Math.max(0,Math.floor((N.getTime()-O.getTime())/1e3));if(D<=0){try{await ve("/api/deposit/session",{method:"DELETE"})}catch(M){console.error("Failed to delete expired session:",M)}await b()}else a(P),l(D)}catch{await b()}},S=()=>{t(!1)},C=async()=>{try{await ve("/api/deposit/session",{method:"DELETE"}),a(null),l(0),t(!1)}catch{g({title:"Error",description:"Failed to end session",variant:"destructive"})}};return m.useEffect(()=>{if(i>0){const P=setInterval(()=>{l(N=>N<=1?(ve("/api/deposit/session",{method:"DELETE"}).catch(O=>{console.error("Failed to delete expired session:",O)}),a(null),t(!1),g({title:"Session Expired",description:"Your deposit session has expired. Please create a new one.",variant:"destructive"}),0):N-1)},1e3);return()=>clearInterval(P)}},[i,t,g]),m.useEffect(()=>{e&&!n&&(k(),p())},[e]),s.jsx(ot,{open:e,onOpenChange:t,children:s.jsxs(ct,{className:"max-w-[95vw] sm:max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsx(dt,{className:"flex-shrink-0",children:s.jsxs(ut,{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-5 w-5"}),"Cryptocurrency Deposit"]})}),o?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"text-sm text-gray-500",children:"Creating deposit session..."})}):n?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-center gap-2 text-orange-800 dark:text-orange-200",children:[s.jsx(gp,{className:"h-4 w-4"}),s.jsxs("span",{className:"text-sm font-medium",children:["Session expires in: ",f(i)]})]})}),n.qrEnabled&&s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"bg-white p-4 rounded-lg border",children:n.qrCodeData&&n.qrCodeData.trim()!==""?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:n.qrCodeData,alt:"Deposit QR Code",className:"w-32 h-32 object-contain",onLoad:P=>{console.log("QR Code loaded successfully:",n.qrCodeData),P.currentTarget.style.display="block"},onError:P=>{console.error("QR Code failed to load:",n.qrCodeData,P),console.error("Error details:",P.target),P.currentTarget.style.display="none";const N=P.currentTarget.nextElementSibling;N&&(N.style.display="block")}}),s.jsxs("div",{className:"w-32 h-32 bg-gray-100 border border-gray-300 rounded flex items-center justify-center text-xs text-gray-500",style:{display:"none"},children:["QR Code",s.jsx("br",{}),"Not Available"]})]}):s.jsxs("div",{className:"w-32 h-32 bg-gray-100 border border-gray-300 rounded flex items-center justify-center text-xs text-gray-500",children:["QR Code",s.jsx("br",{}),"Not Configured"]})})}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total Amount (including fee)"}),s.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",(r+h).toFixed(2)]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Deposit: $",r.toFixed(2)," + Fee: $",h.toFixed(2)]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Wallet Address (USDT TRC20)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 p-2 bg-gray-50 dark:bg-gray-800 rounded border text-sm font-mono break-all",children:n.walletAddress}),s.jsx(E,{size:"sm",variant:"outline",onClick:()=>j(n.walletAddress),children:s.jsx(S4,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-red-600",children:"Transaction ID (TxID) *"}),s.jsx(re,{type:"text",placeholder:"Enter your transaction ID from the crypto transfer",value:y,onChange:P=>{const N=P.target.value.replace(/[^A-Za-z0-9]/g,"").slice(0,128);v(N)},className:"font-mono",maxLength:128,pattern:"[A-Za-z0-9]{1,128}",required:!0}),s.jsx("p",{className:"text-xs text-gray-500",children:"After sending the payment, enter the transaction ID (TxID) from your crypto wallet (alphanumeric only, max 128 chars)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Instructions"}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3",children:s.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-line",children:n.instructions})})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(E,{variant:"outline",className:"flex-1",onClick:S,children:"Close"}),s.jsx(E,{className:"flex-1",disabled:d||!y.trim(),onClick:async()=>{try{const P=y.trim().replace(/[^A-Za-z0-9]/g,"");if(!P||P.length<10){g({title:"Invalid Transaction ID",description:"Please enter a valid transaction ID (TxID) from your crypto transfer (minimum 10 characters, alphanumeric only).",variant:"destructive"});return}u(!0),await ve("/api/wallet/topup",{method:"POST",body:{amount:r,currency:"USDT",method:"crypto",fee:h,txId:P}}),w.invalidateQueries({queryKey:["/api/wallet"]}),w.invalidateQueries({queryKey:["/api/wallet-transactions"]}),await C(),v(""),t(!1),g({title:"Deposit Request Submitted",description:`Your $${r} deposit is processing. Check Transaction History for updates.`})}catch{g({title:"Error",description:"Failed to submit deposit request. Please try again.",variant:"destructive"})}finally{u(!1)}},children:d?"Submitting...":"Submit Deposit Request"})]})]}):s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"text-sm text-gray-500",children:"No active session"})})]})})}function RM({wallet:e,transactions:t}){const[r,n]=m.useState(!1),[a,i]=m.useState(10),[l,o]=m.useState({minDeposit:5,maxDeposit:1e3,minWithdrawal:5,maxWithdrawal:1e3}),c=(e==null?void 0:e.balance)||0;m.useEffect(()=>{(async()=>{try{const x=(await ve("/api/payment-gateways")).find(y=>y.name==="crypto");if(x){o({minDeposit:x.minDepositAmount,maxDeposit:x.maxDepositAmount,minWithdrawal:x.minWithdrawalAmount,maxWithdrawal:x.maxWithdrawalAmount});const y=x.minDepositAmount;a<y&&i(y)}}catch(h){console.error("Failed to fetch gateway limits:",h)}})()},[]);const d=u=>{if(u===""){i(0);return}const h=parseFloat(u);!isNaN(h)&&h<=99999&&i(h)};return s.jsxs(s.Fragment,{children:[s.jsxs(J,{className:"h-full flex flex-col",children:[s.jsxs(fe,{className:"flex-shrink-0",children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-5 w-5 text-blue-600"}),"Top Up Wallet"]}),s.jsxs(lt,{children:["Current Balance: ",wt(c)," | Add funds using cryptocurrency"]})]}),s.jsx(te,{className:"flex-1 overflow-y-auto",children:s.jsxs("div",{className:"space-y-4 h-full flex flex-col",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(mi,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Cryptocurrency Payments"}),s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Quick and secure deposits using USDT (TRC20)"})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"deposit-amount",children:"Deposit Amount (USD)"}),s.jsx(re,{id:"deposit-amount",type:"number",min:l.minDeposit,max:99999,step:"0.01",value:a===0?"":a,onChange:u=>d(u.target.value),placeholder:"Enter amount (e.g., 1000.54)"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Minimum: $",l.minDeposit.toFixed(2)]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),s.jsx("span",{children:"Fast processing"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),s.jsx("span",{children:"Secure blockchain"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),s.jsx("span",{children:"Subject to processing time"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),s.jsx("span",{children:"24/7 availability"})]})]}),s.jsx("div",{className:"flex-shrink-0 pt-4",children:s.jsxs(E,{onClick:()=>n(!0),className:"w-full",size:"lg",disabled:a<10,children:[s.jsx(yr,{className:"h-4 w-4 mr-2"}),a>=10?`Top Up ${wt(a)}`:"Top Up Wallet"]})}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 border rounded-lg p-3",children:s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.jsx("strong",{children:"Note:"})," All deposits are processed through secure cryptocurrency transactions. You'll receive a unique wallet address and QR code for your deposit session."]})})]})})]}),s.jsx(DM,{open:r,onOpenChange:n,amount:a})]})}function MM({wallet:e,transactions:t}){const[r,n]=m.useState(10),[a,i]=m.useState(""),[l,o]=m.useState("TRC20"),[c,d]=m.useState(!1),[u,h]=m.useState({minDeposit:5,maxDeposit:1e3,minWithdrawal:5,maxWithdrawal:1e3}),{toast:x}=at(),y=Nt(),v=(e==null?void 0:e.balance)||0;m.useEffect(()=>{(async()=>{try{const j=(await ve("/api/payment-gateways")).find(b=>b.name==="crypto");if(j){h({minDeposit:j.minDepositAmount,maxDeposit:j.maxDepositAmount,minWithdrawal:j.minWithdrawalAmount,maxWithdrawal:j.maxWithdrawalAmount});const b=j.minWithdrawalAmount;r<b&&n(b)}}catch(f){console.error("Failed to fetch gateway limits:",f)}})()},[]);const g=p=>{if(p===""){n(0);return}const f=parseFloat(p);isNaN(f)||n(f)},w=async()=>{if(!a){x({title:"Wallet Address Required",description:"Please enter your wallet address",variant:"destructive"});return}if(r<u.minWithdrawal){x({title:"Minimum Amount",description:`Minimum withdrawal amount is $${u.minWithdrawal.toFixed(2)}`,variant:"destructive"});return}let p=2;try{const b=await ve("/api/settings/public");b.withdrawalFee&&(p=parseFloat(b.withdrawalFee))}catch(b){console.error("Failed to fetch withdrawal fee:",b)}let f=v;try{f=(await ve("/api/wallet")).balance}catch(b){console.error("Failed to fetch fresh balance:",b)}const j=r+p;if(f<j){x({title:"Not enough funds",description:`Insufficient balance for withdrawal of $${r.toFixed(2)} plus $${p.toFixed(2)} fee. Available: $${f.toFixed(2)}`,variant:"destructive"});return}try{d(!0);const b=await ve("/api/wallet/withdraw",{method:"POST",body:{amount:r,currency:"USDT",method:"crypto",walletAddress:a,network:l,fee:p}});y.invalidateQueries({queryKey:["/api/wallet"]}),y.invalidateQueries({queryKey:["/api/wallet-transactions"]}),x({title:"Withdrawal Submitted",description:`Your ${wt(r)} withdrawal is on its way. Check Transaction History for updates.`}),n(10),i(""),o("TRC20")}catch(b){x({title:"Withdrawal Failed",description:b.message||"Failed to submit withdrawal request. Please try again.",variant:"destructive"})}finally{d(!1)}};return s.jsxs(J,{className:"h-full flex flex-col",children:[s.jsxs(fe,{className:"flex-shrink-0",children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(mi,{className:"h-5 w-5"}),"Withdraw Funds"]}),s.jsx(lt,{children:"Withdraw your funds securely to your cryptocurrency wallet"})]}),s.jsx(te,{className:"flex-1 overflow-y-auto",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"space-y-4 flex-1",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Available Balance"}),s.jsx("span",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400",children:wt(v)})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"withdrawal-amount",children:"Withdrawal Amount (USD)"}),s.jsx(re,{id:"withdrawal-amount",type:"number",min:u.minWithdrawal,step:"0.01",value:r===0?"":r,onChange:p=>g(p.target.value),placeholder:"Enter amount (e.g., 1000.54)"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Minimum withdrawal: $",u.minWithdrawal.toFixed(2)]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"wallet-address",children:"Wallet Address"}),s.jsx(re,{id:"wallet-address",type:"text",value:a,onChange:p=>{const f=p.target.value.replace(/[^A-Za-z0-9]/g,"").slice(0,45);i(f)},placeholder:"Enter your USDT wallet address",maxLength:45,pattern:"[A-Za-z0-9]{1,45}"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Only alphanumeric characters allowed (max 45 characters)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"network",children:"Network"}),s.jsxs(vt,{value:l,onValueChange:o,children:[s.jsx(ft,{children:s.jsx(jt,{})}),s.jsx(xt,{children:s.jsx(de,{value:"TRC20",children:"USDT (TRC20)"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),s.jsx("span",{children:"Fast processing"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),s.jsx("span",{children:"Secure transactions"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),s.jsx("span",{children:"Subject to processing time"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),s.jsx("span",{children:"24/7 support"})]})]})]}),s.jsxs("div",{className:"flex-shrink-0 space-y-4 pt-4 border-t",children:[s.jsxs(E,{onClick:w,className:"w-full",size:"lg",disabled:r<5||!a||c,children:[s.jsx(M4,{className:"h-4 w-4 mr-2"}),c?"Processing...":"Withdraw"]}),s.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3",children:s.jsxs("div",{className:"text-xs text-orange-800 dark:text-orange-200",children:[s.jsx("strong",{children:"Important:"})," Withdrawals are usually processed within a few minutes but may take up to 24 hours. Please double-check your wallet address, as transactions cannot be reversed."]})})]})]})})]})}const Bc=()=>{const{data:e,isLoading:t}=ae({queryKey:["/api/settings/public"],refetchInterval:3e4,staleTime:25e3,gcTime:6e4});return{appTimezone:(e==null?void 0:e.appTimezone)||(e==null?void 0:e.adminTimezone)||"UTC",isLoading:t}},FM=(e,t,r)=>{if(!e)return"—";const n=typeof e=="string"?new Date(e):e;if(isNaN(n.getTime()))return"Invalid Date";const{showDate:a=!0,showTime:i=!0,showSeconds:l=!1}=r||{};try{return new Intl.DateTimeFormat("en-US",{timeZone:t,...a&&{year:"numeric",month:"short",day:"numeric"},...i&&{hour:"2-digit",minute:"2-digit",...l&&{second:"2-digit"}}}).format(n)}catch(o){return console.error("Error formatting timestamp:",o),n.toLocaleString()}},OM=(e,t)=>{var n,a,i,l,o,c;const r=typeof e=="string"?new Date(e):e;try{const d={timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1},h=new Intl.DateTimeFormat("en-CA",d).formatToParts(r),x=(n=h.find(f=>f.type==="year"))==null?void 0:n.value,y=(a=h.find(f=>f.type==="month"))==null?void 0:a.value,v=(i=h.find(f=>f.type==="day"))==null?void 0:i.value,g=(l=h.find(f=>f.type==="hour"))==null?void 0:l.value,w=(o=h.find(f=>f.type==="minute"))==null?void 0:o.value,p=(c=h.find(f=>f.type==="second"))==null?void 0:c.value;return`${x}-${y}-${v}T${g}:${w}:${p}`}catch(d){return console.error("Error converting to timezone:",d),r.toISOString()}},IM=()=>{const{appTimezone:e}=Bc();return(t,r)=>FM(t,e,r)},LM=()=>{const{appTimezone:e}=Bc();return t=>OM(t,e)};function x2({timestamp:e,showDate:t=!0,showTime:r=!0,showSeconds:n=!1,className:a=""}){const l=IM()(e,{showDate:t,showTime:r,showSeconds:n});return s.jsx("span",{className:`font-mono text-sm ${a}`,children:l})}function $M({transactions:e}){const[t,r]=m.useState(1),n=5,{data:a}=ae({queryKey:["/api/wallet-transactions",t,n],queryFn:async()=>{const f=await(await fetch(`/api/wallet-transactions?page=${t}&limit=${n}`)).json();return console.log("Wallet transactions response:",f),f}}),i=(a==null?void 0:a.transactions)||[],l=a==null?void 0:a.pagination;console.log("Current walletPagination:",l);const o=p=>{switch(p){case"deposit":case"top_up":return s.jsx(p4,{className:"h-4 w-4 text-green-600"});case"withdrawal":return s.jsx(x4,{className:"h-4 w-4 text-red-600"});case"purchase":return s.jsx(Si,{className:"h-4 w-4 text-blue-600"});case"earning":return s.jsx(Bs,{className:"h-4 w-4 text-green-600"});case"processing":return s.jsx(gs,{className:"h-4 w-4 text-yellow-600"});default:return s.jsx(dh,{className:"h-4 w-4 text-gray-600"})}},c=p=>{switch(p){case"deposit":case"earning":return"text-green-600";case"withdrawal":case"purchase":return"text-red-600";default:return"text-gray-600"}},d=p=>{switch(p){case"deposit":case"earning":return"+";case"withdrawal":case"purchase":return"-";default:return""}},u=(p,f)=>{const j={deposit:{label:"Deposit",variant:"bg-green-100 text-green-800"},top_up:{label:"Top Up",variant:"bg-green-100 text-green-800"},withdrawal:{label:"Withdrawal",variant:"bg-red-100 text-red-800"},purchase:{label:"Purchase",variant:"bg-blue-100 text-blue-800"},earning:{label:"Earning",variant:"bg-green-100 text-green-800"},fee:{label:"Fee",variant:"bg-amber-100 text-amber-800"}},{label:b,variant:k}=j[p]||{label:p,variant:"bg-gray-100 text-gray-800"};return s.jsxs(Pe,{className:k,children:[b," ",f]})},h=p=>{const f={processing:{label:"Processing",variant:"bg-yellow-100 text-yellow-800"},approved:{label:"Successfully Processed",variant:"bg-green-100 text-green-800"},failed:{label:"Failed",variant:"bg-red-100 text-red-800"}},{label:j,variant:b}=f[p]||{label:p,variant:"bg-gray-100 text-gray-800"};return s.jsx(Pe,{className:b,children:j})},x=[...e.map(p=>({...p,source:"transaction"})),...i.map(p=>({...p,source:"wallet_transaction",description:p.type==="top_up"?`Top-up: ${wt(p.amount)} via Cryptocurrency`:`Withdrawal: ${wt(p.amount)} via Cryptocurrency`,type:p.type}))].sort((p,f)=>new Date(f.createdAt).getTime()-new Date(p.createdAt).getTime());l!=null&&l.totalPages||Math.ceil(x.length/n);const y=l?(l.page-1)*l.limit:(t-1)*n,v=l?y+l.limit:y+n;l!=null&&l.total||x.length;const g=l?i.map(p=>({...p,source:"wallet_transaction",description:p.type==="top_up"?`Top-up: ${wt(p.amount)} via Cryptocurrency`:`Withdrawal: ${wt(p.amount)} via Cryptocurrency`,type:p.type})):x.slice(y,v),w=p=>{r(p)};return s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(dh,{className:"h-5 w-5"}),"Transaction History"]}),s.jsx(lt,{children:"All your wallet activity and transactions"})]}),s.jsx(te,{children:g.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(dh,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No transactions yet"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Your transaction history will appear here"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-4",children:g.map(p=>s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 sm:p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors gap-3 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-white rounded-lg",children:o(p.type)}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:p.description}),p.source==="wallet_transaction"?h(p.status):u(p.type)]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(x2,{timestamp:p.createdAt,className:"text-sm text-gray-500"}),p.source==="wallet_transaction"&&p.transactionId&&s.jsxs("span",{className:"text-sm text-gray-400",children:["ID: ",p.transactionId]})]}),p.adminNote&&s.jsxs("p",{className:"text-sm text-gray-600 mt-1 italic",children:["Note: ",p.adminNote]}),p.status==="failed"&&p.rejectionReason&&s.jsx("p",{className:"text-sm text-red-600 mt-1 font-medium",children:p.rejectionReason})]})]}),s.jsxs("div",{className:"text-left sm:text-right",children:[s.jsxs("p",{className:`font-semibold text-base sm:text-lg ${c(p.type)}`,children:[d(p.type),wt(Math.abs(p.amount))]}),p.source==="wallet_transaction"&&p.fee>0&&s.jsxs("p",{className:"text-sm text-gray-500",children:["Fee: ",wt(p.fee)]})]})]},`${p.source}-${p.id}`))}),l&&s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mt-6 pt-4 border-t gap-4 sm:gap-0",children:[s.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 text-center sm:text-left",children:["Showing ",Math.min(l.limit*(l.page-1)+1,parseInt(l.total)),"-",Math.min(l.page*l.limit,parseInt(l.total))," of ",l.total," transactions",s.jsxs("span",{className:"text-gray-400 ml-2 hidden sm:inline",children:["(",l.limit," per page)"]})]}),l.totalPages>1&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>w(l.page-1),disabled:l.page===1,className:"text-xs sm:text-sm px-2 sm:px-3",children:[s.jsx(em,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"}),s.jsx("span",{className:"sm:hidden",children:"Prev"})]}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:l.totalPages},(p,f)=>f+1).map(p=>s.jsx(E,{variant:l.page===p?"default":"outline",size:"sm",onClick:()=>w(p),className:"w-8 h-8 p-0",children:p},p))}),s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>w(l.page+1),disabled:l.page===l.totalPages,className:"text-xs sm:text-sm px-2 sm:px-3",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx("span",{className:"sm:hidden",children:"Next"}),s.jsx(tm,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]})]})]})})]})}function UM({wallet:e,transactions:t}){return s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Wallet"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your balance, top up funds, and withdraw earnings."})]}),s.jsx("div",{className:"w-full max-w-4xl mb-6 sm:mb-8",children:s.jsxs(Lr,{defaultValue:"top-up",className:"w-full",children:[s.jsxs(vr,{className:"grid w-full grid-cols-2 h-auto",children:[s.jsxs(ze,{value:"top-up",className:"text-xs sm:text-sm px-3 py-2 sm:px-4 sm:py-2",children:[s.jsx("span",{className:"hidden sm:inline",children:"Top Up"}),s.jsx("span",{className:"sm:hidden",children:"Top Up"})]}),s.jsxs(ze,{value:"withdraw",className:"text-xs sm:text-sm px-3 py-2 sm:px-4 sm:py-2",children:[s.jsx("span",{className:"hidden sm:inline",children:"Withdraw"}),s.jsx("span",{className:"sm:hidden",children:"Withdraw"})]})]}),s.jsx(Ye,{value:"top-up",className:"mt-4 sm:mt-6",children:s.jsx(RM,{wallet:e,transactions:t})}),s.jsx(Ye,{value:"withdraw",className:"mt-4 sm:mt-6",children:s.jsx(MM,{wallet:e,transactions:t})})]})}),s.jsx("div",{className:"w-full max-w-6xl",children:s.jsx($M,{transactions:t})})]})}const zM=Re.object({description:Re.string().min(1,"Description is required"),casinoAllowed:Re.string().min(1,"Casino preference is required"),price:Re.number().min(1,"Price must be at least $1").optional(),deliveryTime:Re.number().min(1,"Delivery time must be at least 1 day").max(365,"Delivery time cannot exceed 365 days").optional()}).refine(e=>!0,{message:"Price and delivery time are required for sales sites"});function BM({site:e,onSuccess:t}){const{user:r}=ds(),{toast:n}=at(),a=Nt(),i=qs({resolver:Vs(zM),defaultValues:{description:e.description||"",casinoAllowed:e.purpose==="sales"?e.casinoAllowed||"N/A":void 0,price:e.purpose==="sales"?e.price:void 0,deliveryTime:e.purpose==="sales"?e.deliveryTime:void 0}}),l=Ee({mutationFn:async c=>{const d={description:c.description};e.purpose==="sales"?(d.price=c.price?Math.round(c.price):0,d.deliveryTime=c.deliveryTime||1,d.casinoAllowed=c.casinoAllowed):delete d.casinoAllowed,console.log("Original form data.price:",c.price),console.log("Sending update data:",d);const u=await ve(`/api/sites/${e.id}`,{method:"PUT",body:d});return console.log("Update response:",u),u},onSuccess:async c=>{console.log("Update success, invalidating queries..."),a.invalidateQueries({queryKey:["/api/sites/user",r==null?void 0:r.id]}),a.invalidateQueries({queryKey:["/api/sites/directory"]}),a.invalidateQueries({queryKey:["/api/listings/marketplace"]}),a.invalidateQueries({queryKey:["/api/listings/user",r==null?void 0:r.id]}),n({title:"Site updated successfully!",description:e.purpose==="sales"?"Your site details have been updated.":"Your site description has been updated."}),t()},onError:()=>{n({title:"Failed to update site",description:"Please try again later.",variant:"destructive"})}}),o=c=>{l.mutate(c)};return s.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"description",children:"Site Description"}),s.jsx(Jt,{id:"description",rows:4,placeholder:"Describe your website, its content, and target audience...",...i.register("description")}),i.formState.errors.description&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.formState.errors.description.message})]}),e.purpose==="sales"&&s.jsxs("div",{children:[s.jsx(W,{htmlFor:"casinoAllowed",children:"Casino Content"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Are casino-related links and content allowed on your site?"}),s.jsxs(vt,{onValueChange:c=>i.setValue("casinoAllowed",c),value:i.watch("casinoAllowed"),children:[s.jsx(ft,{children:s.jsx(jt,{placeholder:"Select casino preference"})}),s.jsxs(xt,{children:[s.jsx(de,{value:"yes",children:"✅ Yes - Casino content is allowed"}),s.jsx(de,{value:"no",children:"❌ No - Casino content is NOT allowed"}),s.jsx(de,{value:"N/A",children:"➖ Not Applicable / Not Specified"})]})]}),i.formState.errors.casinoAllowed&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.formState.errors.casinoAllowed.message})]}),e.purpose==="sales"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"price",children:"Price (USD)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400",children:"$"}),s.jsx(re,{id:"price",type:"number",step:"0.01",min:"1",placeholder:"Enter price in USD",className:"pl-8",...i.register("price",{valueAsNumber:!0})})]}),i.formState.errors.price&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.formState.errors.price.message})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"deliveryTime",children:"Delivery Time (days)"}),s.jsx(re,{id:"deliveryTime",type:"number",min:"1",max:"365",placeholder:"Days to complete",...i.register("deliveryTime",{valueAsNumber:!0})}),i.formState.errors.deliveryTime&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:i.formState.errors.deliveryTime.message})]})]})}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx(E,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),s.jsx(E,{type:"submit",disabled:l.isPending,children:l.isPending?"Updating...":e.purpose==="sales"?"Update Site Details":"Update Description"})]})]})}function qM({site:e}){var u,h;const[t,r]=m.useState(!1),{toast:n}=at(),a=Nt(),i=x=>{switch(x){case"approved":return s.jsx(Pe,{className:"bg-green-100 text-green-800",children:"Approved"});case"pending":return s.jsx(Pe,{className:"bg-amber-100 text-amber-800",children:"Pending"});case"rejected":return s.jsx(Pe,{className:"bg-red-100 text-red-800",children:"Disapproved"});default:return s.jsx(Pe,{variant:"secondary",children:"Unknown"})}},l=x=>x.split(".")[0].substring(0,2).toUpperCase(),o=()=>{const x=["from-blue-500 to-purple-600","from-green-500 to-teal-600","from-purple-500 to-pink-600","from-indigo-500 to-blue-600","from-emerald-500 to-teal-600","from-rose-500 to-pink-600"],y=e.domain.length%x.length;return x[y]},c=Ee({mutationFn:async()=>await ve(`/api/sites/${e.id}`,{method:"DELETE"}),onSuccess:()=>{var v;a.invalidateQueries({queryKey:["/api/sites/user"]}),a.invalidateQueries({queryKey:["/api/listings/user"]}),a.invalidateQueries({queryKey:["/api/sites/directory"]});const x=a.getQueryData(["/api/auth/me"]),y=((v=x==null?void 0:x.user)==null?void 0:v.id)||(x==null?void 0:x.id);y&&a.invalidateQueries({queryKey:[`/api/users/${y}/stats`]}),n({title:"Site deleted",description:"Your site has been removed successfully."})},onError:()=>{n({title:"Delete failed",description:"Unable to delete site. Please try again.",variant:"destructive"})}}),d=()=>{window.confirm(`Are you sure you want to delete ${e.domain}? This action cannot be undone.`)&&c.mutate()};return s.jsx(J,{className:"border border-gray-200 hover:shadow-md transition-shadow h-full flex flex-col",children:s.jsxs(te,{className:"p-6 flex-1 flex flex-col",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[s.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${o()} rounded-lg flex items-center justify-center flex-shrink-0`,children:s.jsx("span",{className:"text-white font-bold",children:l(e.domain)})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:e.domain}),s.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.title})]})]}),s.jsx("div",{className:"flex-shrink-0 ml-2",children:i(e.status)})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:e.domainAuthority}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Domain Authority"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:e.drScore}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"DR Score"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:((u=e.monthlyTraffic)==null?void 0:u.toLocaleString())||0}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Monthly Traffic"})]})]}),s.jsxs("div",{className:"mb-4 flex-1",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Purpose:"}),s.jsx(Pe,{variant:e.purpose==="exchange"?"secondary":"default",className:e.purpose==="exchange"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:e.purpose==="exchange"?"🔄 Exchange":"💰 Sales"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Link Type:"}),s.jsx("div",{className:`inline-flex px-2 py-1 rounded text-xs font-medium text-white ${e.linkType==="dofollow"?"bg-green-500":"bg-blue-500"}`,children:e.linkType==="dofollow"?"Do Follow":"No Follow"})]})]})}),e.purpose==="sales"&&e.price&&s.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Price"}),s.jsx("p",{className:"text-lg font-bold text-green-900 dark:text-green-100",children:wt(e.price)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Delivery Time"}),s.jsx("p",{className:"text-lg font-bold text-green-900 dark:text-green-100",children:e.deliveryTime?`${e.deliveryTime} days`:"Not specified"})]})]})}),e.casinoAllowed&&e.casinoAllowed!=="N/A"&&s.jsx("div",{className:"mt-3",children:s.jsxs("div",{className:`inline-flex px-2 py-1 rounded text-xs font-medium ${e.casinoAllowed==="yes"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:["Casino: ",e.casinoAllowed==="yes"?"Allowed":"Not Allowed"]})})]}),e.status==="rejected"&&e.rejectionReason&&s.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(gp,{className:"h-4 w-4 text-red-600 dark:text-red-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Rejection Reason"}),s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:e.rejectionReason})]})]})}),s.jsx("div",{className:"mt-auto pt-4",children:s.jsxs("div",{className:"flex gap-2",children:[e.status==="approved"&&s.jsxs(s.Fragment,{children:[s.jsxs(ot,{open:t,onOpenChange:r,children:[s.jsx(us,{asChild:!0,children:s.jsxs(E,{variant:"outline",className:"flex-1 text-blue-600 border-blue-200 hover:bg-blue-50",children:[s.jsx(sm,{className:"h-4 w-4 mr-2"}),"Edit"]})}),s.jsxs(ct,{className:"max-w-2xl mx-4",children:[s.jsxs(dt,{children:[s.jsx(ut,{children:"Edit Site Description"}),s.jsx(Ls,{children:"Update your site's description and settings to attract more potential partners."})]}),s.jsx(BM,{site:e,onSuccess:()=>r(!1)})]})]}),s.jsxs(E,{variant:"outline",className:"flex-1 text-red-600 border-red-200 hover:bg-red-50",onClick:d,disabled:c.isPending,children:[s.jsx(rn,{className:"h-4 w-4 mr-2"}),c.isPending?"Deleting...":"Delete"]})]}),e.status==="pending"&&s.jsxs(ot,{children:[s.jsx(us,{asChild:!0,children:s.jsxs(E,{variant:"outline",className:"w-full text-blue-600 border-blue-200 hover:bg-blue-50",children:[s.jsx(sr,{className:"h-4 w-4 mr-2"}),"View Details"]})}),s.jsxs(ct,{className:"max-w-2xl mx-4",children:[s.jsxs(dt,{children:[s.jsx(ut,{children:e.title}),s.jsx(Ls,{children:"Site submission details and current status"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Domain:"})," ",e.domain]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Description:"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Category:"})," ",e.category]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Purpose:"})," ",e.purpose==="sales"?"Guest Post":"Exchange"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Link Type:"})," ",e.linkType==="dofollow"?"Do Follow":"No Follow"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Status:"}),s.jsx(Pe,{className:"ml-2 bg-amber-100 text-amber-800",children:e.status})]}),e.purpose==="sales"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Price:"})," ",wt(e.price?e.price:0)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Delivery Time:"})," ",e.deliveryTime||"N/A"," days"]})]}),e.casinoAllowed&&e.casinoAllowed!=="N/A"&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Casino:"}),s.jsx(Pe,{className:`ml-2 ${e.casinoAllowed==="yes"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.casinoAllowed==="yes"?"Allowed":"Not Allowed"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Domain Authority:"})," ",e.domainAuthority]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"DR Score:"})," ",e.drScore]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Monthly Traffic:"})," ",((h=e.monthlyTraffic)==null?void 0:h.toLocaleString())||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Language:"})," ",e.language]})]}),s.jsxs("div",{className:"text-xs text-gray-400",children:["Submitted: ",new Date(e.createdAt).toLocaleDateString()]})]})]})]}),e.status==="rejected"&&s.jsx("div",{className:"w-full text-center py-2 text-sm text-gray-500",children:"Contact support for resubmission"})]})})]})})}function Ph({sites:e,loading:t,emptyState:r}){const[n,a]=m.useState(1),i=6,l=Math.ceil(e.length/i),o=(n-1)*i,c=o+i,d=e.slice(o,c);n>l&&l>0&&a(1);const u=h=>{a(h)};return t?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[...Array(6)].map((h,x)=>s.jsx("div",{className:"h-64 bg-white rounded-xl border border-gray-200 animate-pulse"},x))}):e.length===0?s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:r.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),r.action]}):s.jsxs("div",{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 auto-rows-fr",children:d.map(h=>s.jsx(qM,{site:h},h.id))}),l>1&&s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mt-6 pt-4 border-t gap-4 sm:gap-0",children:[s.jsxs("div",{className:"text-sm text-gray-600 text-center sm:text-left",children:[s.jsxs("span",{className:"block sm:inline",children:["Showing ",Math.min(o+1,e.length),"-",Math.min(c,e.length)," of ",e.length," sites"]}),s.jsxs("span",{className:"text-gray-400 block sm:inline sm:ml-2",children:["(",i," per page)"]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>u(n-1),disabled:n===1,children:[s.jsx(em,{className:"h-4 w-4"}),"Previous"]}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:l},(h,x)=>x+1).map(h=>s.jsx(E,{variant:n===h?"default":"outline",size:"sm",onClick:()=>u(h),className:"min-w-[40px]",children:h},h))}),s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>u(n+1),disabled:n===l,children:["Next",s.jsx(tm,{className:"h-4 w-4"})]})]})]})]})}function Qv(){const[e,t]=m.useState(0),[r,n]=m.useState(!0),{appTimezone:a}=Bc(),{data:i=[]}=ae({queryKey:["/api/global-notifications"],refetchInterval:3e4}),l=i.filter(c=>{if(!c.isActive)return!1;if(c.durationDays){const d=new Date(c.createdAt),u=new Date,h=new Date(d.getTime()+c.durationDays*24*60*60*1e3),x=new Date(u.toLocaleString("en-US",{timeZone:a})),y=new Date(h.toLocaleString("en-US",{timeZone:a}));if(x>y)return!1}return!0}),o=l[e];return m.useEffect(()=>{if(l.length<=1)return;let c;return(()=>{var h;const u=(((h=l[e])==null?void 0:h.flashTime)||8)*1e3;c=setTimeout(()=>{n(!1),setTimeout(()=>{t(x=>(x+1)%l.length),n(!0)},300)},u)})(),()=>{c&&clearTimeout(c)}},[l.length,l,e]),m.useEffect(()=>{t(0),n(!0)},[l.length]),l.length===0||!o?null:s.jsx("div",{className:"bg-blue-50 border-b border-blue-200 py-2 px-4",children:s.jsxs("div",{className:"flex items-center min-h-[32px]",children:[s.jsx("span",{className:"text-lg mr-3 flex-shrink-0",children:"📢"}),s.jsx("span",{className:`text-sm text-blue-800 font-medium transition-opacity duration-300 ease-in-out ${r?"opacity-100":"opacity-0"}`,dangerouslySetInnerHTML:{__html:o.message}},o.id)]})})}function qr(){const{user:e,isLoading:t,logout:r}=ds(),[n]=on(),a=n.split("/").filter(Boolean);let i="dashboard";a[0]==="dashboard"&&a[1]?i=a[1]:a[0]&&a[0]!=="dashboard"&&(i=a[0]);const{data:l}=ae({queryKey:["/api/settings/public"]});$r(i==="dashboard"?"dashboard":i==="sites"?"dashboard-sites":i==="wallet"?"dashboard-wallet":i==="orders"?"dashboard-orders":i==="messages"?"messages":i==="referral"?"referral":i==="profile"?"profile":i==="support"?"support":"dashboard");const[c,d]=m.useState(!1),[u,h]=m.useState(null),[x,y]=m.useState(null);m.useState(!1);const[v,g]=m.useState("approved"),[w,p]=m.useState("marketplace"),[f,j]=m.useState({search:"",category:"all",domainAuthority:"any",traffic:"any"}),[b,k]=m.useState("bestSales"),[S,C]=m.useState("guest_posts"),[P,N]=m.useState("pending"),[O,D]=m.useState("ongoing");m.useState("guest_posts"),m.useState("all"),m.useState(new Set);const[M,H]=m.useState("pending"),[B,Q]=m.useState(1),se=5,{data:A,isLoading:F}=ae({queryKey:["/api/referrals",e==null?void 0:e.id,"stats"],enabled:!!(e!=null&&e.id)}),{data:U,isLoading:Z}=ae({queryKey:["/api/referrals",e==null?void 0:e.id,"history",M,B,se],enabled:!!(e!=null&&e.id)}),q=(U==null?void 0:U.referrals)||[],K=U==null?void 0:U.pagination,{data:I=[],isLoading:z}=ae({queryKey:["/api/sites/user",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:ee=[],isLoading:ge}=ae({queryKey:["/api/sites/directory"]}),{data:Y=[],isLoading:pe}=ae({queryKey:["/api/exchanges/user",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:Le=[]}=ae({queryKey:["/api/notifications/user",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)});m.useEffect(()=>{i==="orders"&&(e!=null&&e.id)&&ve("/api/orders/mark-section-viewed",{method:"POST"}).then(()=>{Zt.invalidateQueries({queryKey:["/api/messages/unread-count",e.id]})}).catch(Ve=>{console.error("Failed to mark orders section as viewed:",Ve),Zt.invalidateQueries({queryKey:["/api/messages/unread-count",e.id]})})},[i,e==null?void 0:e.id]);const Fe=Ee({mutationFn:async()=>{const Ve=Le.filter(Ke=>!Ke.isRead&&(Ke.section==="guest_post"||Ke.type&&(Ke.type.includes("order")||Ke.type.includes("exchange"))));for(const Ke of Ve)await ve(`/api/notifications/${Ke.id}`,{method:"PUT",body:{isRead:!0}})},onSuccess:()=>{Zt.invalidateQueries({queryKey:["/api/notifications/user",e==null?void 0:e.id]})}});ae({queryKey:["/api/listings/user",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)});const{data:ye=[],isLoading:ke}=ae({queryKey:["/api/orders/user",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)}),{data:L}=ae({queryKey:["/api/wallet"],enabled:!!(e!=null&&e.id)}),{data:ce}=ae({queryKey:[`/api/users/${e==null?void 0:e.id}/stats`],enabled:!!(e!=null&&e.id)}),{data:G=[]}=ae({queryKey:["/api/transactions",e==null?void 0:e.id],enabled:!!(e!=null&&e.id)});if(m.useEffect(()=>{i==="orders"&&Le.length>0&&Le.some(Ke=>!Ke.isRead&&(Ke.section==="guest_post"||Ke.type&&(Ke.type.includes("order")||Ke.type.includes("exchange"))))&&Fe.mutate()},[i,Le]),m.useEffect(()=>{!t&&(e==null?void 0:e.role)==="admin"&&r()},[e==null?void 0:e.role,t,r]),t)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."});if((e==null?void 0:e.role)==="admin")return null;const Oe=()=>{switch(i){case"dashboard":return s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsx(Qv,{})}),s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Dashboard"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Welcome back! Here's what's happening with your domains."})]}),s.jsx(K3,{sites:I,exchanges:Y,userStats:ce,totalSales:(ce==null?void 0:ce.totalSales)||0}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 mt-6 sm:mt-8",children:[s.jsx(Q3,{exchanges:Y,orders:ye}),s.jsx(G3,{sites:ee,orders:ye})]})]});case"sites":const Ve=I.filter(ie=>v==="approved"?ie.status==="approved":v==="pending"?ie.status==="pending":v==="rejected"?ie.status==="rejected":!1),Ke=I.filter(ie=>ie.status==="approved").length,_=I.filter(ie=>ie.status==="pending").length,Qe=I.filter(ie=>ie.status==="rejected").length;return s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 sm:mb-8 space-y-4 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"My Sites"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your domain portfolio and submission status."})]}),s.jsxs(ot,{open:c,onOpenChange:d,children:[s.jsx(us,{asChild:!0,children:s.jsxs(E,{className:"w-full sm:w-auto",children:[s.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add New Site"]})}),s.jsxs(ct,{className:"max-w-2xl mx-4",children:[s.jsx(dt,{children:s.jsx(ut,{children:"Add New Site"})}),s.jsx(Z3,{onSuccess:()=>d(!1)})]})]})]}),s.jsxs(Lr,{value:v,onValueChange:ie=>g(ie),className:"mb-6",children:[s.jsxs(vr,{className:"grid w-full grid-cols-3 h-auto",children:[s.jsxs(ze,{value:"approved",className:"text-xs sm:text-sm px-2 py-2 sm:px-3 sm:py-1.5",children:[s.jsx("span",{className:"hidden sm:inline",children:"Approved"}),s.jsx("span",{className:"sm:hidden",children:"App."}),s.jsxs("span",{className:"ml-1",children:["(",Ke,")"]})]}),s.jsxs(ze,{value:"pending",className:"text-xs sm:text-sm px-2 py-2 sm:px-3 sm:py-1.5",children:[s.jsx("span",{className:"hidden sm:inline",children:"Pending"}),s.jsx("span",{className:"sm:hidden",children:"Pend."}),s.jsxs("span",{className:"ml-1",children:["(",_,")"]})]}),s.jsxs(ze,{value:"rejected",className:"text-xs sm:text-sm px-2 py-2 sm:px-3 sm:py-1.5",children:[s.jsx("span",{className:"hidden sm:inline",children:"Disapproved"}),s.jsx("span",{className:"sm:hidden",children:"Disapp."}),s.jsxs("span",{className:"ml-1",children:["(",Qe,")"]})]})]}),s.jsx(Ye,{value:"approved",children:s.jsx(Ph,{sites:Ve,loading:z,emptyState:{title:"No approved sites yet",description:"Your sites will appear here once they are approved by our team.",action:s.jsxs(E,{onClick:()=>d(!0),className:"w-full sm:w-auto",children:[s.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Your First Site"]})}})}),s.jsx(Ye,{value:"pending",children:s.jsx(Ph,{sites:Ve,loading:z,emptyState:{title:"No pending sites",description:"All your sites have been reviewed and approved.",action:null}})}),s.jsx(Ye,{value:"rejected",children:s.jsx(Ph,{sites:Ve,loading:z,emptyState:{title:"No disapproved sites",description:"None of your sites have been disapproved.",action:null}})})]})]});case"directory":return s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsx(Qv,{})}),s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Global Directory"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"🔍 Discover and connect with high-quality domains for potential collaboration."})]}),s.jsx(hM,{mode:w,onModeChange:p,filters:f,onFiltersChange:j,onSortChange:k}),ge?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mt-6 sm:mt-8",children:[...Array(9)].map((ie,T)=>s.jsx("div",{className:"h-64 bg-white rounded-xl border border-gray-200 animate-pulse"},T))}):s.jsx(xM,{sites:ee,userSites:I,mode:w,filters:f,sortType:b})]});case"exchanges":return s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Exchange Management"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Track and manage your ongoing domain exchanges."})]}),s.jsx(gM,{}),pe?s.jsx("div",{className:"space-y-6 mt-8",children:[...Array(3)].map((ie,T)=>s.jsx("div",{className:"h-48 bg-white rounded-xl border border-gray-200 animate-pulse"},T))}):s.jsxs("div",{className:"space-y-6 mt-8",children:[Y.map(ie=>s.jsx(Kv,{exchange:ie,currentUserId:(e==null?void 0:e.id)||"",onOpenChat:h},ie.id)),Y.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No exchanges yet"}),s.jsx("p",{className:"text-gray-600",children:"Start exploring the directory to find potential exchange partners."})]})]})]});case"wallet":return s.jsx(UM,{wallet:L,transactions:G});case"orders":return s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Orders & Requests"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your collaboration requests and guest post orders."}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-1 sm:space-y-0 sm:space-x-1 mt-4 bg-gray-100 p-1 rounded-lg w-full sm:w-fit",children:[s.jsxs("button",{onClick:()=>C("guest_posts"),className:`flex items-center justify-center sm:justify-start gap-2 px-3 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors w-full sm:w-auto ${S==="guest_posts"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx("span",{className:"hidden sm:inline",children:"Guest Post"}),s.jsx("span",{className:"sm:hidden",children:"Guest"}),(()=>{const ie=ye.filter(T=>T.status==="on_going").length;return ie>0?s.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-red-500 rounded-full",children:ie}):null})()]}),s.jsxs("button",{onClick:()=>C("exchanges"),className:`flex items-center justify-center sm:justify-start gap-2 px-3 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors w-full sm:w-auto ${S==="exchanges"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx("span",{className:"hidden sm:inline",children:"Exchange"}),s.jsx("span",{className:"sm:hidden",children:"Exch."}),(()=>{const ie=Y.filter(T=>T.status==="pending"||T.status==="active"||T.status==="delivered").length;return ie>0?s.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-blue-500 rounded-full",children:ie}):null})()]})]})]}),S==="guest_posts"?s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-wrap gap-1 mt-4 bg-gray-50 p-1 rounded-lg w-full overflow-x-auto mb-6",children:[s.jsxs("button",{onClick:()=>D("ongoing"),className:`flex items-center gap-2 px-3 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors flex-shrink-0 ${O==="ongoing"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx("span",{className:"hidden sm:inline",children:"On Going"}),s.jsx("span",{className:"sm:hidden",children:"Ongoing"}),(()=>{const ie=ye.filter(T=>T.status==="accepted"||T.status==="in_progress"||T.status==="on_going").length;return ie>0?s.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-blue-500 rounded-full",children:ie}):null})()]}),s.jsxs("button",{onClick:()=>D("completed"),className:`flex items-center gap-2 px-3 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors flex-shrink-0 ${O==="completed"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx("span",{className:"hidden sm:inline",children:"Completed"}),s.jsx("span",{className:"sm:hidden",children:"Done"}),(()=>{const ie=ye.filter(T=>T.status==="completed").length;return ie>0?s.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-green-500 rounded-full",children:ie}):null})()]}),s.jsxs("button",{onClick:()=>D("declined"),className:`flex items-center gap-2 px-3 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors flex-shrink-0 ${O==="declined"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx("span",{className:"hidden sm:inline",children:"Declined"}),s.jsx("span",{className:"sm:hidden",children:"Dec."}),(()=>{const ie=ye.filter(T=>T.status==="cancelled"||T.status==="refunded").length;return ie>0?s.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-red-500 rounded-full",children:ie}):null})()]})]}),ke?s.jsx("div",{className:"space-y-6",children:[...Array(3)].map((ie,T)=>s.jsx("div",{className:"h-48 bg-white rounded-xl border border-gray-200 animate-pulse"},T))}):(()=>{const ie=ye.filter(T=>{switch(O){case"ongoing":return T.status==="accepted"||T.status==="in_progress"||T.status==="on_going";case"completed":return T.status==="completed";case"declined":return T.status==="cancelled"||T.status==="refunded";default:return!0}});return ie.length===0?s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["No"," ",O==="ongoing"?"ongoing":O," ","orders"]}),s.jsxs("p",{className:"text-gray-600",children:[O==="ongoing"&&"Active guest post orders in progress will appear here.",O==="completed"&&"Successfully completed guest post orders will appear here.",O==="declined"&&"Declined or cancelled guest post orders will appear here."]})]}):s.jsx("div",{className:"space-y-6",children:ie.map(T=>s.jsx(AM,{order:T,currentUserId:(e==null?void 0:e.id)||"",onOpenChat:y},T.id))})})()]}):null,x&&S==="guest_posts"&&s.jsx(ot,{open:!!x,onOpenChange:()=>y(null),children:s.jsxs(ct,{className:"max-w-4xl max-h-[80vh] flex flex-col",children:[s.jsx(dt,{children:s.jsxs(ut,{children:["Order Chat - Sales #",x.slice(0,6)]})}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx(_M,{orderId:x,currentUserId:(e==null?void 0:e.id)||""})})]})}),S==="exchanges"?s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-wrap gap-1 mt-4 bg-gray-50 p-1 rounded-lg w-full overflow-x-auto mb-6",children:[s.jsxs("button",{onClick:()=>N("pending"),className:`flex items-center gap-2 px-3 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors flex-shrink-0 ${P==="pending"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx("span",{className:"hidden sm:inline",children:"Pending"}),s.jsx("span",{className:"sm:hidden",children:"Pend."}),(()=>{const ie=Y.filter(T=>T.status==="pending").length;return ie>0?s.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-red-500 rounded-full",children:ie}):null})()]}),s.jsxs("button",{onClick:()=>N("ongoing"),className:`flex items-center gap-2 px-3 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors flex-shrink-0 ${P==="ongoing"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx("span",{className:"hidden sm:inline",children:"On Going"}),s.jsx("span",{className:"sm:hidden",children:"Ongoing"}),(()=>{const ie=Y.filter(T=>T.status==="active").length;return ie>0?s.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-blue-500 rounded-full",children:ie}):null})()]}),s.jsxs("button",{onClick:()=>N("completed"),className:`flex items-center gap-2 px-3 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors flex-shrink-0 ${P==="completed"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx("span",{className:"hidden sm:inline",children:"Completed"}),s.jsx("span",{className:"sm:hidden",children:"Done"}),(()=>{const ie=Y.filter(T=>T.status==="completed").length;return ie>0?s.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-green-500 rounded-full",children:ie}):null})()]}),s.jsxs("button",{onClick:()=>N("rejected"),className:`flex items-center gap-2 px-3 py-2 rounded-md text-xs sm:text-sm font-medium transition-colors flex-shrink-0 ${P==="rejected"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx("span",{className:"hidden sm:inline",children:"Rejected"}),s.jsx("span",{className:"sm:hidden",children:"Rej."}),(()=>{const ie=Y.filter(T=>T.status==="cancelled").length;return ie>0?s.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-red-500 rounded-full",children:ie}):null})()]})]}),pe?s.jsx("div",{className:"space-y-6",children:[...Array(3)].map((ie,T)=>s.jsx("div",{className:"h-48 bg-white rounded-xl border border-gray-200 animate-pulse"},T))}):(()=>{const ie=Y.filter(T=>{switch(P){case"pending":return T.status==="pending";case"ongoing":return T.status==="active";case"completed":return T.status==="completed";case"rejected":return T.status==="cancelled";default:return!0}});return ie.length===0?s.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["No"," ",P==="ongoing"?"ongoing":P," ","collaborations"]}),s.jsxs("p",{className:"text-gray-600",children:[P==="pending"&&"Requests you’ve sent or received will be shown here.",P==="ongoing"&&"Active collaborations in progress will appear here.",P==="completed"&&"Completed link collaborations will appear here.",P==="rejected"&&"Declined partnerships will be listed here."]})]}):s.jsx("div",{className:"space-y-6",children:ie.map(T=>s.jsx(Kv,{exchange:T,currentUserId:(e==null?void 0:e.id)||"",onOpenChat:h},T.id))})})()]}):null,u&&s.jsx(ot,{open:!!u,onOpenChange:()=>h(null),children:s.jsxs(ct,{className:"max-w-4xl max-h-[80vh] flex flex-col",children:[s.jsx(dt,{children:s.jsx(ut,{children:"Exchange Chat"})}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx(yM,{exchangeId:u,currentUserId:(e==null?void 0:e.id)||""})})]})})]});case"profile":return s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Profile Settings"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your account information and preferences."})]}),s.jsxs("div",{className:"flex flex-col lg:grid lg:grid-cols-3 gap-6 lg:gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6 lg:space-y-8 order-2 lg:order-1",children:[s.jsx(jM,{user:e}),s.jsx(bM,{})]}),s.jsx("div",{className:"order-1 lg:order-2",children:s.jsx(EM,{user:e})})]})]});case"support":return s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Support Center"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Get help with your account, report issues, or ask questions."})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(H3,{})})]});case"referral":return s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Refer & Earn"}),s.jsx("p",{className:"text-gray-600",children:"Earn rewards by referring new users to our platform"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm border-l-4 border-l-green-500",children:s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center",children:[s.jsx("span",{className:"mr-2",children:"💰"})," Total Earned"]})}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:F?s.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-20 rounded"}):`$${((A==null?void 0:A.totalEarnings)||0).toFixed(2)} USDT`}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"From referrals"})]})}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm border-l-4 border-l-blue-500",children:s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center",children:[s.jsx("span",{className:"mr-2",children:"👥"})," Total Referrals"]})}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:F?s.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-12 rounded"}):(A==null?void 0:A.referredUserCount)||0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Users referred"})]})}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm border-l-4 border-l-purple-500",children:s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs("span",{className:"text-sm font-medium text-gray-600 flex items-center",children:[s.jsx("span",{className:"mr-2",children:"📈"})," Conversion Rate"]})}),s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[F?s.jsx("div",{className:"animate-pulse bg-gray-200 h-8 w-12 rounded"}):q.length>0?Math.round(q.filter(ie=>ie.status==="paid").length/q.length*100):0,"%"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Success rate"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("span",{className:"mr-2",children:"🔗"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Your Referral Link"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Share this link with friends to start earning"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Referral Link"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"text",value:e?`${window.location.origin}/signup?ref=${e.username}`:"",readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-sm"}),s.jsx("button",{onClick:()=>{e&&navigator.clipboard.writeText(`${window.location.origin}/signup?ref=${e.username}`)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:"Copy"})]})]})})]})}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("span",{className:"mr-2",children:"🎁"}),s.jsx("h3",{className:"text-lg font-semibold",children:"How It Works"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Share your link"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Send your referral link to friends and colleagues"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"They sign up"}),s.jsx("p",{className:"text-sm text-gray-600",children:"New users register using your referral link"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-6 h-6 bg-purple-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:"3"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["You earn $",(l==null?void 0:l.referralCommission)||3," USDT"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Receive commission when they make their first order"})]})]}),s.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mt-4",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Note:"})," You earn commission only on the first order made by each referred user. The reward is automatically added to your wallet balance."]})})]})]})})]}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm mt-8",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("span",{className:"mr-2",children:"⏰"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Referral History"})]}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Track your referral earnings and status"}),s.jsxs("div",{className:"flex space-x-1 mb-6 bg-gray-100 p-1 rounded-lg w-fit",children:[s.jsxs("button",{onClick:()=>{H("pending"),Q(1)},className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${M==="pending"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Pending",(A==null?void 0:A.pendingCount)>0&&s.jsx("span",{className:"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-yellow-500 rounded-full",children:A.pendingCount})]}),s.jsxs("button",{onClick:()=>{H("paid"),Q(1)},className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${M==="paid"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Paid",(A==null?void 0:A.paidCount)>0&&s.jsx("span",{className:"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs font-medium text-white bg-green-500 rounded-full",children:A.paidCount})]})]}),Z?s.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(ie=>s.jsxs("div",{className:"animate-pulse flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),s.jsxs("div",{children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-32"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-12"})]})]},ie))}):q.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-4",children:q.map(ie=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${ie.status==="paid"?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-yellow-500 to-orange-600"}`,children:s.jsx("span",{className:"text-white text-sm",children:ie.status==="paid"?"✅":"⏳"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:ie.referredUsername||"Referred User"}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(ie.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium text-green-600",children:["$",(ie.referralAmount||3).toFixed(2)," USDT"]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${ie.status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:ie.status==="paid"?"Paid":"Pending"})]})})]},ie.id))}),K&&K.totalPages>1&&s.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",(B-1)*se+1," to ",Math.min(B*se,K.total)," of ",K.total," results"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>Q(B-1),disabled:B===1,className:"px-3 py-1 text-sm border rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),s.jsx("div",{className:"flex space-x-1",children:Array.from({length:Math.min(5,K.totalPages)},(ie,T)=>{const $=T+1;return s.jsx("button",{onClick:()=>Q($),className:`px-3 py-1 text-sm border rounded-md ${B===$?"bg-blue-600 text-white border-blue-600":"hover:bg-gray-50"}`,children:$},$)})}),s.jsx("button",{onClick:()=>Q(B+1),disabled:B===K.totalPages,className:"px-3 py-1 text-sm border rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("span",{className:"text-4xl mb-4 block",children:M==="pending"?"⏳":"💰"}),s.jsxs("p",{className:"text-gray-500 mb-2",children:["No ",M," referrals yet"]}),s.jsx("p",{className:"text-sm text-gray-400",children:M==="pending"?"Pending referrals will appear here when users sign up with your link":"Paid commissions will appear here when referred users make their first order"})]})]})})]});default:return s.jsx("div",{className:"p-6",children:s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Page Not Found"})})}};return s.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[s.jsx(c3,{notifications:Le}),s.jsxs("div",{className:"flex flex-1",children:[s.jsx(u3,{currentSection:i,exchanges:Y,sites:I,orders:ye,notifications:Le}),s.jsx("main",{className:"flex-1 overflow-y-auto min-w-0",children:s.jsx("div",{className:"h-full w-full max-w-full",children:Oe()})})]}),s.jsx(Ln,{})]})}function VM(){const[e,t]=m.useState({firstName:"",lastName:"",email:"",password:""}),[r,n]=m.useState(!1),{toast:a}=at(),i=Nt(),l=Ee({mutationFn:async u=>await ve("/api/admin/users/create-employee",{method:"POST",body:u}),onSuccess:u=>{a({title:"Employee Created Successfully",description:`${u.firstName} ${u.lastName} has been created with employee role.`}),t({firstName:"",lastName:"",email:"",password:""}),i.invalidateQueries({queryKey:["/api/admin/users"]})},onError:u=>{a({title:"Failed to Create Employee",description:u.message||"An error occurred while creating the employee account.",variant:"destructive"})}}),o=(u,h)=>{t(x=>({...x,[u]:h}))},c=u=>{if(u.preventDefault(),!e.firstName.trim()||!e.lastName.trim()||!e.email.trim()||!e.password.trim()){a({title:"Validation Error",description:"All fields are required.",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)){a({title:"Invalid Email",description:"Please enter a valid email address.",variant:"destructive"});return}if(e.password.length<6){a({title:"Weak Password",description:"Password must be at least 6 characters long.",variant:"destructive"});return}l.mutate(e)},d=()=>{const u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let h="";for(let x=0;x<12;x++)h+=u.charAt(Math.floor(Math.random()*u.length));t(x=>({...x,password:h}))};return s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsxs(xe,{className:"flex items-center space-x-2",children:[s.jsx(Eb,{className:"h-5 w-5"}),s.jsx("span",{children:"Create Employee Account"})]}),s.jsx(lt,{children:"Create a new employee account with limited admin access to Support, Finances, and Guest Posts domains."})]}),s.jsx(te,{children:s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"firstName",children:"First Name"}),s.jsx(re,{id:"firstName",type:"text",value:e.firstName,onChange:u=>o("firstName",u.target.value),placeholder:"Enter first name",disabled:l.isPending})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"lastName",children:"Last Name"}),s.jsx(re,{id:"lastName",type:"text",value:e.lastName,onChange:u=>o("lastName",u.target.value),placeholder:"Enter last name",disabled:l.isPending})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"email",children:"Email Address"}),s.jsx(re,{id:"email",type:"email",value:e.email,onChange:u=>o("email",u.target.value),placeholder:"employee@example.com",disabled:l.isPending})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(re,{id:"password",type:r?"text":"password",value:e.password,onChange:u=>o("password",u.target.value),placeholder:"Enter password (min 6 characters)",disabled:l.isPending,className:"pr-20"}),s.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex space-x-1",children:s.jsx(E,{type:"button",variant:"ghost",size:"sm",onClick:()=>n(!r),className:"h-8 w-8 p-0",children:r?s.jsx(kb,{className:"h-4 w-4"}):s.jsx(sr,{className:"h-4 w-4"})})})]}),s.jsx(E,{type:"button",variant:"outline",size:"sm",onClick:d,disabled:l.isPending,className:"mt-2",children:"Generate Random Password"})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Employee Access Level"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Support:"})," Full access to support chat and tickets"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Finances:"})," Limited to deposit and withdrawal requests only"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"Domains:"})," Access to guest posts & placements only"]}),s.jsxs("li",{children:["• ",s.jsx("strong",{children:"No access to:"})," User management, full finances, or admin settings"]})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx(E,{type:"submit",disabled:l.isPending,className:"flex-1",children:l.isPending?"Creating...":"Create Employee Account"}),s.jsx(E,{type:"button",variant:"outline",onClick:()=>t({firstName:"",lastName:"",email:"",password:""}),disabled:l.isPending,children:"Reset Form"})]})]})})]})}const lr=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Se("w-full caption-bottom text-sm",e),...t})}));lr.displayName="Table";const or=m.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:Se("[&_tr]:border-b",e),...t}));or.displayName="TableHeader";const cr=m.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:Se("[&_tr:last-child]:border-0",e),...t}));cr.displayName="TableBody";const WM=m.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:Se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));WM.displayName="TableFooter";const At=m.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:Se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));At.displayName="TableRow";const be=m.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:Se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));be.displayName="TableHead";const je=m.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:Se("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));je.displayName="TableCell";const HM=m.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:Se("mt-4 text-sm text-muted-foreground",e),...t}));HM.displayName="TableCaption";var p2="AlertDialog",[KM,JF]=ar(p2,[d1]),$n=d1(),g2=e=>{const{__scopeAlertDialog:t,...r}=e,n=$n(t);return s.jsx(Yp,{...n,...r,modal:!0})};g2.displayName=p2;var QM="AlertDialogTrigger",y2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=$n(r);return s.jsx(Zp,{...a,...n,ref:t})});y2.displayName=QM;var GM="AlertDialogPortal",v2=e=>{const{__scopeAlertDialog:t,...r}=e,n=$n(t);return s.jsx(Xp,{...n,...r})};v2.displayName=GM;var YM="AlertDialogOverlay",j2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=$n(r);return s.jsx(Fc,{...a,...n,ref:t})});j2.displayName=YM;var ol="AlertDialogContent",[ZM,XM]=KM(ol),JM=Zw("AlertDialogContent"),w2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=$n(r),l=m.useRef(null),o=Je(t,l),c=m.useRef(null);return s.jsx(a6,{contentName:ol,titleName:b2,docsSlug:"alert-dialog",children:s.jsx(ZM,{scope:r,cancelRef:c,children:s.jsxs(Oc,{role:"alertdialog",...i,...a,ref:o,onOpenAutoFocus:_e(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(JM,{children:n}),s.jsx(tF,{contentRef:l})]})})})});w2.displayName=ol;var b2="AlertDialogTitle",N2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=$n(r);return s.jsx(Ic,{...a,...n,ref:t})});N2.displayName=b2;var S2="AlertDialogDescription",k2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=$n(r);return s.jsx(Lc,{...a,...n,ref:t})});k2.displayName=S2;var eF="AlertDialogAction",C2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=$n(r);return s.jsx(xm,{...a,...n,ref:t})});C2.displayName=eF;var T2="AlertDialogCancel",P2=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=XM(T2,r),i=$n(r),l=Je(t,a);return s.jsx(xm,{...i,...n,ref:l})});P2.displayName=T2;var tF=({contentRef:e})=>{const t=`\`${ol}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ol}\` by passing a \`${S2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ol}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},sF=g2,rF=y2,nF=v2,E2=j2,A2=w2,_2=C2,D2=P2,R2=N2,M2=k2;const cg=sF,F2=rF,aF=nF,O2=m.forwardRef(({className:e,...t},r)=>s.jsx(E2,{className:Se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));O2.displayName=E2.displayName;const Sm=m.forwardRef(({className:e,...t},r)=>s.jsxs(aF,{children:[s.jsx(O2,{}),s.jsx(A2,{ref:r,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Sm.displayName=A2.displayName;const km=({className:e,...t})=>s.jsx("div",{className:Se("flex flex-col space-y-2 text-center sm:text-left",e),...t});km.displayName="AlertDialogHeader";const Cm=({className:e,...t})=>s.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Cm.displayName="AlertDialogFooter";const Tm=m.forwardRef(({className:e,...t},r)=>s.jsx(R2,{ref:r,className:Se("text-lg font-semibold",e),...t}));Tm.displayName=R2.displayName;const Pm=m.forwardRef(({className:e,...t},r)=>s.jsx(M2,{ref:r,className:Se("text-sm text-muted-foreground",e),...t}));Pm.displayName=M2.displayName;const Em=m.forwardRef(({className:e,...t},r)=>s.jsx(_2,{ref:r,className:Se(Op(),e),...t}));Em.displayName=_2.displayName;const Am=m.forwardRef(({className:e,...t},r)=>s.jsx(D2,{ref:r,className:Se(Op({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Am.displayName=D2.displayName;const iF=Re.object({reasonText:Re.string().min(1,"Reason text is required").max(200,"Reason text too long"),description:Re.string().max(500,"Description too long").optional(),isActive:Re.boolean().default(!0)});function lF(){const{toast:e}=at(),t=Nt(),[r,n]=m.useState(null),[a,i]=m.useState(!1),{data:l=[],isLoading:o}=ae({queryKey:["/api/admin/rejection-reasons"]}),c=Ee({mutationFn:f=>ve("/api/admin/rejection-reasons",{method:"POST",body:f}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/rejection-reasons"]}),i(!1),x.reset(),e({title:"Rejection reason created successfully"})},onError:()=>{e({title:"Failed to create rejection reason",variant:"destructive"})}}),d=Ee({mutationFn:({id:f,data:j})=>ve(`/api/admin/rejection-reasons/${f}`,{method:"PATCH",body:j}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/rejection-reasons"]}),i(!1),n(null),x.reset(),e({title:"Rejection reason updated successfully"})},onError:()=>{e({title:"Failed to update rejection reason",variant:"destructive"})}}),u=Ee({mutationFn:f=>ve(`/api/admin/rejection-reasons/${f}`,{method:"DELETE"}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/rejection-reasons"]}),e({title:"Rejection reason deleted successfully"})},onError:()=>{e({title:"Failed to delete rejection reason",variant:"destructive"})}}),h=Ee({mutationFn:({id:f,isActive:j})=>ve(`/api/admin/rejection-reasons/${f}`,{method:"PATCH",body:{isActive:j}}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin/rejection-reasons"]}),e({title:"Rejection reason status updated"})},onError:()=>{e({title:"Failed to update rejection reason status",variant:"destructive"})}}),x=qs({resolver:Vs(iF),defaultValues:{reasonText:"",description:"",isActive:!0}}),y=f=>{n(f),x.reset({reasonText:f.reasonText,description:f.description||"",isActive:f.isActive}),i(!0)},v=()=>{n(null),x.reset(),i(!0)},g=f=>{r?d.mutate({id:r.id,data:f}):c.mutate(f)},w=f=>{h.mutate({id:f.id,isActive:!f.isActive})},p=f=>{u.mutate(f)};return o?s.jsx("div",{children:"Loading rejection reasons..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium",children:"Rejection Reasons"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage rejection reasons for domains, exchanges, guest posts, deposits, and withdrawals"})]}),s.jsxs(ot,{open:a,onOpenChange:i,children:[s.jsx(us,{asChild:!0,children:s.jsxs(E,{onClick:v,children:[s.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Rejection Reason"]})}),s.jsxs(ct,{className:"max-w-md",children:[s.jsxs(dt,{children:[s.jsx(ut,{children:r?"Edit Rejection Reason":"Add Rejection Reason"}),s.jsx(Ls,{children:"Create or edit rejection reasons used across the platform"})]}),s.jsx(ji,{...x,children:s.jsxs("form",{onSubmit:x.handleSubmit(g),className:"space-y-4",children:[s.jsx(ys,{control:x.control,name:"reasonText",render:({field:f})=>s.jsxs(ns,{children:[s.jsx(vs,{children:"Reason Text *"}),s.jsx(as,{children:s.jsx(re,{placeholder:"Enter rejection reason...",...f})}),s.jsx(Ps,{})]})}),s.jsx(ys,{control:x.control,name:"description",render:({field:f})=>s.jsxs(ns,{children:[s.jsx(vs,{children:"Description (Optional)"}),s.jsx(as,{children:s.jsx(Jt,{placeholder:"Additional details about this rejection reason...",rows:3,...f})}),s.jsx(Ps,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(E,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsxs(E,{type:"submit",disabled:c.isPending||d.isPending,children:[r?"Update":"Create"," Reason"]})]})]})})]})]})]}),s.jsx("div",{className:"border rounded-lg",children:s.jsxs(lr,{children:[s.jsx(or,{children:s.jsxs(At,{children:[s.jsx(be,{children:"Reason Text"}),s.jsx(be,{children:"Description"}),s.jsx(be,{children:"Status"}),s.jsx(be,{children:"Created"}),s.jsx(be,{className:"text-right",children:"Actions"})]})}),s.jsx(cr,{children:l.length===0?s.jsx(At,{children:s.jsx(je,{colSpan:5,className:"text-center py-6 text-muted-foreground",children:"No rejection reasons found. Create your first rejection reason."})}):l.map(f=>s.jsxs(At,{children:[s.jsx(je,{className:"font-medium",children:f.reasonText}),s.jsx(je,{className:"max-w-[200px] truncate",children:f.description||"-"}),s.jsx(je,{children:s.jsx(Pe,{variant:f.isActive?"default":"secondary",children:f.isActive?"Active":"Inactive"})}),s.jsx(je,{children:new Date(f.createdAt).toLocaleDateString()}),s.jsx(je,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx(E,{variant:"ghost",size:"sm",onClick:()=>w(f),title:f.isActive?"Deactivate":"Activate",children:f.isActive?s.jsx(kb,{className:"w-4 h-4"}):s.jsx(sr,{className:"w-4 h-4"})}),s.jsx(E,{variant:"ghost",size:"sm",onClick:()=>y(f),children:s.jsx(sm,{className:"w-4 h-4"})}),s.jsxs(cg,{children:[s.jsx(F2,{asChild:!0,children:s.jsx(E,{variant:"ghost",size:"sm",children:s.jsx(rn,{className:"w-4 h-4 text-red-600"})})}),s.jsxs(Sm,{children:[s.jsxs(km,{children:[s.jsx(Tm,{children:"Delete Rejection Reason"}),s.jsxs(Pm,{children:['Are you sure you want to delete "',f.reasonText,'"? This action cannot be undone.']})]}),s.jsxs(Cm,{children:[s.jsx(Am,{children:"Cancel"}),s.jsx(Em,{onClick:()=>p(f.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})})]},f.id))})]})})]})}function oF(){const[e,t]=m.useState(!1),[r,n]=m.useState(!1),[a,i]=m.useState(null),[l,o]=m.useState({message:"",isActive:!0,durationDays:30,flashTime:8}),{toast:c}=at(),d=Nt(),{appTimezone:u}=Bc(),{data:h=[],isLoading:x}=ae({queryKey:["/api/global-notifications"]}),y=Ee({mutationFn:async N=>ve("/api/admin/global-notifications",{method:"POST",body:N}),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/global-notifications"]}),t(!1),p(),c({title:"Success",description:"Global notification created successfully"})},onError:N=>{c({title:"Error",description:N.message||"Failed to create notification",variant:"destructive"})}}),v=Ee({mutationFn:async({id:N,data:O})=>ve(`/api/admin/global-notifications/${N}`,{method:"PATCH",body:O}),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/global-notifications"]}),n(!1),i(null),p(),c({title:"Success",description:"Global notification updated successfully"})},onError:N=>{c({title:"Error",description:N.message||"Failed to update notification",variant:"destructive"})}}),g=Ee({mutationFn:async N=>ve(`/api/admin/global-notifications/${N}`,{method:"DELETE"}),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/global-notifications"]}),c({title:"Success",description:"Global notification deleted successfully"})},onError:N=>{c({title:"Error",description:N.message||"Failed to delete notification",variant:"destructive"})}}),w=Ee({mutationFn:async({id:N,isActive:O})=>ve(`/api/admin/global-notifications/${N}`,{method:"PATCH",body:{isActive:O}}),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/global-notifications"]}),c({title:"Success",description:"Notification status updated successfully"})},onError:N=>{c({title:"Error",description:N.message||"Failed to update notification status",variant:"destructive"})}}),p=()=>{o({message:"",isActive:!0,durationDays:30,flashTime:8})},f=()=>{if(!l.message.trim()){c({title:"Error",description:"Message is required",variant:"destructive"});return}y.mutate(l)},j=N=>{i(N),o({message:N.message,isActive:N.isActive,durationDays:N.durationDays||30,flashTime:N.flashTime||8}),n(!0)},b=()=>{if(a){if(!l.message.trim()){c({title:"Error",description:"Message is required",variant:"destructive"});return}v.mutate({id:a.id,data:l})}},k=N=>{confirm("Are you sure you want to delete this notification?")&&g.mutate(N)},S=(N,O)=>{w.mutate({id:N,isActive:!O})},C=N=>{if(!N.durationDays)return!1;const O=new Date(N.createdAt),D=new Date,M=new Date(O.getTime()+N.durationDays*24*60*60*1e3),H=new Date(D.toLocaleString("en-US",{timeZone:u})),B=new Date(M.toLocaleString("en-US",{timeZone:u}));return H>B},P=N=>{if(!N.durationDays)return null;const O=new Date(N.createdAt),D=new Date,M=new Date(O.getTime()+N.durationDays*24*60*60*1e3),H=new Date(D.toLocaleString("en-US",{timeZone:u})),Q=new Date(M.toLocaleString("en-US",{timeZone:u})).getTime()-H.getTime(),se=Math.ceil(Q/(24*60*60*1e3));return Math.max(0,se)};return x?s.jsx("div",{className:"flex items-center justify-center p-8",children:"Loading..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Global Notifications"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage platform-wide announcements and notifications"})]}),s.jsxs(ot,{open:e,onOpenChange:t,children:[s.jsx(us,{asChild:!0,children:s.jsxs(E,{onClick:()=>p(),children:[s.jsx(yr,{className:"h-4 w-4 mr-2"}),"Create Notification"]})}),s.jsxs(ct,{className:"max-w-2xl",children:[s.jsx(dt,{children:s.jsx(ut,{children:"Create Global Notification"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"message",children:"Message"}),s.jsx(Jt,{id:"message",placeholder:"Enter announcement message...",value:l.message,onChange:N=>o({...l,message:N.target.value}),maxLength:500}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.message.length,"/500 characters"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"duration",children:"Duration (Days)"}),s.jsx(re,{id:"duration",type:"number",min:"1",max:"365",value:l.durationDays,onChange:N=>o({...l,durationDays:parseInt(N.target.value)||30})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Auto-disable after this many days"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"flashTime",children:"Flash Time (Seconds)"}),s.jsx(re,{id:"flashTime",type:"number",min:"1",max:"300",value:l.flashTime,onChange:N=>o({...l,flashTime:parseInt(N.target.value)||8})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Time between notification changes"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(er,{id:"active",checked:l.isActive,onCheckedChange:N=>o({...l,isActive:N})}),s.jsx(W,{htmlFor:"active",children:"Active"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(E,{onClick:f,disabled:y.isPending,children:y.isPending?"Creating...":"Create"})]})]})]})]})]}),s.jsx("div",{className:"space-y-4",children:h.length===0?s.jsx(J,{children:s.jsxs(te,{className:"text-center py-8",children:[s.jsx(is,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No notifications yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first global notification to communicate with all users"})]})}):h.map(N=>{const O=C(N),D=P(N);return s.jsx(J,{className:O?"border-red-200 bg-red-50/50":"",children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Pe,{variant:N.isActive&&!O?"default":"secondary",children:N.isActive&&!O?"Active":"Inactive"}),O&&s.jsxs(Pe,{variant:"destructive",children:[s.jsx(gp,{className:"h-3 w-3 mr-1"}),"Expired"]}),D!==null&&!O&&s.jsxs(Pe,{variant:"outline",children:[s.jsx(_n,{className:"h-3 w-3 mr-1"}),D," days left"]})]}),s.jsx("p",{className:"text-sm mb-3",children:N.message}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(N.createdAt).toLocaleDateString()," • Duration: ",N.durationDays||30," days"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx(E,{variant:"outline",size:"sm",onClick:()=>S(N.id,N.isActive),disabled:w.isPending,children:s.jsx(U4,{className:"h-4 w-4"})}),s.jsx(E,{variant:"outline",size:"sm",onClick:()=>j(N),children:s.jsx(Tb,{className:"h-4 w-4"})}),s.jsx(E,{variant:"outline",size:"sm",onClick:()=>k(N.id),disabled:g.isPending,children:s.jsx(rn,{className:"h-4 w-4"})})]})]})})},N.id)})}),s.jsx(ot,{open:r,onOpenChange:n,children:s.jsxs(ct,{className:"max-w-2xl",children:[s.jsx(dt,{children:s.jsx(ut,{children:"Edit Global Notification"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"edit-message",children:"Message"}),s.jsx(Jt,{id:"edit-message",placeholder:"Enter announcement message...",value:l.message,onChange:N=>o({...l,message:N.target.value}),maxLength:500}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.message.length,"/500 characters"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"edit-duration",children:"Duration (Days)"}),s.jsx(re,{id:"edit-duration",type:"number",min:"1",max:"365",value:l.durationDays,onChange:N=>o({...l,durationDays:parseInt(N.target.value)||30})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Auto-disable after this many days"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"edit-flashTime",children:"Flash Time (Seconds)"}),s.jsx(re,{id:"edit-flashTime",type:"number",min:"1",max:"300",value:l.flashTime,onChange:N=>o({...l,flashTime:parseInt(N.target.value)||8})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Time between notification changes"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(er,{id:"edit-active",checked:l.isActive,onCheckedChange:N=>o({...l,isActive:N})}),s.jsx(W,{htmlFor:"edit-active",children:"Active"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(E,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsx(E,{onClick:b,disabled:v.isPending,children:v.isPending?"Updating...":"Update"})]})]})]})})]})}const Gv=Re.object({name:Re.string().min(1,"Name is required"),url:Re.string().url("Must be a valid URL"),isActive:Re.boolean().default(!0)});function cF(){const[e,t]=m.useState(!1),[r,n]=m.useState(null),{toast:a}=at(),i=Nt(),{data:l=[],isLoading:o}=ae({queryKey:["/api/admin/social-links"]}),c=qs({resolver:Vs(Gv),defaultValues:{name:"",url:"",isActive:!0}}),d=qs({resolver:Vs(Gv),defaultValues:{name:"",url:"",isActive:!0}}),u=Ee({mutationFn:async p=>ve("/api/admin/social-links",{method:"POST",body:p}),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/admin/social-links"]}),i.invalidateQueries({queryKey:["/api/social-links"]}),a({title:"Success",description:"Social link created successfully"}),t(!1),c.reset()},onError:()=>{a({title:"Error",description:"Failed to create social link",variant:"destructive"})}}),h=Ee({mutationFn:async({id:p,data:f})=>ve(`/api/admin/social-links/${p}`,{method:"PUT",body:f}),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/admin/social-links"]}),i.invalidateQueries({queryKey:["/api/social-links"]}),a({title:"Success",description:"Social link updated successfully"}),n(null),d.reset()},onError:()=>{a({title:"Error",description:"Failed to update social link",variant:"destructive"})}}),x=Ee({mutationFn:async p=>ve(`/api/admin/social-links/${p}`,{method:"DELETE"}),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/admin/social-links"]}),i.invalidateQueries({queryKey:["/api/social-links"]}),a({title:"Success",description:"Social link deleted successfully"})},onError:()=>{a({title:"Error",description:"Failed to delete social link",variant:"destructive"})}}),y=p=>{u.mutate(p)},v=p=>{r&&h.mutate({id:r.id,data:p})},g=p=>{n(p),d.reset({name:p.name,url:p.url,isActive:p.isActive})},w=p=>{confirm("Are you sure you want to delete this social link?")&&x.mutate(p)};return o?s.jsx("div",{children:"Loading social links..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Social Links"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage social media links displayed in the footer"})]}),s.jsxs(ot,{open:e,onOpenChange:t,children:[s.jsx(us,{asChild:!0,children:s.jsxs(E,{children:[s.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Social Link"]})}),s.jsxs(ct,{children:[s.jsx(dt,{children:s.jsx(ut,{children:"Add Social Link"})}),s.jsx(ji,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(y),className:"space-y-4",children:[s.jsx(ys,{control:c.control,name:"name",render:({field:p})=>s.jsxs(ns,{children:[s.jsx(vs,{children:"Platform Name"}),s.jsx(as,{children:s.jsx(re,{placeholder:"Facebook, Twitter, LinkedIn...",...p})}),s.jsx(Ps,{})]})}),s.jsx(ys,{control:c.control,name:"url",render:({field:p})=>s.jsxs(ns,{children:[s.jsx(vs,{children:"URL"}),s.jsx(as,{children:s.jsx(re,{placeholder:"https://...",...p})}),s.jsx(Ps,{})]})}),s.jsx(ys,{control:c.control,name:"isActive",render:({field:p})=>s.jsxs(ns,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(vs,{children:"Active"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Show this social link in the footer"})]}),s.jsx(as,{children:s.jsx(er,{checked:p.value,onCheckedChange:p.onChange})})]})}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(E,{type:"submit",disabled:u.isPending,children:u.isPending?"Creating...":"Create"})]})]})})]})]})]}),s.jsx("div",{className:"grid gap-4",children:l.length===0?s.jsx(J,{children:s.jsxs(te,{className:"flex flex-col items-center justify-center py-8",children:[s.jsx("p",{className:"text-muted-foreground",children:"No social links configured yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Add social links to display them in the footer"})]})}):l.map(p=>s.jsxs(J,{children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xe,{className:"text-lg",children:p.name}),p.isActive?s.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"Active"}):s.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded-full",children:"Inactive"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(E,{variant:"outline",size:"sm",onClick:()=>window.open(p.url,"_blank"),children:s.jsx(Sb,{className:"w-4 h-4"})}),s.jsx(E,{variant:"outline",size:"sm",onClick:()=>g(p),children:s.jsx(sm,{className:"w-4 h-4"})}),s.jsx(E,{variant:"outline",size:"sm",onClick:()=>w(p.id),disabled:x.isPending,children:s.jsx(rn,{className:"w-4 h-4"})})]})]}),s.jsx(te,{children:s.jsx(lt,{className:"break-all",children:p.url})})]},p.id))}),s.jsx(ot,{open:!!r,onOpenChange:()=>n(null),children:s.jsxs(ct,{children:[s.jsx(dt,{children:s.jsx(ut,{children:"Edit Social Link"})}),s.jsx(ji,{...d,children:s.jsxs("form",{onSubmit:d.handleSubmit(v),className:"space-y-4",children:[s.jsx(ys,{control:d.control,name:"name",render:({field:p})=>s.jsxs(ns,{children:[s.jsx(vs,{children:"Platform Name"}),s.jsx(as,{children:s.jsx(re,{placeholder:"Facebook, Twitter, LinkedIn...",...p})}),s.jsx(Ps,{})]})}),s.jsx(ys,{control:d.control,name:"url",render:({field:p})=>s.jsxs(ns,{children:[s.jsx(vs,{children:"URL"}),s.jsx(as,{children:s.jsx(re,{placeholder:"https://...",...p})}),s.jsx(Ps,{})]})}),s.jsx(ys,{control:d.control,name:"isActive",render:({field:p})=>s.jsxs(ns,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(vs,{children:"Active"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Show this social link in the footer"})]}),s.jsx(as,{children:s.jsx(er,{checked:p.value,onCheckedChange:p.onChange})})]})}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(E,{type:"button",variant:"outline",onClick:()=>n(null),children:"Cancel"}),s.jsx(E,{type:"submit",disabled:h.isPending,children:h.isPending?"Updating...":"Update"})]})]})})]})})]})}function dF(){const[e,t]=m.useState("5"),[r,n]=m.useState("percentage"),[a,i]=m.useState("200"),[l,o]=m.useState("200"),[c,d]=m.useState("200"),[u,h]=m.useState(!1),[x,y]=m.useState("We are currently performing maintenance. Please check back soon."),[v,g]=m.useState("UTC"),[w,p]=m.useState("UTC"),[f,j]=m.useState(!0),[b,k]=m.useState(!0),[S,C]=m.useState(""),[P,N]=m.useState(""),[O,D]=m.useState([]),[M,H]=m.useState(null),[B,Q]=m.useState(""),[se,A]=m.useState(!1),{toast:F}=at(),U=Nt(),{data:Z=[],isLoading:q}=ae({queryKey:["/api/admin/settings"]});m.useEffect(()=>{if(Z.length>0){const G=Z.find(X=>X.key==="platform_fee"||X.key==="platformFee"),Oe=Z.find(X=>X.key==="platformFeeType"),Ve=Z.find(X=>X.key==="topUpFee"),Ke=Z.find(X=>X.key==="withdrawalFee"),_=Z.find(X=>X.key==="Referral_Commission"),Qe=Z.find(X=>X.key==="maintenanceMode"),ie=Z.find(X=>X.key==="maintenanceMessage"),T=Z.find(X=>X.key==="adminTimezone"),$=Z.find(X=>X.key==="appTimezone"),V=Z.find(X=>X.key==="antiDdosEnabled"),ue=Z.find(X=>X.key==="emailVerificationEnabled"),oe=Z.find(X=>X.key==="platform_name");G&&t(G.value),Oe&&n(Oe.value),Ve&&i(Ve.value),Ke&&o(Ke.value),_&&d(_.value),Qe&&h(Qe.value==="true"),ie&&y(ie.value),T&&g(T.value),$&&p($.value),V&&j(V.value==="true"),ue&&k(ue.value==="true"),oe&&C(oe.value)}},[Z]);const K=Ee({mutationFn:async({key:G,value:Oe,description:Ve})=>await ve("/api/admin/settings",{method:"POST",body:{key:G,value:Oe,description:Ve||`Setting for ${G}`}}),onSuccess:(G,Oe)=>{if(U.invalidateQueries({queryKey:["/api/admin/settings"]}),U.invalidateQueries({queryKey:["/api/settings/public"]}),Oe.key==="adminTimezone"||Oe.key==="appTimezone")F({title:"App Timezone updated!",description:"All timestamps throughout the system now use the new timezone."});else if(Oe.key==="maintenanceMode"){const Ve=Oe.value==="true";F({title:`Maintenance Mode ${Ve?"Enabled":"Disabled"}!`,description:Ve?"Platform is now in maintenance mode":"Platform is now live and accessible"})}else if(Oe.key==="antiDdosEnabled"){const Ve=Oe.value==="true";F({title:`Anti-DDoS Protection ${Ve?"Enabled":"Disabled"}!`,description:Ve?"Login brute force protection is now active":"Login brute force protection is now disabled"})}else Oe.key==="platform_name"?F({title:"Platform Name updated!",description:`Platform name has been changed to "${Oe.value}". This will appear across all pages.`}):F({title:"Setting saved successfully!"})},onError:G=>{if(console.error("Settings update error:",G),console.error("Full error details:",JSON.stringify(G,null,2)),Z.length>0){const Oe=Z.find(_=>_.key==="antiDdosEnabled"),Ve=Z.find(_=>_.key==="maintenanceMode"),Ke=Z.find(_=>_.key==="platform_name");Oe&&j(Oe.value==="true"),Ve&&h(Ve.value==="true"),Ke&&C(Ke.value)}F({title:"Failed to save setting",description:G.message||"Authentication error - please try refreshing the page",variant:"destructive"})}}),I=Ee({mutationFn:async G=>{const Oe=await fetch(`/api/admin/search-users?q=${encodeURIComponent(G)}`,{credentials:"include"});if(!Oe.ok)throw new Error("Failed to search users");return Oe.json()},onSuccess:G=>{D(G),A(!1)},onError:()=>{F({title:"Failed to search users",variant:"destructive"}),A(!1)}}),z=Ee({mutationFn:async G=>{await ve("/api/admin/reset-password",{method:"POST",body:G})},onSuccess:()=>{F({title:"Password reset successfully"}),H(null),Q(""),N(""),D([])},onError:G=>{F({title:"Failed to reset password",description:G.message||"Please try again",variant:"destructive"})}}),ee=()=>{P.trim().length>=2?(A(!0),I.mutate(P.trim())):F({title:"Please enter at least 2 characters to search",variant:"destructive"})},ge=()=>{if(!M){F({title:"Please select a user",variant:"destructive"});return}if(!B||B.length<6){F({title:"Password must be at least 6 characters long",variant:"destructive"});return}z.mutate({userIdentifier:M.email,newPassword:B})},Y=Ee({mutationFn:async()=>(U.invalidateQueries(),await U.refetchQueries({queryKey:["/api/admin/settings"]}),await U.refetchQueries({queryKey:["/api/settings/public"]}),!0),onSuccess:()=>{F({title:"Cache cleared successfully!",description:"All data has been refreshed from the database."})},onError:G=>{F({title:"Failed to clear cache",description:G.message,variant:"destructive"})}}),pe=()=>{K.mutate({key:"maintenanceMessage",value:x,description:"Message to show during maintenance mode"})},Le=()=>{K.mutate({key:"platformFeeType",value:r,description:'Platform fee type: "fixed" or "percentage"'})},Fe=()=>{const G=parseFloat(e);if(r==="percentage"&&(isNaN(G)||G<0||G>100)){F({title:"Please enter a valid fee percentage (0-100)",variant:"destructive"});return}if(r==="fixed"&&(isNaN(G)||G<0)){F({title:"Please enter a valid fixed fee amount",variant:"destructive"});return}K.mutate({key:"platformFee",value:e,description:"Platform fee for guest post orders"})},ye=()=>{const G=parseFloat(a);if(isNaN(G)||G<0){F({title:"Please enter a valid top-up fee amount",variant:"destructive"});return}K.mutate({key:"topUpFee",value:a,description:"Top up fee in cents"})},ke=()=>{const G=parseFloat(l);if(isNaN(G)||G<0){F({title:"Please enter a valid withdrawal fee amount",variant:"destructive"});return}K.mutate({key:"withdrawalFee",value:l,description:"Withdrawal fee in dollars"})},L=()=>{const G=parseFloat(c);if(isNaN(G)||G<0){F({title:"Please enter a valid referral commission amount",variant:"destructive"});return}K.mutate({key:"Referral_Commission",value:c,description:"Referral commission in cents"})},ce=()=>{K.mutate({key:"appTimezone",value:v,description:"Application-wide timezone setting for all timestamps"}),K.mutate({key:"adminTimezone",value:v,description:"Admin dashboard timezone setting"}),p(v)};return q?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx("div",{className:"text-gray-500",children:"Loading settings..."})}):s.jsxs("div",{className:"space-y-6 max-w-4xl",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Platform Settings"}),s.jsx("p",{className:"text-gray-600",children:"Configure essential platform settings and fees"})]}),s.jsxs(Lr,{defaultValue:"general",className:"w-full",children:[s.jsxs(vr,{className:"grid w-full grid-cols-6 h-auto",children:[s.jsxs(ze,{value:"general",className:"flex items-center justify-center space-x-1 text-xs px-2 py-2",children:[s.jsx(Zy,{className:"h-3 w-3"}),s.jsx("span",{className:"hidden sm:inline",children:"General Settings"}),s.jsx("span",{className:"sm:hidden",children:"General"})]}),s.jsxs(ze,{value:"platform",className:"flex items-center justify-center space-x-1 text-xs px-2 py-2",children:[s.jsx(sn,{className:"h-3 w-3"}),s.jsx("span",{children:"Platform"})]}),s.jsxs(ze,{value:"password-reset",className:"flex items-center justify-center space-x-1 text-xs px-2 py-2",children:[s.jsx(uh,{className:"h-3 w-3"}),s.jsx("span",{className:"hidden sm:inline",children:"Password Reset"}),s.jsx("span",{className:"sm:hidden",children:"Password"})]}),s.jsxs(ze,{value:"rejection-reasons",className:"flex items-center justify-center space-x-1 text-xs px-2 py-2",children:[s.jsx(rn,{className:"h-3 w-3"}),s.jsx("span",{className:"hidden sm:inline",children:"Rejection Reasons"}),s.jsx("span",{className:"sm:hidden",children:"Reasons"})]}),s.jsxs(ze,{value:"employees",className:"flex items-center justify-center space-x-1 text-xs px-2 py-2",children:[s.jsx(Eb,{className:"h-3 w-3"}),s.jsx("span",{className:"hidden sm:inline",children:"Create Employee Account"}),s.jsx("span",{className:"sm:hidden",children:"Employee"})]}),s.jsxs(ze,{value:"notifications",className:"flex items-center justify-center space-x-1 text-xs px-2 py-2",children:[s.jsx(sc,{className:"h-3 w-3"}),s.jsx("span",{className:"hidden sm:inline",children:"Global Notifications"}),s.jsx("span",{className:"sm:hidden",children:"Notifications"})]})]}),s.jsxs(Ye,{value:"general",className:"space-y-6 mt-6",children:[s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsxs(xe,{className:"flex items-center space-x-2",children:[s.jsx(Zy,{className:"h-5 w-5"}),s.jsx("span",{children:"Essential Settings"})]}),s.jsx(lt,{children:"Core platform configuration and fee management"})]}),s.jsx(te,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(W,{className:"text-sm font-semibold text-gray-700",children:"Maintenance Mode"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(er,{id:"maintenance-mode",checked:u,onCheckedChange:G=>{h(G),K.mutate({key:"maintenanceMode",value:G.toString(),description:"Whether the platform is in maintenance mode"})}}),s.jsx("span",{className:"text-sm text-gray-600",children:u?"Enabled":"Disabled"})]}),s.jsx("div",{className:"text-xs text-gray-500 text-center py-2",children:"Auto-saves when toggled"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(W,{className:"text-sm font-semibold text-gray-700",children:"Anti-DDoS Protection"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(er,{id:"anti-ddos-mode",checked:f,onCheckedChange:G=>{j(G),K.mutate({key:"antiDdosEnabled",value:G.toString(),description:"Enable/disable Anti-DDoS brute force protection for user login"})}}),s.jsx("span",{className:"text-sm text-gray-600",children:f?"Enabled":"Disabled"})]}),s.jsx("div",{className:"text-xs text-gray-500 text-center py-2",children:"Auto-saves when toggled"}),s.jsx("p",{className:"text-xs text-gray-500",children:"3 failed attempts = 1 hour lockout (user login only)"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(W,{className:"text-sm font-semibold text-gray-700",children:"Require Email Verification on Sign-Up"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(er,{id:"email-verification-mode",checked:b,onCheckedChange:G=>{k(G),K.mutate({key:"emailVerificationEnabled",value:G.toString(),description:"Enable/disable email verification requirement for new user registrations"})}}),s.jsx("span",{className:"text-sm text-gray-600",children:b?"Enabled":"Disabled"})]}),s.jsx("div",{className:"text-xs text-gray-500 text-center py-2",children:"Auto-saves when toggled"}),s.jsx("p",{className:"text-xs text-gray-500",children:"When disabled, users auto-login immediately after registration"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(W,{htmlFor:"platform-fee-type",className:"text-sm font-semibold text-gray-700",children:"Platform Fee Type"}),s.jsxs(vt,{value:r,onValueChange:n,children:[s.jsx(ft,{className:"w-full",children:s.jsx(jt,{placeholder:"Select fee type"})}),s.jsxs(xt,{children:[s.jsx(de,{value:"percentage",children:"Percentage (%)"}),s.jsx(de,{value:"fixed",children:"Fixed Amount ($)"})]})]}),s.jsxs(E,{onClick:Le,disabled:K.isPending,size:"sm",className:"w-full",children:[s.jsx(fn,{className:"h-4 w-4 mr-2"}),"Save Type"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(W,{htmlFor:"platform-fee",className:"text-sm font-semibold text-gray-700",children:["Platform Fee ",r==="percentage"?"(%)":"($)"]}),s.jsx(re,{id:"platform-fee",type:"number",value:e,onChange:G=>t(G.target.value),placeholder:r==="percentage"?"5":"10",min:"0",max:r==="percentage"?"100":void 0,step:r==="percentage"?"0.1":"0.01",className:"w-full"}),s.jsxs(E,{onClick:Fe,disabled:K.isPending,size:"sm",className:"w-full",children:[s.jsx(fn,{className:"h-4 w-4 mr-2"}),"Save Fee"]}),s.jsx("p",{className:"text-xs text-gray-500",children:r==="percentage"?`Current: ${e}% of order value`:`Current: $${parseFloat(e||"0").toFixed(2)} per order`})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(W,{htmlFor:"top-up-fee",className:"text-sm font-semibold text-gray-700",children:"Top-Up Fee"}),s.jsx(re,{id:"top-up-fee",type:"number",value:a,onChange:G=>i(G.target.value),placeholder:"200",min:"0",step:"1",className:"w-full"}),s.jsxs(E,{onClick:ye,disabled:K.isPending,size:"sm",className:"w-full",children:[s.jsx(fn,{className:"h-4 w-4 mr-2"}),"Save Fee"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Current: $",parseFloat(a).toFixed(2)," per deposit"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(W,{htmlFor:"withdrawal-fee",className:"text-sm font-semibold text-gray-700",children:"Withdrawal Fee"}),s.jsx(re,{id:"withdrawal-fee",type:"number",value:l,onChange:G=>o(G.target.value),placeholder:"200",min:"0",step:"1",className:"w-full"}),s.jsxs(E,{onClick:ke,disabled:K.isPending,size:"sm",className:"w-full",children:[s.jsx(fn,{className:"h-4 w-4 mr-2"}),"Save Fee"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Current: $",parseFloat(l).toFixed(2)," per withdrawal"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(W,{htmlFor:"referral-commission",className:"text-sm font-semibold text-gray-700",children:"Referral Commission"}),s.jsx(re,{id:"referral-commission",type:"number",value:c,onChange:G=>d(G.target.value),placeholder:"200",min:"0",step:"1",className:"w-full"}),s.jsxs(E,{onClick:L,disabled:K.isPending,size:"sm",className:"w-full",children:[s.jsx(fn,{className:"h-4 w-4 mr-2"}),"Save Commission"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Current: $",parseFloat(c).toFixed(2)," per referral"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(W,{htmlFor:"timezone",className:"text-sm font-semibold text-gray-700",children:"Admin Timezone"}),s.jsxs(vt,{value:v,onValueChange:g,children:[s.jsx(ft,{className:"w-full",children:s.jsx(jt,{placeholder:"Select timezone"})}),s.jsxs(xt,{children:[s.jsx(de,{value:"UTC",children:"UTC (Coordinated Universal Time)"}),s.jsx(de,{value:"America/New_York",children:"Eastern Time (ET)"}),s.jsx(de,{value:"America/Chicago",children:"Central Time (CT)"}),s.jsx(de,{value:"America/Denver",children:"Mountain Time (MT)"}),s.jsx(de,{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),s.jsx(de,{value:"Europe/London",children:"London (GMT/BST)"}),s.jsx(de,{value:"Europe/Paris",children:"Paris (CET/CEST)"}),s.jsx(de,{value:"Europe/Berlin",children:"Berlin (CET/CEST)"}),s.jsx(de,{value:"Asia/Tokyo",children:"Tokyo (JST)"}),s.jsx(de,{value:"Asia/Shanghai",children:"Shanghai (CST)"}),s.jsx(de,{value:"Asia/Kolkata",children:"India (IST)"}),s.jsx(de,{value:"Australia/Sydney",children:"Sydney (AEST/AEDT)"})]})]}),s.jsxs(E,{onClick:ce,disabled:K.isPending,size:"sm",className:"w-full",children:[s.jsx(fn,{className:"h-4 w-4 mr-2"}),"Save Zone"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Displays timestamps in this timezone for admins"})]})]})})]}),s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsxs(xe,{className:"flex items-center space-x-2",children:[s.jsx(sc,{className:"h-5 w-5"}),s.jsx("span",{children:"Maintenance Message"})]}),s.jsx(lt,{children:"Custom message displayed to users during maintenance mode"})]}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"maintenance-message",className:"text-sm font-semibold text-gray-700",children:"Maintenance Message"}),s.jsx(Jt,{id:"maintenance-message",value:x,onChange:G=>y(G.target.value),placeholder:"Enter maintenance message...",rows:4,className:"mt-2"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(E,{onClick:pe,disabled:K.isPending,className:"w-auto",children:[s.jsx(fn,{className:"h-4 w-4 mr-2"}),"Save Message"]})}),s.jsx("p",{className:"text-sm text-gray-500",children:"This message will be shown to users when maintenance mode is enabled"})]})})]}),s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsxs(xe,{className:"flex items-center space-x-2",children:[s.jsx(oa,{className:"h-5 w-5"}),s.jsx("span",{children:"Cache Management"})]}),s.jsx(lt,{children:"Clear application cache to ensure latest settings are reflected"})]}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"If you notice settings changes aren't reflecting immediately, clear the cache to force a refresh from the database."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(E,{onClick:()=>Y.mutate(),disabled:Y.isPending,variant:"outline",className:"flex items-center gap-2",children:[Y.isPending?s.jsx(oa,{className:"h-4 w-4 animate-spin"}):s.jsx(rn,{className:"h-4 w-4"}),Y.isPending?"Clearing...":"Clear Cache"]}),s.jsx("div",{className:"text-xs text-gray-500 flex items-center",children:"Last cleared: When you save any setting"})]})]})})]}),s.jsxs(J,{className:"bg-gray-50",children:[s.jsx(fe,{children:s.jsxs(xe,{className:"flex items-center space-x-2",children:[s.jsx(Bs,{className:"h-5 w-5"}),s.jsx("span",{children:"Current Settings Summary"})]})}),s.jsx(te,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-700",children:"Maintenance"}),s.jsx("div",{className:u?"text-red-600":"text-green-600",children:u?"Active":"Inactive"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-700",children:"Platform Fee"}),s.jsx("div",{className:"text-gray-900",children:r==="percentage"?`${e}%`:`$${parseFloat(e||"0").toFixed(2)}`})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-700",children:"Top-Up Fee"}),s.jsxs("div",{className:"text-gray-900",children:["$",parseFloat(a).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-700",children:"Withdrawal Fee"}),s.jsxs("div",{className:"text-gray-900",children:["$",parseFloat(l).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-700",children:"App Timezone"}),s.jsxs("div",{className:"text-gray-900",children:[v," (System-wide)"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-gray-700",children:"Anti-DDoS"}),s.jsx("div",{className:f?"text-green-600":"text-red-600",children:f?"Enabled":"Disabled"})]})]})})]}),s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsxs(xe,{className:"flex items-center space-x-2",children:[s.jsx("span",{children:"🕒"}),s.jsx("span",{children:"App Timezone Control (System-wide)"})]}),s.jsx(lt,{children:"Controls ALL timestamps throughout the entire system - orders, transactions, messages, logs, admin filters, etc."})]}),s.jsxs(te,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{className:"text-sm font-semibold text-gray-700",children:"UTC Time (System Time)"}),s.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsx(ac,{timezone:"UTC",showIcon:!1,showDate:!0,className:"text-blue-700",label:"UTC"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(W,{className:"text-sm font-semibold text-gray-700",children:["App Time (",v,") - System-wide"]}),s.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsx(ac,{timezone:v,showIcon:!1,showDate:!0,className:"text-green-700",useAdminTimezone:!0})}),s.jsx("p",{className:"text-xs text-green-600",children:"All timestamps system-wide use this timezone"})]})]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:[s.jsx("strong",{children:"App Timezone System:"})," All timestamps throughout the entire system (orders, transactions, messages, logs, admin filters) automatically follow this timezone setting. Changes apply instantly across all components without manual refresh."]})]})]})]}),s.jsxs(Ye,{value:"platform",className:"space-y-6 mt-6",children:[s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsxs(xe,{className:"flex items-center space-x-2",children:[s.jsx(sn,{className:"h-5 w-5"}),s.jsx("span",{children:"Platform Name Management"})]}),s.jsx(lt,{children:"Configure the display name for your platform across all pages"})]}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"platform-name",className:"text-sm font-semibold text-gray-700",children:"Platform Name"}),s.jsx(re,{id:"platform-name",type:"text",value:S,onChange:G=>C(G.target.value),placeholder:"Enter platform name",className:"max-w-md"}),s.jsx("p",{className:"text-xs text-gray-500",children:"This name will appear across all pages including the homepage, headers, and footer"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(E,{onClick:()=>{K.mutate({key:"platform_name",value:S,description:"Display name for the platform"})},disabled:K.isPending,className:"flex items-center space-x-2",children:[s.jsx(fn,{className:"h-4 w-4"}),s.jsx("span",{children:K.isPending?"Saving...":"Save Platform Name"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Current: ",s.jsx("span",{className:"font-medium",children:S})]})]})]})})]}),s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsxs(xe,{className:"flex items-center space-x-2",children:[s.jsx(L4,{className:"h-5 w-5"}),s.jsx("span",{children:"Social Links Management"})]}),s.jsx(lt,{children:"Manage social media links displayed in the footer"})]}),s.jsx(te,{children:s.jsx(cF,{})})]})]}),s.jsx(Ye,{value:"password-reset",className:"space-y-6 mt-6",children:s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsxs(xe,{className:"flex items-center space-x-2",children:[s.jsx(uh,{className:"h-5 w-5"}),s.jsx("span",{children:"Password Reset"})]}),s.jsx(lt,{children:"Search for users and reset their passwords securely. Works for admin, employees, and users."})]}),s.jsxs(te,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(W,{htmlFor:"user-search",className:"text-sm font-semibold",children:"Search User"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(re,{id:"user-search",placeholder:"Enter username or email...",value:P,onChange:G=>N(G.target.value),className:"pl-10"})]}),s.jsxs(E,{onClick:ee,disabled:se||P.trim().length<2,className:"px-6",children:[se?s.jsx(oa,{className:"h-4 w-4 animate-spin"}):s.jsx(di,{className:"h-4 w-4"}),"Search"]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Enter at least 2 characters to search"})]}),O.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(W,{className:"text-sm font-semibold",children:"Search Results"}),s.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-lg",children:O.map(G=>s.jsx("div",{className:`p-4 border-b cursor-pointer hover:bg-gray-50 transition-colors ${(M==null?void 0:M.id)===G.id?"bg-blue-50 border-blue-200":""}`,onClick:()=>H(G),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Dn,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[G.firstName," ",G.lastName]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["@",G.username]}),s.jsx("p",{className:"text-sm text-gray-500",children:G.email})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${G.role==="admin"?"bg-red-100 text-red-800":G.role==="employee"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:G.role}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Status: ",G.status]})]})]})},G.id))})]}),M&&s.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Dn,{className:"h-5 w-5 text-blue-600"}),s.jsx(W,{className:"text-sm font-semibold text-blue-800",children:"Selected User"})]}),s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsxs("p",{className:"font-medium",children:[M.firstName," ",M.lastName]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["@",M.username," • ",M.email]}),s.jsx("p",{className:"text-sm",children:s.jsx("span",{className:`font-semibold ${M.role==="admin"?"text-red-600":M.role==="employee"?"text-blue-600":"text-green-600"}`,children:M.role.charAt(0).toUpperCase()+M.role.slice(1)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"new-password",className:"text-sm font-semibold",children:"New Password"}),s.jsx(re,{id:"new-password",type:"password",placeholder:"Enter new password (min 6 characters)",value:B,onChange:G=>Q(G.target.value)}),s.jsx("p",{className:"text-xs text-gray-500",children:"Password will be securely hashed with bcrypt"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(E,{onClick:ge,disabled:z.isPending||!B||B.length<6,className:"bg-red-600 hover:bg-red-700",children:[z.isPending?s.jsx(oa,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(uh,{className:"h-4 w-4 mr-2"}),"Reset Password"]}),s.jsx(E,{variant:"outline",onClick:()=>{H(null),Q(""),N(""),D([])},children:"Cancel"})]})]})]})]})}),s.jsx(Ye,{value:"rejection-reasons",className:"mt-6",children:s.jsx(lF,{})}),s.jsx(Ye,{value:"employees",className:"mt-6",children:s.jsx(VM,{})}),s.jsx(Ye,{value:"notifications",className:"mt-6",children:s.jsx(oF,{})})]})]})}function uF(){const{toast:e}=at(),t=Nt(),[r,n]=m.useState(""),[a,i]=m.useState(null),[l,o]=m.useState(""),{data:c=[],isLoading:d}=ae({queryKey:["/api/categories"]}),u=Ee({mutationFn:async f=>{const j=f.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return await ve("/api/categories",{method:"POST",body:{name:f,slug:j}})},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/categories"]}),n(""),e({title:"Category created",description:"The new category has been added successfully."})},onError:()=>{e({title:"Error",description:"Failed to create category. Please try again.",variant:"destructive"})}}),h=Ee({mutationFn:async({id:f,name:j})=>{const b=j.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");return await ve(`/api/categories/${f}`,{method:"PUT",body:{name:j,slug:b}})},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/categories"]}),i(null),o(""),e({title:"Category updated",description:"The category has been updated successfully."})},onError:()=>{e({title:"Error",description:"Failed to update category. Please try again.",variant:"destructive"})}}),x=Ee({mutationFn:async f=>await ve(`/api/categories/${f}`,{method:"DELETE"}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/categories"]}),e({title:"Category deleted",description:"The category has been removed successfully."})},onError:()=>{e({title:"Error",description:"Failed to delete category. Please try again.",variant:"destructive"})}}),y=f=>{f.preventDefault(),r.trim()&&u.mutate(r.trim())},v=f=>{i(f.id),o(f.name)},g=()=>{a&&l.trim()&&h.mutate({id:a,name:l.trim()})},w=()=>{i(null),o("")},p=f=>{x.mutate(f)};return d?s.jsxs(J,{children:[s.jsx(fe,{children:s.jsx(xe,{children:"Site Categories"})}),s.jsx(te,{children:s.jsx("div",{className:"text-center py-4",children:"Loading categories..."})})]}):s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsx(xe,{children:"Site Categories"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manage site categories for listings and filtering"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("form",{onSubmit:y,className:"flex gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(W,{htmlFor:"newCategory",className:"sr-only",children:"New Category Name"}),s.jsx(re,{id:"newCategory",placeholder:"Enter category name...",value:r,onChange:f=>n(f.target.value),disabled:u.isPending})]}),s.jsxs(E,{type:"submit",disabled:!r.trim()||u.isPending,children:[s.jsx(yr,{className:"h-4 w-4 mr-1"}),"Add Category"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"font-medium text-sm text-gray-700",children:["Existing Categories (",c.length,")"]}),c.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No categories found. Create your first category above."}):s.jsx("div",{className:"grid gap-2",children:c.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-gray-50",children:[s.jsx("div",{className:"flex items-center gap-3",children:a===f.id?s.jsx(re,{value:l,onChange:j=>o(j.target.value),className:"h-8 w-48",autoFocus:!0}):s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:f.name}),s.jsx(Pe,{variant:"outline",className:"ml-2 text-xs",children:f.slug})]})}),s.jsx("div",{className:"flex items-center gap-1",children:a===f.id?s.jsxs(s.Fragment,{children:[s.jsx(E,{size:"sm",variant:"ghost",onClick:g,disabled:h.isPending,children:s.jsx(Kl,{className:"h-4 w-4"})}),s.jsx(E,{size:"sm",variant:"ghost",onClick:w,disabled:h.isPending,children:s.jsx(In,{className:"h-4 w-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(E,{size:"sm",variant:"ghost",onClick:()=>v(f),children:s.jsx(Tb,{className:"h-4 w-4"})}),s.jsx(E,{size:"sm",variant:"ghost",onClick:()=>p(f.id),disabled:x.isPending,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(rn,{className:"h-4 w-4"})})]})})]},f.id))})]})]})]})}function I2({isEmployeeView:e=!1}){const{toast:t}=at(),r=Nt(),[n,a]=m.useState(e?"pending-guest-posts":"all"),[i,l]=m.useState(null),[o,c]=m.useState(!1),[d,u]=m.useState(""),[h,x]=m.useState(""),[y,v]=m.useState(""),[g,w]=m.useState(null),[p,f]=m.useState(!1),[j,b]=m.useState(!1),[k,S]=m.useState(""),[C,P]=m.useState(""),[N,O]=m.useState({domainName:"",date:"",category:"all"});Bc();const D=LM(),{data:M=[]}=ae({queryKey:["/api/admin/rejection-reasons"]}),{data:H=[],isLoading:B}=ae({queryKey:["/api/admin/sites"]}),{data:Q=[]}=ae({queryKey:["/api/categories"]}),se=Ee({mutationFn:({siteId:L,data:ce})=>ve(`/api/admin/sites/${L}`,{method:"PUT",body:ce}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/sites"]}),t({title:"Site updated successfully"}),w(null),f(!1)},onError:()=>{t({title:"Failed to update site",variant:"destructive"})}}),A=Ee({mutationFn:async L=>await ve(`/api/admin/sites/${L}/approve`,{method:"POST"}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/sites"]}),t({title:"Site approved",description:"The site has been approved successfully."})}}),F=Ee({mutationFn:async({siteId:L,reason:ce})=>await ve(`/api/admin/sites/${L}/reject`,{method:"POST",body:{reason:ce}}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/sites"]}),t({title:"Site rejected",description:"The site has been rejected and moved to archive."})}}),U=Ee({mutationFn:async L=>await ve(`/api/sites/${L}`,{method:"DELETE"}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/sites"]}),t({title:"Site deleted",description:"The site has been permanently deleted."})}}),Z=L=>{A.mutate(L)},q=(L,ce)=>{u(L),x(ce),v(""),c(!0)},K=()=>{if(!y.trim()){t({title:"Please select a rejection reason",variant:"destructive"});return}F.mutate({siteId:d,reason:y}),c(!1)},I=(L,ce)=>{S(L),P(ce),b(!0)},z=()=>{U.mutate(k),b(!1),S(""),P("")},ee=()=>{let L=[];switch(n){case"guest-posts":L=H.filter(ce=>ce.purpose==="sales"&&ce.status==="approved");break;case"exchange":L=H.filter(ce=>ce.purpose==="exchange"&&ce.status==="approved");break;case"pending-guest-posts":L=H.filter(ce=>ce.purpose==="sales"&&ce.status==="pending");break;case"pending-exchange":L=H.filter(ce=>ce.purpose==="exchange"&&ce.status==="pending");break;case"archived":L=H.filter(ce=>ce.status==="rejected"||ce.status==="blacklisted");break;case"all":L=H.filter(ce=>ce.status==="approved");break;case"categories":return[];default:L=H.filter(ce=>ce.status==="approved")}return n!=="categories"?pe(L):L},ge=L=>L?`$${L.toFixed(2)}`:"N/A",Y=L=>L.length<=110?L:L.substring(0,110),pe=L=>L.filter(ce=>{const G=!N.domainName||ce.domain.toLowerCase().includes(N.domainName.toLowerCase())||ce.title.toLowerCase().includes(N.domainName.toLowerCase()),Oe=!N.category||N.category==="all"||ce.category===N.category,Ve=!N.date||(()=>{try{const Ke=new Date(ce.createdAt),_=new Date(N.date),Qe=D(Ke),ie=D(_),T=Qe.split("T")[0],$=ie.split("T")[0];return T===$}catch(Ke){return console.error("Error comparing dates with app timezone:",Ke),new Date(ce.createdAt).toISOString().split("T")[0]===N.date}})();return G&&Oe&&Ve}),Le=()=>{O({domainName:"",date:"",category:"all"})},Fe=L=>{switch(L){case"approved":return"default";case"pending":return"secondary";case"rejected":case"blacklisted":return"destructive";default:return"outline"}},ye=L=>{var ce;return s.jsx("div",{className:"border rounded-lg p-4 space-y-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-medium text-lg",children:L.title}),s.jsx(Pe,{variant:Fe(L.status),children:L.status}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:L.purpose})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:L.domain}),s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:L.description?Y(L.description):"No description"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Owner:"})," ",L.ownerUsername||L.ownerName]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Category:"})," ",L.category]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Purpose:"})," ",L.purpose==="sales"?"Guest Post":"Exchange"]}),L.purpose==="sales"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Price:"})," ",ge(L.price)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Delivery:"})," ",L.deliveryTime||"N/A"," days"]}),s.jsx("div",{})]})]}),L.rejectionReason&&s.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:[s.jsx("span",{className:"font-medium",children:"Rejection reason:"})," ",L.rejectionReason]}),L.approvedBy&&s.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-sm text-green-700",children:s.jsx("span",{className:"font-medium",children:L.approvedBy})}),L.rejectedBy&&s.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:s.jsx("span",{className:"font-medium",children:L.rejectedBy})}),s.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Created: ",s.jsx(x2,{timestamp:L.createdAt,showTime:!1})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[L.status!=="rejected"&&L.status!=="blacklisted"&&s.jsxs(E,{size:"sm",variant:"outline",onClick:()=>{w({...L}),f(!0)},children:[s.jsx(sm,{className:"h-4 w-4 mr-1"}),"Edit"]}),L.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs(E,{size:"sm",onClick:()=>Z(L.id),disabled:A.isPending,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Kl,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(E,{size:"sm",variant:"destructive",onClick:()=>q(L.id,L.domain),disabled:F.isPending,children:[s.jsx(In,{className:"h-4 w-4 mr-1"}),"Reject"]})]}),(n==="all"||n==="guest-posts"||n==="exchange"||n==="pending-guest-posts"||n==="pending-exchange")&&s.jsxs(ot,{children:[s.jsx(us,{asChild:!0,children:s.jsxs(E,{size:"sm",variant:"outline",onClick:()=>l(L),children:[s.jsx(sr,{className:"h-4 w-4 mr-1"}),"View Details"]})}),s.jsxs(ct,{className:"max-w-2xl",children:[s.jsx(dt,{children:s.jsx(ut,{children:L.title})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Domain:"})," ",L.domain]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Description:"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:L.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Owner:"})," ",L.ownerUsername||L.ownerName]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Category:"})," ",L.category]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Purpose:"})," ",L.purpose==="sales"?"Guest Post":"Exchange"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Link Type:"}),s.jsxs("div",{className:"flex gap-2 ml-2",children:[s.jsx("div",{className:`inline-flex px-2 py-1 rounded text-xs font-medium text-white ${L.linkType==="dofollow"?"bg-green-500":"bg-blue-500"}`,children:L.linkType==="dofollow"?"Do Follow":"No Follow"}),L.purpose==="sales"&&L.casinoAllowed&&L.casinoAllowed!=="N/A"&&s.jsxs("div",{className:`inline-flex px-2 py-1 rounded text-xs font-medium text-white ${L.casinoAllowed==="yes"?"bg-green-500":"bg-red-500"}`,children:["Casino: ",L.casinoAllowed==="yes"?"Allowed":"Not Allowed"]})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Status:"}),s.jsx(Pe,{variant:Fe(L.status),className:"ml-2",children:L.status})]}),L.purpose==="sales"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Price:"})," ",ge(L.price)]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Delivery Time:"})," ",L.deliveryTime||"N/A"," days"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Domain Authority:"})," ",L.domainAuthority]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"DR Score:"})," ",L.drScore]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Monthly Traffic:"})," ",((ce=L.monthlyTraffic)==null?void 0:ce.toLocaleString())||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Language:"})," ",L.language]})]}),L.rejectionReason&&s.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded",children:[s.jsx("span",{className:"font-medium text-red-700",children:"Rejection Reason:"}),s.jsx("p",{className:"text-red-600 text-sm mt-1",children:L.rejectionReason})]}),L.approvedBy&&s.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:s.jsx("span",{className:"font-medium text-green-700",children:L.approvedBy})}),L.rejectedBy&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded",children:s.jsx("span",{className:"font-medium text-red-700",children:L.rejectedBy})}),s.jsxs("div",{className:"text-xs text-gray-400",children:["Created: ",new Date(L.createdAt).toLocaleDateString()]})]})]})]}),(L.status==="approved"||L.status==="rejected")&&s.jsxs(E,{size:"sm",variant:"destructive",onClick:()=>I(L.id,L.domain),disabled:U.isPending,children:[s.jsx(rn,{className:"h-4 w-4 mr-1"}),"Delete"]}),L.status==="rejected"&&s.jsxs(E,{size:"sm",variant:"outline",onClick:()=>Z(L.id),disabled:A.isPending,children:[s.jsx(f4,{className:"h-4 w-4 mr-1"}),"Restore"]})]})]})},L.id)};if(B)return s.jsxs(J,{children:[s.jsx(fe,{children:s.jsx(xe,{children:"Domain Management"})}),s.jsx(te,{children:s.jsx("div",{className:"text-center py-8",children:"Loading domains..."})})]});const ke=ee();return s.jsxs(s.Fragment,{children:[s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsx(xe,{children:"Domain Management"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Manage all domains, submissions, and site categories"})]}),s.jsx(te,{children:s.jsxs(Lr,{value:n,onValueChange:a,children:[s.jsxs(vr,{className:`grid w-full ${e?"grid-cols-2":"grid-cols-7"}`,children:[!e&&s.jsx(ze,{value:"all",children:"All Listings"}),!e&&s.jsx(ze,{value:"guest-posts",children:"Guest Posts"}),!e&&s.jsx(ze,{value:"exchange",children:"Exchange"}),s.jsx(ze,{value:"pending-guest-posts",children:"Pending Guest Posts"}),s.jsx(ze,{value:"pending-exchange",children:"Pending Exchange"}),!e&&s.jsx(ze,{value:"archived",children:"Rejected"}),!e&&s.jsx(ze,{value:"categories",children:"Categories"})]}),n!=="categories"&&s.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(yp,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium text-sm",children:"Filters"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Domain Name"}),s.jsx(re,{placeholder:"Search by domain or title...",value:N.domainName,onChange:L=>O(ce=>({...ce,domainName:L.target.value})),className:"h-8"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Date"}),s.jsx(re,{type:"date",value:N.date,onChange:L=>O(ce=>({...ce,date:L.target.value})),className:"h-8"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 mb-1 block",children:"Category"}),s.jsxs(vt,{value:N.category,onValueChange:L=>O(ce=>({...ce,category:L})),children:[s.jsx(ft,{className:"h-8",children:s.jsx(jt,{placeholder:"All categories"})}),s.jsxs(xt,{children:[s.jsx(de,{value:"all",children:"All categories"}),Q.map(L=>s.jsx(de,{value:L.name,children:L.name},L.id))]})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(E,{variant:"outline",size:"sm",onClick:Le,className:"h-8",children:"Clear Filters"})})]})]}),!e&&s.jsx(Ye,{value:"all",className:"mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium",children:["Active Domains (",ke.length,")"]}),s.jsxs("div",{className:"flex gap-2 text-sm text-gray-600",children:[s.jsxs("span",{children:["Guest Posts: ",ke.filter(L=>L.purpose==="sales").length]}),s.jsxs("span",{children:["Exchange: ",ke.filter(L=>L.purpose==="exchange").length]}),s.jsxs("span",{children:["Total Active: ",ke.length]})]})]}),ke.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No active domains found."}):s.jsx("div",{className:"space-y-4",children:ke.map(ye)})]})}),!e&&s.jsx(Ye,{value:"guest-posts",className:"mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium",children:["Guest Posts & Link Placements (",ke.length,")"]}),ke.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No guest post or placement domains found."}):s.jsx("div",{className:"space-y-4",children:ke.map(ye)})]})}),!e&&s.jsx(Ye,{value:"exchange",className:"mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium",children:["Exchange Domains (",ke.length,")"]}),ke.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No exchange domains found."}):s.jsx("div",{className:"space-y-4",children:ke.map(ye)})]})}),s.jsx(Ye,{value:"pending-guest-posts",className:"mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium",children:["Pending Guest Posts (",ke.length,")"]}),ke.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No pending guest post domains found."}):s.jsx("div",{className:"space-y-4",children:ke.map(ye)})]})}),s.jsx(Ye,{value:"pending-exchange",className:"mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium",children:["Pending Exchange (",ke.length,")"]}),ke.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No pending exchange domains found."}):s.jsx("div",{className:"space-y-4",children:ke.map(ye)})]})}),!e&&s.jsx(Ye,{value:"archived",className:"mt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium",children:["Archived Domains (",ke.length,")"]}),ke.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No archived domains found."}):s.jsx("div",{className:"space-y-4",children:ke.map(ye)})]})}),!e&&s.jsx(Ye,{value:"categories",className:"mt-6",children:s.jsx(uF,{})})]})})]}),s.jsx(ot,{open:o,onOpenChange:c,children:s.jsxs(ct,{children:[s.jsxs(dt,{children:[s.jsxs(ut,{children:["Reject Domain: ",h]}),s.jsx(Ls,{children:"Select a rejection reason for this domain submission."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"rejection-reason",children:"Rejection Reason"}),s.jsxs(vt,{onValueChange:v,value:y,children:[s.jsx(ft,{children:s.jsx(jt,{placeholder:"Select rejection reason"})}),s.jsx(xt,{children:M.map(L=>s.jsx(de,{value:L.reasonText,children:L.reasonText},L.id))})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(E,{variant:"destructive",onClick:K,disabled:F.isPending||!y,children:"Reject Domain"}),s.jsx(E,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})]})]})]})}),s.jsx(ot,{open:p,onOpenChange:f,children:s.jsxs(ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(dt,{children:s.jsxs(ut,{children:["Edit Site: ",g==null?void 0:g.domain]})}),g&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Domain"}),s.jsx(re,{value:g.domain,onChange:L=>w({...g,domain:L.target.value})})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Title"}),s.jsx(re,{value:g.title,onChange:L=>w({...g,title:L.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Description"}),s.jsx(Jt,{value:g.description||"",onChange:L=>w({...g,description:L.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Domain Authority"}),s.jsx(re,{type:"number",value:g.domainAuthority,onChange:L=>w({...g,domainAuthority:parseInt(L.target.value)})})]}),s.jsxs("div",{children:[s.jsx(W,{children:"DR Score"}),s.jsx(re,{type:"number",value:g.drScore,onChange:L=>w({...g,drScore:parseInt(L.target.value)})})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Monthly Traffic"}),s.jsx(re,{type:"number",value:g.monthlyTraffic,onChange:L=>w({...g,monthlyTraffic:parseInt(L.target.value)})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Category"}),s.jsxs(vt,{value:g.category,onValueChange:L=>w({...g,category:L}),children:[s.jsx(ft,{children:s.jsx(jt,{})}),s.jsx(xt,{children:Q.map(L=>s.jsx(de,{value:L.name,children:L.name},L.id))})]})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Link Type"}),s.jsxs(vt,{value:g.linkType||"dofollow",onValueChange:L=>w({...g,linkType:L}),children:[s.jsx(ft,{children:s.jsx(jt,{})}),s.jsxs(xt,{children:[s.jsx(de,{value:"dofollow",children:"✅ Do Follow"}),s.jsx(de,{value:"nofollow",children:"🚫 No Follow"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Price (if for sales)"}),s.jsx(re,{type:"number",value:g.price?g.price.toString():"",onChange:L=>w({...g,price:L.target.value?parseFloat(L.target.value):void 0}),placeholder:"Leave empty for exchange-only"})]}),g.purpose==="sales"&&s.jsxs("div",{children:[s.jsx(W,{children:"Casino Content Allowed"}),s.jsxs(vt,{value:g.casinoAllowed||"N/A",onValueChange:L=>w({...g,casinoAllowed:L}),children:[s.jsx(ft,{children:s.jsx(jt,{})}),s.jsxs(xt,{children:[s.jsx(de,{value:"yes",children:"🎰 Yes - Casino content allowed"}),s.jsx(de,{value:"no",children:"🚫 No - Casino content not allowed"}),s.jsx(de,{value:"N/A",children:"➖ N/A - Not specified"})]})]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(E,{onClick:()=>{se.mutate({siteId:g.id,data:{domain:g.domain,title:g.title,description:g.description,domainAuthority:g.domainAuthority,drScore:g.drScore,monthlyTraffic:g.monthlyTraffic,category:g.category,linkType:g.linkType,casinoAllowed:g.casinoAllowed,price:g.price}})},disabled:se.isPending,children:"Save Changes"}),s.jsx(E,{variant:"outline",onClick:()=>f(!1),children:"Cancel"})]})]})]})}),s.jsx(cg,{open:j,onOpenChange:b,children:s.jsxs(Sm,{children:[s.jsxs(km,{children:[s.jsx(Tm,{children:"Delete Site"}),s.jsxs(Pm,{children:["Are you sure you want to permanently delete the site ",s.jsx("strong",{children:C}),"? This action cannot be undone."]})]}),s.jsxs(Cm,{children:[s.jsx(Am,{onClick:()=>b(!1),children:"Cancel"}),s.jsx(Em,{onClick:z,className:"bg-red-600 hover:bg-red-700",disabled:U.isPending,children:U.isPending?"Deleting...":"Delete Site"})]})]})})]})}function Mi({filters:e,onFilterChange:t,onClearFilters:r}){const n=Object.values(e).some(a=>a.trim()!=="");return s.jsxs(J,{className:"mb-4",children:[s.jsx(fe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yp,{className:"h-4 w-4"}),s.jsx(xe,{className:"text-sm",children:"Filters"})]}),n&&s.jsxs(E,{variant:"outline",size:"sm",onClick:r,children:[s.jsx(In,{className:"h-3 w-3 mr-1"}),"Clear All"]})]})}),s.jsx(te,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"username-filter",children:"Username"}),s.jsx(re,{id:"username-filter",placeholder:"Search by username...",value:e.username,onChange:a=>t("username",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"transaction-id-filter",children:"Transaction ID"}),s.jsx(re,{id:"transaction-id-filter",placeholder:"Search by transaction ID...",value:e.transactionId,onChange:a=>t("transactionId",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"date-from-filter",children:"Date From"}),s.jsx(re,{id:"date-from-filter",type:"date",value:e.dateFrom,onChange:a=>t("dateFrom",a.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"date-to-filter",children:"Date To"}),s.jsx(re,{id:"date-to-filter",type:"date",value:e.dateTo,onChange:a=>t("dateTo",a.target.value)})]})]})})]})}function L2({userRole:e="admin",isEmployeeView:t=!1}){m.useState(null);const[r,n]=m.useState(""),[a,i]=m.useState(null),[l,o]=m.useState(""),[c,d]=m.useState("add"),[u,h]=m.useState({username:"",transactionId:"",dateFrom:"",dateTo:""}),[x,y]=m.useState(!1),[v,g]=m.useState(""),[w,p]=m.useState(null),[f,j]=m.useState(""),{toast:b}=at(),k=Nt(),S=Ee({mutationFn:async _=>await ve("/api/admin/user-balance-by-email",{method:"POST",body:{email:_}}),onSuccess:_=>{i(_),b({title:"User found successfully"})},onError:()=>{i(null),b({title:"User not found",variant:"destructive"})}}),C=Ee({mutationFn:async({userId:_,amount:Qe,operation:ie})=>await ve("/api/admin/user-balance",{method:"POST",body:{userId:_,amount:Qe,operation:ie}}),onSuccess:()=>{b({title:"Balance updated successfully"}),o(""),a&&S.mutate(a.email)},onError:()=>{b({title:"Failed to update balance",variant:"destructive"})}}),P=()=>{r.trim()&&S.mutate(r.trim())},N=()=>{if(a&&l&&parseFloat(l)>0){const _=parseFloat(l);C.mutate({userId:a.id,amount:_,operation:c})}},O=(_,Qe)=>{h(ie=>({...ie,[_]:Qe}))},D=()=>{h({username:"",transactionId:"",dateFrom:"",dateTo:""})},M=_=>_.filter(Qe=>{var T,$,V;if(u.username&&!(Qe.username||((T=Qe.user)==null?void 0:T.username)||`${(($=Qe.user)==null?void 0:$.firstName)||""} ${((V=Qe.user)==null?void 0:V.lastName)||""}`.trim()).toLowerCase().includes(u.username.toLowerCase())||u.transactionId&&!(Qe.transactionId||Qe.referenceId||"").toLowerCase().includes(u.transactionId.toLowerCase()))return!1;const ie=Qe.createdAt||Qe.dateTime||"";if(u.dateFrom&&ie){const ue=new Date(ie),oe=new Date(u.dateFrom);if(ue<oe)return!1}if(u.dateTo&&ie){const ue=new Date(ie),oe=new Date(u.dateTo);if(oe.setHours(23,59,59,999),ue>oe)return!1}return!0}),{data:H=[],isLoading:B}=ae({queryKey:["/api/admin/transactions"],enabled:e==="admin"}),{data:Q=[],isLoading:se}=ae({queryKey:["/api/admin/wallet-transactions/top_up/processing"]}),{data:A=[],isLoading:F}=ae({queryKey:["/api/admin/wallet-transactions/withdrawal/processing"]}),{data:U=[],isLoading:Z}=ae({queryKey:["/api/admin/wallet-transactions/failed"]}),{data:q=[]}=ae({queryKey:["/api/admin/wallet-transactions/approved"]}),{data:K=[],isLoading:I}=ae({queryKey:["/api/admin/fee-records"],enabled:e==="admin"}),{data:z=[],isLoading:ee}=ae({queryKey:["/api/admin/crypto-txids"],enabled:e==="admin"}),{data:ge=[],isLoading:Y}=ae({queryKey:["/api/admin/referral-records","pending"],queryFn:()=>fetch("/api/admin/referral-records?status=pending").then(_=>_.json()),enabled:e==="admin"}),{data:pe=[],isLoading:Le}=ae({queryKey:["/api/admin/referral-records","paid"],queryFn:()=>fetch("/api/admin/referral-records?status=paid").then(_=>_.json()),enabled:e==="admin"}),{data:Fe=[],isLoading:ye}=ae({queryKey:["/api/admin/rejection-reasons"]});ae({queryKey:["/api/settings"],enabled:e==="admin"});const{data:ke=[]}=ae({queryKey:["/api/admin/users"],select:_=>_.map(Qe=>({id:Qe.id,username:Qe.username,role:Qe.role}))}),L=_=>{if(!_)return null;const Qe=ke.find(ie=>ie.id===_);return(Qe==null?void 0:Qe.username)||null},ce=Ee({mutationFn:({id:_,status:Qe,reason:ie})=>ve(`/api/admin/wallet-transactions/${_}`,{method:"PATCH",body:{status:Qe,rejectionReason:ie}}),onSuccess:(_,Qe)=>{k.invalidateQueries({queryKey:["/api/admin/wallet-transactions"]}),k.invalidateQueries({queryKey:["/api/admin/wallet-transactions/top_up/processing"]}),k.invalidateQueries({queryKey:["/api/admin/wallet-transactions/withdrawal/processing"]}),k.invalidateQueries({queryKey:["/api/admin/wallet-transactions/failed"]}),k.invalidateQueries({queryKey:["/api/admin/wallet-transactions/approved"]}),k.invalidateQueries({queryKey:["/api/admin/wallet-transactions/rejected"]}),k.invalidateQueries({queryKey:["/api/admin/transactions"]}),y(!1),g(""),p(null);const ie=Qe.status==="approved"?"approved":"rejected";b({title:`Transaction ${ie} successfully`,description:"The transaction has been moved to the appropriate tab."})},onError:()=>{b({title:"Failed to update transaction",variant:"destructive"})}}),G=_=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(_),Oe=(_,Qe)=>{if(Qe==="failed"){p(_),y(!0);return}ce.mutate({id:_.id,status:Qe})},Ve=()=>{if(!v.trim()){b({title:"Please select a rejection reason",variant:"destructive"});return}ce.mutate({id:w.id,status:"failed",reason:v})},Ke=_=>{switch(_){case"guest_post_payment":return s.jsxs(Pe,{variant:"outline",className:"bg-blue-50 text-blue-700",children:[s.jsx(I4,{className:"w-3 h-3 mr-1"}),"Guest Post"]});case"wallet_top_up":return s.jsxs(Pe,{variant:"outline",className:"bg-green-50 text-green-700",children:[s.jsx(N4,{className:"w-3 h-3 mr-1"}),"Top-up"]});case"wallet_withdrawal":return s.jsxs(Pe,{variant:"outline",className:"bg-orange-50 text-orange-700",children:[s.jsx(b4,{className:"w-3 h-3 mr-1"}),"Withdrawal"]});case"platform_fee":return s.jsxs(Pe,{variant:"outline",className:"bg-purple-50 text-purple-700",children:[s.jsx(Bs,{className:"w-3 h-3 mr-1"}),"Platform Fee"]});case"top_up_fee":return s.jsxs(Pe,{variant:"outline",className:"bg-cyan-50 text-cyan-700",children:[s.jsx(Bs,{className:"w-3 h-3 mr-1"}),"Top-up Fee"]});case"withdrawal_fee":return s.jsxs(Pe,{variant:"outline",className:"bg-amber-50 text-amber-700",children:[s.jsx(Bs,{className:"w-3 h-3 mr-1"}),"Withdrawal Fee"]});default:return s.jsx(Pe,{variant:"outline",children:_})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Financial Management"}),s.jsx(ac,{className:"bg-blue-50 text-blue-700 px-3 py-2 rounded border border-blue-200 text-sm",showIcon:!0,showDate:!0,useAdminTimezone:!0})]}),s.jsxs(Lr,{defaultValue:t?"deposit-requests":"all-transactions",className:"space-y-6",children:[s.jsx("div",{className:"w-full",children:s.jsxs(vr,{className:`${t?"grid grid-cols-2 w-fit":"flex flex-wrap justify-start gap-1 h-auto min-h-[40px] p-1"} bg-muted rounded-lg`,children:[!t&&s.jsxs(ze,{value:"all-transactions",className:"flex-shrink-0",children:["All Transactions (",H.length,")"]}),s.jsxs(ze,{value:"deposit-requests",className:"flex-shrink-0",children:["Deposit Requests (",Q.length,")"]}),s.jsxs(ze,{value:"withdrawal-requests",className:"flex-shrink-0",children:["Withdrawal Requests (",A.length,")"]}),!t&&s.jsxs(ze,{value:"fee-records",className:"flex-shrink-0",children:["Fee Records (",K.length,")"]}),!t&&s.jsxs(ze,{value:"approved",className:"flex-shrink-0",children:["Approved (",q.length,")"]}),!t&&s.jsxs(ze,{value:"rejected",className:"flex-shrink-0",children:["Rejected (",U.length,")"]}),!t&&s.jsx(ze,{value:"user-balance",className:"flex-shrink-0",children:"User Balance"}),!t&&s.jsxs(ze,{value:"crypto-txids",className:"flex-shrink-0",children:["Crypto TxIDs (",z.length,")"]}),!t&&s.jsxs(ze,{value:"referral-records",className:"flex-shrink-0",children:["Referral Records (",ge.length+pe.length,")"]})]})}),!t&&s.jsxs(Ye,{value:"all-transactions",children:[s.jsx(Mi,{filters:u,onFilterChange:O,onClearFilters:D}),s.jsxs(J,{children:[s.jsx(fe,{children:s.jsx(xe,{children:"All Transactions"})}),s.jsx(te,{children:B?s.jsx("div",{className:"text-center py-8",children:"Loading transactions..."}):M(H).length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No transactions found"}):s.jsxs(lr,{children:[s.jsx(or,{children:s.jsxs(At,{children:[s.jsx(be,{children:"Transaction ID"}),s.jsx(be,{children:"User"}),s.jsx(be,{children:"Type"}),s.jsx(be,{children:"Amount"}),s.jsx(be,{children:"Fee"}),s.jsx(be,{children:"Description"}),s.jsx(be,{children:"Date/Time"})]})}),s.jsx(cr,{children:M(H).map(_=>s.jsxs(At,{children:[s.jsx(je,{className:"font-mono text-sm",children:_.transactionId||`TX-${_.id.slice(0,6).toUpperCase()}`}),s.jsx(je,{children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[_.user.firstName," ",_.user.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:_.user.email})]})}),s.jsx(je,{children:Ke(_.type)}),s.jsx(je,{children:G(_.amount)}),s.jsx(je,{children:_.fee?G(_.fee):s.jsx("span",{className:"text-gray-500",children:"—"})}),s.jsx(je,{className:"max-w-xs truncate",children:_.description}),s.jsx(je,{children:s.jsxs("div",{children:[s.jsx("div",{children:new Date(_.createdAt).toLocaleDateString()}),s.jsx("div",{className:"text-xs text-gray-500",children:new Date(_.createdAt).toLocaleTimeString()})]})})]},_.id))})]})})]})]}),s.jsxs(Ye,{value:"deposit-requests",children:[s.jsx(Mi,{filters:u,onFilterChange:O,onClearFilters:D}),s.jsxs(J,{children:[s.jsx(fe,{children:s.jsx(xe,{children:"Pending Deposit Requests"})}),s.jsx(te,{children:se?s.jsx("div",{className:"text-center py-8",children:"Loading deposit requests..."}):M(Q).length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No pending deposit requests"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(lr,{children:[s.jsx(or,{children:s.jsxs(At,{children:[s.jsx(be,{children:"User"}),s.jsx(be,{children:"Amount Submitted"}),s.jsx(be,{children:"Top-Up Fee"}),s.jsx(be,{children:"Payment Method"}),s.jsx(be,{children:"Date"}),s.jsx(be,{children:"Actions"})]})}),s.jsx(cr,{children:M(Q).map(_=>s.jsxs(At,{children:[s.jsx(je,{children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[_.user.firstName," ",_.user.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:_.user.email})]})}),s.jsx(je,{children:G(_.amount)}),s.jsx(je,{children:G(_.fee)}),s.jsx(je,{className:"max-w-xs truncate",children:_.paymentMethod||"N/A"}),s.jsx(je,{children:new Date(_.createdAt).toLocaleDateString()}),s.jsx(je,{children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(ot,{children:[s.jsx(us,{asChild:!0,children:s.jsx(E,{variant:"outline",size:"sm",children:s.jsx(sr,{className:"h-4 w-4"})})}),s.jsxs(ct,{children:[s.jsx(dt,{children:s.jsx(ut,{children:"Deposit Request Details"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"User"}),s.jsxs("p",{children:[_.user.firstName," ",_.user.lastName]}),s.jsx("p",{className:"text-sm text-gray-500",children:_.user.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Amount Submitted"}),s.jsx("p",{children:G(_.amount)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Top-Up Fee"}),s.jsx("p",{children:G(_.fee)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Total (Amount + Fee)"}),s.jsx("p",{className:"font-semibold text-blue-600",children:G(_.amount+_.fee)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Payment Method"}),s.jsx("p",{children:_.paymentMethod||"N/A"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"(TxID)"}),_.txId?s.jsx("p",{className:"font-mono text-sm bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded text-blue-700 dark:text-blue-300 inline-block mt-1",children:_.txId}):s.jsx("p",{className:"text-gray-400 text-sm",children:"Not provided by user"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(E,{onClick:()=>Oe(_,"approved"),disabled:ce.isPending,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(yt,{className:"h-4 w-4 mr-2"}),"Approve"]}),s.jsxs(E,{variant:"destructive",onClick:()=>Oe(_,"failed"),disabled:ce.isPending,children:[s.jsx(bn,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]})]})]}),s.jsx(E,{size:"sm",onClick:()=>Oe(_,"approved"),disabled:ce.isPending,className:"bg-green-600 hover:bg-green-700",children:s.jsx(yt,{className:"h-4 w-4"})}),s.jsx(E,{variant:"destructive",size:"sm",onClick:()=>Oe(_,"failed"),disabled:ce.isPending,children:s.jsx(bn,{className:"h-4 w-4"})})]})})]},_.id))})]})})})]})]}),s.jsxs(Ye,{value:"withdrawal-requests",children:[s.jsx(Mi,{filters:u,onFilterChange:O,onClearFilters:D}),s.jsxs(J,{children:[s.jsx(fe,{children:s.jsx(xe,{children:"Pending Withdrawal Requests"})}),s.jsx(te,{children:F?s.jsx("div",{className:"text-center py-8",children:"Loading withdrawal requests..."}):M(A).length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No pending withdrawal requests"}):s.jsxs(lr,{children:[s.jsx(or,{children:s.jsxs(At,{children:[s.jsx(be,{children:"Request ID"}),s.jsx(be,{children:"User"}),s.jsx(be,{children:"Amount Requested"}),s.jsx(be,{children:"Withdrawal Fee"}),s.jsx(be,{children:"Withdrawal Method"}),s.jsx(be,{children:"Date"}),s.jsx(be,{children:"Actions"})]})}),s.jsx(cr,{children:M(A).map(_=>s.jsxs(At,{children:[s.jsxs(je,{className:"font-mono text-sm",children:["WD-",_.id.slice(0,6).toUpperCase()]}),s.jsx(je,{children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[_.user.firstName," ",_.user.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:_.user.email})]})}),s.jsx(je,{children:G(_.amount)}),s.jsx(je,{children:G(_.fee)}),s.jsx(je,{className:"max-w-xs truncate",children:_.withdrawalMethod||"N/A"}),s.jsx(je,{children:new Date(_.createdAt).toLocaleDateString()}),s.jsx(je,{children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(ot,{children:[s.jsx(us,{asChild:!0,children:s.jsx(E,{variant:"outline",size:"sm",children:s.jsx(sr,{className:"h-4 w-4"})})}),s.jsxs(ct,{children:[s.jsx(dt,{children:s.jsx(ut,{children:"Withdrawal Request Details"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"User"}),s.jsxs("p",{children:[_.user.firstName," ",_.user.lastName]}),s.jsx("p",{className:"text-sm text-gray-500",children:_.user.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Amount Requested"}),s.jsx("p",{children:G(_.amount)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Withdrawal Fee"}),s.jsx("p",{children:G(_.fee)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Total Deducted"}),s.jsx("p",{className:"font-semibold text-red-600",children:G(_.amount+_.fee)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Withdrawal Method"}),s.jsx("p",{children:_.withdrawalMethod||"N/A"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(E,{onClick:()=>Oe(_,"approved"),disabled:ce.isPending,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(yt,{className:"h-4 w-4 mr-2"}),"Approve"]}),s.jsxs(E,{variant:"destructive",onClick:()=>Oe(_,"failed"),disabled:ce.isPending,children:[s.jsx(bn,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]})]})]}),s.jsx(E,{size:"sm",onClick:()=>Oe(_,"approved"),disabled:ce.isPending,className:"bg-green-600 hover:bg-green-700",children:s.jsx(yt,{className:"h-4 w-4"})}),s.jsx(E,{variant:"destructive",size:"sm",onClick:()=>Oe(_,"failed"),disabled:ce.isPending,children:s.jsx(bn,{className:"h-4 w-4"})})]})})]},_.id))})]})})]})]}),!t&&s.jsxs(Ye,{value:"approved",children:[s.jsx(Mi,{filters:u,onFilterChange:O,onClearFilters:D}),s.jsxs(J,{children:[s.jsx(fe,{children:s.jsx(xe,{children:"Approved Transactions"})}),s.jsx(te,{children:q.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No approved transactions"}):s.jsxs(lr,{children:[s.jsx(or,{children:s.jsxs(At,{children:[s.jsx(be,{children:"Transaction ID"}),s.jsx(be,{children:"User"}),s.jsx(be,{children:"Type"}),s.jsx(be,{children:"Amount"}),s.jsx(be,{children:"Fee"}),s.jsx(be,{children:"Payment/Withdrawal Method"}),s.jsx(be,{children:"Approved By"}),s.jsx(be,{children:"Date"})]})}),s.jsx(cr,{children:M(q).map(_=>s.jsxs(At,{children:[s.jsxs(je,{className:"font-mono text-sm",children:["TX-",_.id.slice(0,6).toUpperCase()]}),s.jsx(je,{children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[_.user.firstName," ",_.user.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:_.user.email})]})}),s.jsx(je,{children:s.jsxs(Pe,{variant:"outline",className:"bg-green-50 text-green-700",children:[s.jsx(yt,{className:"w-3 h-3 mr-1"}),_.type==="top_up"?"Top-up":"Withdrawal"]})}),s.jsx(je,{children:G(_.amount)}),s.jsx(je,{children:G(_.fee)}),s.jsx(je,{className:"max-w-xs truncate",children:_.paymentMethod||_.withdrawalMethod||"N/A"}),s.jsx(je,{children:_.approvedBy?s.jsxs("div",{className:"text-xs text-green-600",children:["Approved by ",L(_.approvedBy)||_.approvedBy]}):s.jsx("span",{className:"text-gray-400",children:"—"})}),s.jsx(je,{children:s.jsxs("div",{children:[s.jsx("div",{children:new Date(_.createdAt).toLocaleDateString()}),s.jsx("div",{className:"text-xs text-gray-500",children:new Date(_.createdAt).toLocaleTimeString()})]})})]},_.id))})]})})]})]}),!t&&s.jsxs(Ye,{value:"fee-records",children:[s.jsx(Mi,{filters:u,onFilterChange:O,onClearFilters:D}),s.jsxs(J,{children:[s.jsx(fe,{children:s.jsx(xe,{children:"Fee Records"})}),s.jsx(te,{children:I?s.jsx("div",{className:"text-center py-8",children:"Loading fee records..."}):M(K).length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No fee records found"}):s.jsxs(lr,{children:[s.jsx(or,{children:s.jsxs(At,{children:[s.jsx(be,{children:"Reference ID"}),s.jsx(be,{children:"User"}),s.jsx(be,{children:"Type"}),s.jsx(be,{children:"Amount"}),s.jsx(be,{children:"Original Amount"}),s.jsx(be,{children:"Status"}),s.jsx(be,{children:"Date"})]})}),s.jsx(cr,{children:M(K).map(_=>s.jsxs(At,{children:[s.jsx(je,{className:"font-mono text-sm",children:_.referenceId}),s.jsx(je,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:_.username}),s.jsx("div",{className:"text-sm text-gray-500",children:_.email})]})}),s.jsx(je,{children:Ke(_.feeType)}),s.jsx(je,{children:G(_.amount)}),s.jsx(je,{children:G(_.originalAmount)}),s.jsx(je,{children:s.jsx(Pe,{variant:"outline",className:"bg-green-50 text-green-700",children:_.status})}),s.jsx(je,{children:new Date(_.dateTime).toLocaleDateString()})]},_.id))})]})})]})]}),!t&&s.jsxs(Ye,{value:"rejected",children:[s.jsx(Mi,{filters:u,onFilterChange:O,onClearFilters:D}),s.jsxs(J,{children:[s.jsx(fe,{children:s.jsx(xe,{children:"Rejected Transactions"})}),s.jsx(te,{children:Z?s.jsx("div",{className:"text-center py-8",children:"Loading rejected transactions..."}):M(U).length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No rejected transactions"}):s.jsxs(lr,{children:[s.jsx(or,{children:s.jsxs(At,{children:[s.jsx(be,{children:"Transaction ID"}),s.jsx(be,{children:"User"}),s.jsx(be,{children:"Type"}),s.jsx(be,{children:"Amount"}),s.jsx(be,{children:"Fee"}),s.jsx(be,{children:"Reason"}),s.jsx(be,{children:"Date"})]})}),s.jsx(cr,{children:M(U).map(_=>s.jsxs(At,{children:[s.jsxs(je,{className:"font-mono text-sm",children:[_.type==="top_up"?"TX-":"WD-",_.id.slice(0,6).toUpperCase()]}),s.jsx(je,{children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[_.user.firstName," ",_.user.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:_.user.email})]})}),s.jsx(je,{children:s.jsxs(Pe,{variant:"outline",className:"bg-red-50 text-red-700",children:[s.jsx(Fd,{className:"w-3 h-3 mr-1"}),_.type==="top_up"?"Top-up":"Withdrawal"]})}),s.jsx(je,{children:G(_.amount)}),s.jsx(je,{children:G(_.fee)}),s.jsx(je,{children:s.jsxs("div",{children:[s.jsx("div",{children:_.adminNote||_.rejectionReason||"No reason provided"}),_.rejectedBy&&s.jsxs("div",{className:"text-xs text-red-600 mt-1",children:["Rejected by ",L(_.rejectedBy)||_.rejectedBy]})]})}),s.jsx(je,{children:s.jsxs("div",{children:[s.jsx("div",{children:new Date(_.createdAt).toLocaleDateString()}),s.jsx("div",{className:"text-xs text-gray-500",children:new Date(_.createdAt).toLocaleTimeString()})]})})]},_.id))})]})})]})]}),!t&&s.jsx(Ye,{value:"user-balance",children:s.jsxs(J,{children:[s.jsx(fe,{children:s.jsx(xe,{children:"User Balance Management"})}),s.jsxs(te,{className:"space-y-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(W,{htmlFor:"search-email",children:"Search User by Email"}),s.jsx(re,{id:"search-email",type:"email",placeholder:"Enter user email address",value:r,onChange:_=>n(_.target.value),onKeyPress:_=>_.key==="Enter"&&P()})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(E,{onClick:P,disabled:!r.trim()||S.isPending,children:S.isPending?"Searching...":"Search"})})]})}),a&&s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-800",children:[s.jsx("h3",{className:"font-semibold mb-4",children:"User Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx(W,{className:"text-sm font-medium",children:"Name"}),s.jsxs("p",{className:"text-sm",children:[a.firstName," ",a.lastName]})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm font-medium",children:"Username"}),s.jsx("p",{className:"text-sm",children:a.username})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm font-medium",children:"Email"}),s.jsx("p",{className:"text-sm",children:a.email})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm font-medium",children:"Current Balance"}),s.jsx("p",{className:"text-sm font-semibold text-green-600",children:G(a.balance)})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Update Balance"}),s.jsxs("div",{className:"flex gap-4 items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(W,{htmlFor:"balance-amount",children:"Amount ($)"}),s.jsx(re,{id:"balance-amount",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:l,onChange:_=>o(_.target.value)})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"balance-operation",children:"Operation"}),s.jsxs(vt,{value:c,onValueChange:_=>d(_),children:[s.jsx(ft,{className:"w-32",children:s.jsx(jt,{})}),s.jsxs(xt,{children:[s.jsx(de,{value:"add",children:"Add"}),s.jsx(de,{value:"subtract",children:"Subtract"})]})]})]}),s.jsx(E,{onClick:N,disabled:!l||parseFloat(l)<=0||C.isPending,className:c==="add"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700",children:C.isPending?"Updating...":`${c==="add"?"Add":"Subtract"} $${l||"0.00"}`})]})]})]}),!a&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Search for a user by email to manage their balance"})]})]})}),!t&&s.jsx(Ye,{value:"crypto-txids",children:s.jsxs(J,{children:[s.jsx(fe,{children:s.jsx(xe,{children:"Crypto Transaction IDs"})}),s.jsxs(te,{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx(W,{htmlFor:"crypto-search",children:"Search by TxID"}),s.jsx(re,{id:"crypto-search",placeholder:"Search by transaction ID...",value:f,onChange:_=>j(_.target.value),className:"max-w-md"})]}),ee?s.jsx("div",{className:"text-center py-8",children:"Loading crypto TxIDs..."}):z.filter(_=>_.txId.toLowerCase().includes(f.toLowerCase())).length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:f?"No matching crypto TxIDs found":"No crypto TxIDs found"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(lr,{children:[s.jsx(or,{children:s.jsxs(At,{children:[s.jsx(be,{children:"TxID"}),s.jsx(be,{children:"Username"}),s.jsx(be,{children:"User"}),s.jsx(be,{children:"Amount"}),s.jsx(be,{children:"Status"}),s.jsx(be,{children:"Created"}),s.jsx(be,{children:"Wallet Transaction"})]})}),s.jsx(cr,{children:z.filter(_=>_.txId.toLowerCase().includes(f.toLowerCase())).map(_=>s.jsxs(At,{children:[s.jsx(je,{className:"font-mono text-sm bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded",children:_.txId}),s.jsx(je,{className:"font-medium",children:_.username}),s.jsx(je,{children:s.jsx("div",{children:s.jsxs("div",{className:"font-medium",children:[_.first_name," ",_.last_name]})})}),s.jsx(je,{children:_.amount?G(_.amount):s.jsx("span",{className:"text-gray-500",children:"—"})}),s.jsx(je,{children:_.status?s.jsx(Pe,{variant:_.status==="approved"?"default":_.status==="processing"?"secondary":"destructive",children:_.status}):s.jsx("span",{className:"text-gray-500",children:"—"})}),s.jsx(je,{children:s.jsxs("div",{children:[s.jsx("div",{children:new Date(_.createdAt).toLocaleDateString()}),s.jsx("div",{className:"text-xs text-gray-500",children:new Date(_.createdAt).toLocaleTimeString()})]})}),s.jsx(je,{className:"font-mono text-xs",children:_.walletTransactionId})]},_.id))})]})})]})]})}),!t&&s.jsx(Ye,{value:"referral-records",children:s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsx(xe,{children:"Referral Records Management"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Track referral commissions and their payment status"})]}),s.jsx(te,{children:s.jsxs(Lr,{defaultValue:"pending",className:"w-full",children:[s.jsxs(vr,{className:"grid w-full grid-cols-2",children:[s.jsxs(ze,{value:"pending",children:["Pending (",ge.length,")"]}),s.jsxs(ze,{value:"paid",children:["Paid (",pe.length,")"]})]}),s.jsx(Ye,{value:"pending",className:"mt-6",children:Y?s.jsx("div",{className:"text-center py-8",children:"Loading pending referrals..."}):ge.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No pending referral commissions"}):s.jsxs(lr,{children:[s.jsx(or,{children:s.jsxs(At,{children:[s.jsx(be,{children:"Referrer"}),s.jsx(be,{children:"Referred User"}),s.jsx(be,{children:"Commission Amount"}),s.jsx(be,{children:"Status"}),s.jsx(be,{children:"Created Date"})]})}),s.jsx(cr,{children:ge.map(_=>s.jsxs(At,{children:[s.jsx(je,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:_.referrerUsername}),s.jsx("div",{className:"text-sm text-gray-500",children:_.referrerEmail})]})}),s.jsx(je,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:_.referredUsername}),s.jsx("div",{className:"text-sm text-gray-500",children:_.referredEmail})]})}),s.jsx(je,{children:s.jsxs(Pe,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:["$",(_.referralAmount||3).toFixed(2)]})}),s.jsx(je,{children:s.jsx(Pe,{variant:"outline",className:"bg-orange-50 text-orange-700",children:"Pending"})}),s.jsx(je,{children:new Date(_.createdAt).toLocaleDateString()})]},_.id))})]})}),s.jsx(Ye,{value:"paid",className:"mt-6",children:Le?s.jsx("div",{className:"text-center py-8",children:"Loading paid referrals..."}):pe.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No paid referral commissions"}):s.jsxs(lr,{children:[s.jsx(or,{children:s.jsxs(At,{children:[s.jsx(be,{children:"Referrer"}),s.jsx(be,{children:"Referred User"}),s.jsx(be,{children:"Commission Amount"}),s.jsx(be,{children:"Status"}),s.jsx(be,{children:"Order ID"}),s.jsx(be,{children:"Paid Date"})]})}),s.jsx(cr,{children:pe.map(_=>s.jsxs(At,{children:[s.jsx(je,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:_.referrerUsername}),s.jsx("div",{className:"text-sm text-gray-500",children:_.referrerEmail})]})}),s.jsx(je,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:_.referredUsername}),s.jsx("div",{className:"text-sm text-gray-500",children:_.referredEmail})]})}),s.jsx(je,{children:s.jsxs(Pe,{variant:"outline",className:"bg-green-50 text-green-700",children:["$",(_.referralAmount||0).toFixed(2)]})}),s.jsx(je,{children:s.jsx(Pe,{variant:"outline",className:"bg-green-50 text-green-700",children:"Paid"})}),s.jsx(je,{children:s.jsx("span",{className:"text-sm font-mono",children:_.orderId||"N/A"})}),s.jsx(je,{children:_.updatedAt?new Date(_.updatedAt).toLocaleDateString():"N/A"})]},_.id))})]})})]})})]})})]}),s.jsx(ot,{open:x,onOpenChange:y,children:s.jsxs(ct,{children:[s.jsxs(dt,{children:[s.jsx(ut,{children:"Reject Transaction"}),s.jsx(Ls,{children:"Select a reason for rejecting this transaction."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"rejection-reason",children:"Rejection Reason"}),s.jsxs(vt,{value:v,onValueChange:g,children:[s.jsx(ft,{children:s.jsx(jt,{placeholder:"Select a rejection reason"})}),s.jsx(xt,{children:Fe.map(_=>s.jsx(de,{value:_.reasonText,children:_.reasonText},_.id))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(E,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),s.jsx(E,{variant:"destructive",onClick:Ve,disabled:ce.isPending||!v,children:"Reject Transaction"})]})]})]})})]})}function mF(){const[e,t]=m.useState(null),[r,n]=m.useState(""),[a,i]=m.useState("all"),[l,o]=m.useState("all"),[c,d]=m.useState("all"),{toast:u}=at(),h=m.useRef(null),x=m.useRef(null),{data:y=[],isLoading:v}=ae({queryKey:["/api/admin/support/tickets",a,l,c],refetchInterval:1e4}),{data:g=[],isLoading:w}=ae({queryKey:["/api/support/tickets",e==null?void 0:e.id,"messages"],enabled:!!(e!=null&&e.id),refetchInterval:3e3});m.useEffect(()=>{if(x.current){const N=x.current.querySelector("[data-radix-scroll-area-viewport]");N&&(N.scrollTop=N.scrollHeight)}},[g]);const p=Ee({mutationFn:async N=>await ve(`/api/admin/support/tickets/${N.ticketId}/reply`,{method:"POST",body:{message:N.message}}),onSuccess:()=>{Zt.invalidateQueries({queryKey:["/api/support/tickets",e==null?void 0:e.id,"messages"]}),Zt.invalidateQueries({queryKey:["/api/admin/support/tickets"]}),n(""),u({title:"Message sent successfully",description:"Your reply has been sent to the user."})},onError:()=>{u({title:"Failed to send message",variant:"destructive"})}}),f=Ee({mutationFn:async N=>await ve(`/api/admin/support/tickets/${N.ticketId}/status`,{method:"PUT",body:{status:N.status}}),onSuccess:()=>{Zt.invalidateQueries({queryKey:["/api/admin/support/tickets"]}),Zt.invalidateQueries({queryKey:["/api/support/tickets",e==null?void 0:e.id,"messages"]}),Zt.refetchQueries({queryKey:["/api/admin/support/tickets"]}),e&&t(N=>N?{...N,status:N.status}:null),u({title:"Status updated successfully",description:"The ticket status has been updated."})},onError:()=>{u({title:"Failed to update status",variant:"destructive"})}}),j=()=>{!e||!r.trim()||p.mutate({ticketId:e.id,message:r})},b=N=>{e&&(t({...e,status:N}),f.mutate({ticketId:e.id,status:N}))},k=N=>{const O={open:{variant:"outline",icon:gs,label:"Open"},replied:{variant:"default",icon:is,label:"Replied"},investigating:{variant:"secondary",icon:sr,label:"Investigating"},resolved:{variant:"default",icon:yt,label:"Resolved"},closed:{variant:"secondary",icon:In,label:"Closed"}},D=O[N]||O.open,M=D.icon;return s.jsxs(Pe,{variant:D.variant,className:"flex items-center gap-1",children:[s.jsx(M,{className:"h-3 w-3"}),D.label]})},S=N=>{const O={low:"outline",medium:"secondary",high:"default",urgent:"destructive"};return s.jsx(Pe,{variant:O[N]||"outline",children:N.charAt(0).toUpperCase()+N.slice(1)})},C=y.filter(N=>!(a!=="all"&&N.status!==a||l!=="all"&&N.priority!==l||c!=="all"&&N.category!==c)),P=y.reduce((N,O)=>(N.total++,O.status==="open"&&N.open++,O.status==="replied"&&N.replied++,O.priority==="urgent"&&N.urgent++,N),{total:0,open:0,replied:0,urgent:0});return v?s.jsx("div",{className:"p-6",children:"Loading support tickets..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(J,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tickets"}),s.jsx("p",{className:"text-2xl font-bold",children:P.total})]}),s.jsx(Od,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(J,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Open Tickets"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:P.open})]}),s.jsx(gs,{className:"h-8 w-8 text-orange-600"})]})})}),s.jsx(J,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Awaiting Response"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:P.replied})]}),s.jsx(is,{className:"h-8 w-8 text-blue-600"})]})})}),s.jsx(J,{children:s.jsx(te,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Urgent"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:P.urgent})]}),s.jsx(sc,{className:"h-8 w-8 text-red-600"})]})})})]}),s.jsxs(J,{children:[s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Od,{className:"h-5 w-5"}),"Support Tickets"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yp,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs(vt,{value:a,onValueChange:i,children:[s.jsx(ft,{className:"w-32",children:s.jsx(jt,{placeholder:"Status"})}),s.jsxs(xt,{children:[s.jsx(de,{value:"all",children:"All Status"}),s.jsx(de,{value:"open",children:"Open"}),s.jsx(de,{value:"replied",children:"Replied"}),s.jsx(de,{value:"investigating",children:"Investigating"}),s.jsx(de,{value:"resolved",children:"Resolved"}),s.jsx(de,{value:"closed",children:"Closed"})]})]}),s.jsxs(vt,{value:l,onValueChange:o,children:[s.jsx(ft,{className:"w-32",children:s.jsx(jt,{placeholder:"Priority"})}),s.jsxs(xt,{children:[s.jsx(de,{value:"all",children:"All Priority"}),s.jsx(de,{value:"urgent",children:"Urgent"}),s.jsx(de,{value:"high",children:"High"}),s.jsx(de,{value:"medium",children:"Medium"}),s.jsx(de,{value:"low",children:"Low"})]})]}),s.jsxs(vt,{value:c,onValueChange:d,children:[s.jsx(ft,{className:"w-32",children:s.jsx(jt,{placeholder:"Category"})}),s.jsxs(xt,{children:[s.jsx(de,{value:"all",children:"All Categories"}),s.jsx(de,{value:"technical",children:"Technical"}),s.jsx(de,{value:"billing",children:"Billing"}),s.jsx(de,{value:"account",children:"Account"}),s.jsx(de,{value:"general",children:"General"})]})]})]})]})}),s.jsx(te,{children:s.jsxs("div",{className:"flex h-[600px]",children:[s.jsx("div",{className:"w-1/2 border-r pr-4",children:s.jsx(Ll,{className:"h-full",children:s.jsx("div",{className:"space-y-3",children:C.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Od,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No tickets found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your filters"})]}):C.map(N=>s.jsx(J,{className:`cursor-pointer transition-colors ${(e==null?void 0:e.id)===N.id?"border-primary bg-primary/5":"hover:bg-muted/50"}`,onClick:()=>t(N),children:s.jsxs(te,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold text-sm",children:N.ticketNumber}),k(N.status)]}),S(N.priority)]}),s.jsx("h4",{className:"font-medium text-sm mb-1 line-clamp-1",children:N.subject}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mb-2",children:N.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Dn,{className:"h-3 w-3"}),s.jsxs("span",{children:[N.user.firstName," ",N.user.lastName]})]}),s.jsx("span",{children:ya(new Date(N.createdAt),"MMM d, HH:mm")})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mt-1",children:[s.jsx("span",{className:"capitalize",children:N.category}),s.jsx("span",{children:N.user.email})]})]})},N.id))})})}),s.jsx("div",{className:"w-1/2 pl-4",children:e?s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"border-b pb-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:e.ticketNumber}),k(e.status),S(e.priority)]}),s.jsxs(vt,{value:e.status,onValueChange:b,disabled:f.isPending,children:[s.jsx(ft,{className:"w-40",children:s.jsx(jt,{})}),s.jsxs(xt,{children:[s.jsx(de,{value:"open",children:"Open"}),s.jsx(de,{value:"investigating",children:"Investigating"}),s.jsx(de,{value:"replied",children:"Replied"}),s.jsx(de,{value:"resolved",children:"Resolved"}),s.jsx(de,{value:"closed",children:"Closed"})]})]})]}),s.jsx("h3",{className:"font-medium mb-2",children:e.subject}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Dn,{className:"h-4 w-4"}),s.jsxs("span",{children:[e.user.firstName," ",e.user.lastName]})]}),s.jsx("span",{children:e.user.email}),s.jsx("span",{className:"capitalize",children:e.category}),s.jsx("span",{children:ya(new Date(e.createdAt),"MMM d, yyyy 'at' HH:mm")})]}),s.jsx("div",{className:"mt-2 p-3 bg-muted rounded-lg",children:s.jsx("p",{className:"text-sm",children:e.description})})]}),s.jsx(Ll,{ref:x,className:"flex-1 mb-4",children:s.jsxs("div",{className:"space-y-4",children:[w?s.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Loading messages..."}):g.length===0?s.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[s.jsx(is,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No messages yet"}),s.jsx("p",{className:"text-xs",children:"Start the conversation by sending a reply"})]}):g.map(N=>s.jsx("div",{className:`w-full flex ${N.sender==="admin"?"justify-end":"justify-start"} px-2`,children:s.jsxs("div",{className:`max-w-[90%] sm:max-w-[80%] md:max-w-[70%] p-3 rounded-lg ${N.sender==="admin"?"bg-primary text-primary-foreground":"bg-muted"}`,style:{wordWrap:"break-word",overflowWrap:"break-word"},children:[s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsx("span",{className:"text-xs font-semibold",children:N.sender==="admin"?N.senderName||"Support Team":`${e.user.firstName} ${e.user.lastName}`})}),s.jsx("div",{className:"text-sm leading-relaxed",style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:N.message}),s.jsx("p",{className:"text-xs opacity-70 mt-2",children:ya(new Date(N.createdAt),"MMM d, HH:mm")})]})},N.id)),s.jsx("div",{ref:h})]})}),e.status!=="closed"&&s.jsx("div",{className:"border-t pt-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(Jt,{placeholder:"Type your reply...",value:r,onChange:N=>n(N.target.value),rows:3,className:"resize-none",onKeyDown:N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),j())}}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(E,{onClick:j,disabled:!r.trim()||p.isPending,className:"flex items-center gap-2",children:[s.jsx(_c,{className:"h-4 w-4"}),"Send Reply"]})})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:s.jsxs("div",{className:"text-center",children:[s.jsx(is,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Select a ticket to view details"}),s.jsx("p",{className:"text-sm",children:"Choose a ticket from the list to start responding"})]})})})]})})]})]})}function hF(){const[e,t]=m.useState(null),[r,n]=m.useState(null),[a,i]=m.useState(null);m.useState("add");const[l,o]=m.useState(""),[c,d]=m.useState(""),[u,h]=m.useState(null),[x,y]=m.useState(""),[v,g]=m.useState(""),[w,p]=m.useState(""),[f,j]=m.useState(""),b=Nt(),{toast:k}=at(),{data:S=[],isLoading:C}=ae({queryKey:["/api/admin/users"]}),{data:P=[]}=ae({queryKey:["/api/admin/banned-ips"]}),{data:N=[]}=ae({queryKey:["/api/admin/banned-emails"]});ae({queryKey:["/api/admin/security/locked-ips"]});const O=async I=>{try{const z=await fetch(`/api/admin/users/${I}/summary`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});if(!z.ok)throw new Error("Failed to fetch user summary");const ee=await z.json();n(ee)}catch{k({title:"Failed to fetch user summary",variant:"destructive"})}},D=Ee({mutationFn:async I=>{await ve(`/api/admin/users/${I.id}`,{method:"PATCH",body:I})},onSuccess:()=>{b.invalidateQueries({queryKey:["/api/admin/users"]}),k({title:"User updated successfully"}),i(null)},onError:()=>{k({title:"Failed to update user",variant:"destructive"})}});Ee({mutationFn:async I=>{await ve("/api/admin/user-balance",{method:"POST",body:{userId:I.userId,operation:I.action==="deduct"?"subtract":I.action,amount:I.amount}})},onSuccess:()=>{b.invalidateQueries({queryKey:["/api/admin/users"]}),k({title:"Balance updated successfully"}),t(null),o("")},onError:()=>{k({title:"Failed to update balance",variant:"destructive"})}});const M=Ee({mutationFn:async I=>await ve("/api/admin/user-balance",{method:"POST",body:I}),onSuccess:I=>{b.invalidateQueries({queryKey:["/api/admin/users"]}),k({title:"Balance updated successfully"}),o(""),u&&h({...u,balance:I.newBalance})},onError:I=>{k({title:I.message||"Failed to update balance",variant:"destructive"})}}),H=Ee({mutationFn:async I=>await ve("/api/admin/user-balance-by-email",{method:"POST",body:{email:I}}),onSuccess:I=>{h(I),k({title:"User found successfully"})},onError:()=>{h(null),k({title:"User not found",variant:"destructive"})}}),B=Ee({mutationFn:async I=>await ve("/api/admin/ban-ip",{method:"POST",body:I}),onSuccess:()=>{b.invalidateQueries({queryKey:["/api/admin/banned-ips"]}),k({title:"IP address banned successfully"}),y(""),g("")},onError:()=>{k({title:"Failed to ban IP address",variant:"destructive"})}}),Q=Ee({mutationFn:async I=>await ve("/api/admin/ban-email",{method:"POST",body:I}),onSuccess:()=>{b.invalidateQueries({queryKey:["/api/admin/banned-emails"]}),k({title:"Email address banned successfully"}),p(""),j("")},onError:()=>{k({title:"Failed to ban email address",variant:"destructive"})}}),se=I=>{const z=I.status==="active"?"banned":"active";D.mutate({id:I.id,status:z})},A=I=>{if(!u||!l)return;const z=parseFloat(l);M.mutate({userId:u.id,operation:I,amount:z})},F=()=>{c.trim()&&H.mutate(c.trim())},U=()=>{x.trim()&&B.mutate({ipAddress:x.trim(),reason:v.trim()||"Banned by admin"})},Z=()=>{w.trim()&&Q.mutate({email:w.trim(),reason:f.trim()||"Banned by admin"})};Ee({mutationFn:async I=>{await ve("/api/admin/security/unlock-ip",{method:"POST",body:{ipAddress:I}})},onSuccess:()=>{b.invalidateQueries({queryKey:["/api/admin/security/locked-ips"]}),k({title:"IP address unlocked successfully"})},onError:()=>{k({title:"Failed to unlock IP address",variant:"destructive"})}});const q=Ee({mutationFn:async I=>{await ve(`/api/admin/banned-ips/${I}`,{method:"DELETE"})},onSuccess:()=>{b.invalidateQueries({queryKey:["/api/admin/banned-ips"]}),k({title:"IP address unbanned successfully"})},onError:()=>{k({title:"Failed to unban IP address",variant:"destructive"})}}),K=Ee({mutationFn:async I=>{await ve(`/api/admin/banned-emails/${I}`,{method:"DELETE"})},onSuccess:()=>{b.invalidateQueries({queryKey:["/api/admin/banned-emails"]}),k({title:"Email address unbanned successfully"})},onError:()=>{k({title:"Failed to unban email address",variant:"destructive"})}});return C?s.jsx("div",{className:"p-6",children:"Loading users..."}):s.jsx("div",{className:"space-y-6",children:s.jsxs(Lr,{defaultValue:"users",className:"w-full",children:[s.jsxs(vr,{className:"grid w-full grid-cols-3",children:[s.jsx(ze,{value:"users",children:"Users"}),s.jsx(ze,{value:"balance",children:"User Balance"}),s.jsx(ze,{value:"security",children:"Security Users"})]}),s.jsx(Ye,{value:"users",children:s.jsxs(J,{children:[s.jsx(fe,{children:s.jsx(xe,{children:"User Management"})}),s.jsx(te,{children:s.jsxs(lr,{children:[s.jsx(or,{children:s.jsxs(At,{children:[s.jsx(be,{children:"User"}),s.jsx(be,{children:"Email"}),s.jsx(be,{children:"Status"}),s.jsx(be,{children:"Role"}),s.jsx(be,{children:"Balance"}),s.jsx(be,{children:"Registration IP"}),s.jsx(be,{children:"Last Login IP"}),s.jsx(be,{children:"Joined"}),s.jsx(be,{children:"Actions"})]})}),s.jsx(cr,{children:S.map(I=>{var z;return s.jsxs(At,{children:[s.jsx(je,{children:s.jsxs("div",{children:[s.jsx("div",{className:"mb-1",children:s.jsx(Pe,{variant:I.status==="active"?"default":"destructive",className:"mr-2",children:I.status.toUpperCase()})}),s.jsxs("div",{className:"font-medium",children:[I.firstName," ",I.lastName]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["@",I.username]})]})}),s.jsx(je,{children:I.email}),s.jsx(je,{children:s.jsx(Pe,{variant:I.status==="active"?"default":"destructive",children:I.status})}),s.jsx(je,{children:s.jsx(Pe,{variant:I.role==="admin"?"secondary":"outline",children:I.role})}),s.jsxs(je,{children:["$",(((z=I.wallet)==null?void 0:z.balance)||0).toFixed(2)]}),s.jsx(je,{className:"text-xs text-gray-600",children:I.registrationIp||"N/A"}),s.jsx(je,{className:"text-xs text-gray-600",children:I.lastLoginIp||"N/A"}),s.jsx(je,{children:new Date(I.createdAt).toLocaleDateString()}),s.jsx(je,{children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(ot,{children:[s.jsx(us,{asChild:!0,children:s.jsx(E,{variant:"outline",size:"sm",onClick:()=>{t(I),O(I.id)},children:s.jsx(sr,{className:"h-4 w-4"})})}),s.jsxs(ct,{children:[s.jsx(dt,{children:s.jsx(ut,{children:"User Details"})}),e&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium",children:[e.firstName," ",e.lastName]}),s.jsx("p",{className:"text-sm text-gray-600",children:e.email})]}),r&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded",children:[s.jsx("div",{className:"text-2xl font-bold",children:r.totalSales}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Sales"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded",children:[s.jsx("div",{className:"text-2xl font-bold",children:r.totalExchanges}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Exchanges"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded",children:[s.jsx("div",{className:"text-2xl font-bold",children:r.activeDomains}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active Domains"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded",children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",r.balance.toFixed(2)]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Balance"})]})]})]})]})]}),s.jsxs(E,{variant:I.status==="active"?"destructive":"default",size:"sm",onClick:()=>se(I),children:[s.jsx(Fd,{className:"h-4 w-4"}),I.status==="active"?"Ban":"Unban"]})]})})]},I.id)})})]})})]})}),s.jsx(Ye,{value:"settings",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(J,{children:[s.jsx(fe,{children:s.jsx(xe,{children:"Banned IP Addresses"})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(re,{placeholder:"IP Address",value:x,onChange:I=>y(I.target.value)}),s.jsx(re,{placeholder:"Reason",value:v,onChange:I=>g(I.target.value)}),s.jsx(E,{onClick:U,children:s.jsx(yr,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:P.map(I=>s.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:I.ipAddress}),s.jsx("div",{className:"text-sm text-gray-600",children:I.reason})]}),s.jsx(Pe,{variant:"destructive",children:"Banned"})]},I.id))})]})})]}),s.jsxs(J,{children:[s.jsx(fe,{children:s.jsx(xe,{children:"Banned Email Addresses"})}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(re,{placeholder:"Email Address",value:w,onChange:I=>p(I.target.value)}),s.jsx(re,{placeholder:"Reason",value:f,onChange:I=>j(I.target.value)}),s.jsx(E,{onClick:Z,children:s.jsx(yr,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:N.map(I=>s.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:I.email}),s.jsx("div",{className:"text-sm text-gray-600",children:I.reason})]}),s.jsx(Pe,{variant:"destructive",children:"Banned"})]},I.id))})]})})]})]})}),s.jsx(Ye,{value:"balance",children:s.jsxs(J,{children:[s.jsx(fe,{children:s.jsx(xe,{children:"User Balance Management"})}),s.jsx(te,{children:s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Search User by Email"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(re,{placeholder:"Enter user email address",value:c,onChange:I=>d(I.target.value)}),s.jsx(E,{onClick:F,children:s.jsx(di,{className:"h-4 w-4"})})]})]}),u&&s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium",children:[u.firstName," ",u.lastName]}),s.jsx("p",{className:"text-sm text-gray-600",children:u.email}),s.jsxs("p",{className:"text-lg font-bold",children:["Current Balance: $",u.balance.toFixed(2)]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{children:"Amount"}),s.jsx(re,{type:"number",placeholder:"Enter amount",value:l,onChange:I=>o(I.target.value)})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(E,{onClick:()=>A("add"),className:"flex-1",children:"Add Balance"}),s.jsx(E,{onClick:()=>A("subtract"),variant:"destructive",className:"flex-1",children:"Extract Balance"})]})]})]})})})]})}),s.jsx(Ye,{value:"security",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsx(xe,{children:"Banned IP Addresses"}),s.jsx("p",{className:"text-sm text-gray-600",children:"IP addresses that have been permanently banned"})]}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(re,{placeholder:"Enter IP address to ban",value:x,onChange:I=>y(I.target.value)}),s.jsx(re,{placeholder:"Reason for ban",value:v,onChange:I=>g(I.target.value)}),s.jsxs(E,{onClick:U,children:[s.jsx(Fd,{className:"h-4 w-4 mr-2"}),"Ban IP"]})]}),P.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No IP addresses are currently banned"}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm font-medium text-gray-700",children:[s.jsx("div",{children:"IP Address"}),s.jsx("div",{children:"Reason"}),s.jsx("div",{children:"Banned Date"}),s.jsx("div",{children:"Action"})]}),P.map(I=>s.jsxs("div",{className:"grid grid-cols-4 gap-4 items-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[s.jsx("div",{className:"font-mono text-sm",children:I.ipAddress}),s.jsx("div",{className:"text-sm text-gray-600",children:I.reason}),s.jsx("div",{className:"text-sm text-gray-600",children:new Date(I.createdAt).toLocaleDateString()}),s.jsx("div",{children:s.jsx(E,{variant:"outline",size:"sm",onClick:()=>q.mutate(I.id),disabled:q.isPending,children:"Unban"})})]},I.id))]})]})})]}),s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsx(xe,{children:"Banned Email Addresses"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Email addresses that have been banned from registration"})]}),s.jsx(te,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(re,{placeholder:"Enter email address to ban",value:w,onChange:I=>p(I.target.value)}),s.jsx(re,{placeholder:"Reason for ban",value:f,onChange:I=>j(I.target.value)}),s.jsxs(E,{onClick:Z,children:[s.jsx(Fd,{className:"h-4 w-4 mr-2"}),"Ban Email"]})]}),N.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No email addresses are currently banned"}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm font-medium text-gray-700",children:[s.jsx("div",{children:"Email Address"}),s.jsx("div",{children:"Reason"}),s.jsx("div",{children:"Banned Date"}),s.jsx("div",{children:"Action"})]}),N.map(I=>s.jsxs("div",{className:"grid grid-cols-4 gap-4 items-center p-3 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[s.jsx("div",{className:"text-sm",children:I.email}),s.jsx("div",{className:"text-sm text-gray-600",children:I.reason}),s.jsx("div",{className:"text-sm text-gray-600",children:new Date(I.createdAt).toLocaleDateString()}),s.jsx("div",{children:s.jsx(E,{variant:"outline",size:"sm",onClick:()=>K.mutate(I.id),disabled:K.isPending,children:"Unban"})})]},I.id))]})]})})]})]})})]})})}const fF=Hl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),cx=m.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:Se(fF({variant:t}),e),...r}));cx.displayName="Alert";const xF=m.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:Se("mb-1 font-medium leading-none tracking-tight",e),...t}));xF.displayName="AlertTitle";const dx=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Se("text-sm [&_p]:leading-relaxed",e),...t}));dx.displayName="AlertDescription";function pF(){const[e,t]=m.useState(null),[r,n]=m.useState(""),[a,i]=m.useState(""),[l,o]=m.useState(""),[c,d]=m.useState([]),[u,h]=m.useState(500),[x,y]=m.useState(1e5),[v,g]=m.useState(500),[w,p]=m.useState(1e5),[f,j]=m.useState(!0),[b,k]=m.useState(!0),[S,C]=m.useState(null),{toast:P}=at(),N=Nt(),{data:O=[],isLoading:D}=ae({queryKey:["/api/admin/payment-gateways"]});m.useEffect(()=>{if(O.length>0&&!e){const q=O.find(K=>K.name==="crypto")||O[0];t(q)}},[O,e]),m.useEffect(()=>{if(e){n(e.displayName||""),i(e.walletAddress||""),o(e.qrCodeImagePath||""),h(e.minDepositAmount),y(e.maxDepositAmount),g(e.minWithdrawalAmount),p(e.maxWithdrawalAmount),j(e.isActive),k(e.qrEnabled??!0);let q=[];if(e.instructions)try{const K=JSON.parse(e.instructions);Array.isArray(K)?q=K.map((I,z)=>({id:`inst-${z}`,text:typeof I=="string"?I:I.text||""})):typeof K=="string"&&(q=K.split(`
`).filter(I=>I.trim()).map((I,z)=>({id:`inst-${z}`,text:I.trim()})))}catch{q=(e.instructions||"").split(`
`).filter(K=>K.trim()).map((K,I)=>({id:`inst-${I}`,text:K.trim()}))}q.length===0&&(q=[{id:"inst-0",text:"Send USDT (TRC20) to the wallet address shown above"},{id:"inst-1",text:"The minimum deposit amount is $5.00"},{id:"inst-2",text:"Funds will be credited to your account within 10-15 minutes after blockchain confirmation"},{id:"inst-3",text:"Make sure to send only USDT on the TRON network (TRC20)"},{id:"inst-4",text:"Do not send any other cryptocurrency to this address"}]),d(q)}},[e]);const M=Ee({mutationFn:async q=>{if(!e)throw new Error("No gateway selected");return await ve(`/api/admin/payment-gateways/${e.id}`,{method:"PUT",body:q})},onSuccess:()=>{N.invalidateQueries({queryKey:["/api/admin/payment-gateways"]}),P({title:"Payment gateway updated successfully!",description:"All changes have been saved."})},onError:q=>{console.error("Error updating payment gateway:",q),P({title:"Failed to update payment gateway",description:"Please try again.",variant:"destructive"})}}),H=()=>{if(!e)return;const q=c.map(K=>K.text).filter(K=>K.trim());M.mutate({displayName:r,walletAddress:a,qrCodeImagePath:l,qrEnabled:b,instructions:JSON.stringify(q),minDepositAmount:u,maxDepositAmount:x,minWithdrawalAmount:v,maxWithdrawalAmount:w,isActive:f})},B=async q=>{try{const K=new FormData;K.append("file",q);const I=new URLSearchParams;l&&I.append("currentQrPath",l);const z=`/api/admin/qr-codes/upload-local${I.toString()?"?"+I.toString():""}`,ee=await fetch(z,{method:"POST",body:K});if(!ee.ok)throw new Error("Upload failed");return await ee.json()}catch(K){throw console.error("Error uploading QR code:",K),K}},Q=()=>{const q={id:`inst-${Date.now()}`,text:""};d([...c,q])},se=q=>{d(c.filter(K=>K.id!==q))},A=(q,K)=>{d(c.map(I=>I.id===q?{...I,text:K}:I))},F=(q,K)=>{C(K),q.dataTransfer.effectAllowed="move"},U=q=>{q.preventDefault(),q.dataTransfer.dropEffect="move"},Z=(q,K)=>{if(q.preventDefault(),S===null)return;const I=[...c],z=I[S];I.splice(S,1),I.splice(K,0,z),d(I),C(null)};return D?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fi,{className:"h-6 w-6"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Payment Gateway Management"})]}),s.jsx(J,{children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),s.jsx("div",{className:"h-10 bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})})]}):e?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fi,{className:"h-6 w-6"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Payment Gateway Management"})]}),s.jsxs(Lr,{defaultValue:"crypto",className:"space-y-6",children:[s.jsxs(vr,{className:"grid w-full grid-cols-2",children:[s.jsxs(ze,{value:"crypto",className:"flex items-center space-x-2",children:[s.jsx(y4,{className:"h-4 w-4"}),s.jsx("span",{children:"Crypto"})]}),s.jsxs(ze,{value:"stripe",className:"flex items-center space-x-2",children:[s.jsx(Fi,{className:"h-4 w-4"}),s.jsx("span",{children:"Stripe"})]})]}),s.jsxs(Ye,{value:"crypto",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Cryptocurrency Payment Gateway"}),s.jsxs(E,{onClick:H,disabled:M.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(fn,{className:"h-4 w-4 mr-2"}),M.isPending?"Saving...":"Save Changes"]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsxs(xe,{className:"flex items-center space-x-2",children:[s.jsx(Bf,{className:"h-5 w-5"}),s.jsx("span",{children:"Gateway Configuration"})]}),s.jsxs(lt,{children:["Configure basic settings for ",e.displayName]})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"displayName",children:"Display Name"}),s.jsx(re,{id:"displayName",value:r,onChange:q=>n(q.target.value),placeholder:"e.g., Cryptocurrency Payment"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"walletAddress",children:"Wallet Address"}),s.jsx(re,{id:"walletAddress",value:a,onChange:q=>i(q.target.value),placeholder:"Enter wallet address (e.g., TRC20 USDT address)",className:"font-mono text-sm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{children:"QR Code Image"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{children:[s.jsx("input",{type:"file",accept:"image/*",onChange:async q=>{var I;const K=(I=q.target.files)==null?void 0:I[0];if(K)try{const z=await B(K),ee=await ve("/api/admin/qr-codes/normalize",{method:"POST",body:{uploadURL:z.uploadURL}});o(ee.normalizedPath),P({title:"QR Code uploaded successfully!",description:"The QR code image has been updated. Click 'Save Changes' to apply."})}catch(z){console.error("Error uploading QR code:",z),P({title:"Upload failed",description:"Please try again.",variant:"destructive"})}},className:"hidden",id:"qr-upload"}),s.jsxs(E,{type:"button",className:"bg-green-600 hover:bg-green-700",onClick:()=>{var q;return(q=document.getElementById("qr-upload"))==null?void 0:q.click()},children:[s.jsx(q4,{className:"h-4 w-4 mr-2"}),"Upload QR Code"]})]}),l&&s.jsx("span",{className:"text-sm text-green-600",children:"✓ QR Code uploaded"})]}),l&&s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Current QR Code: ",l]})})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(er,{id:"isActive",checked:f,onCheckedChange:j}),s.jsx(W,{htmlFor:"isActive",children:"Gateway Active"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(er,{id:"qrEnabled",checked:b,onCheckedChange:k}),s.jsx(W,{htmlFor:"qrEnabled",children:"QR Code Enabled"})]})]})]}),s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsx(xe,{children:"Payment Limits (USD)"}),s.jsx(lt,{children:"Set minimum and maximum amounts for deposits and withdrawals"})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"minDeposit",children:"Min Deposit ($)"}),s.jsx(re,{id:"minDeposit",type:"number",value:u,onChange:q=>h(parseFloat(q.target.value)||0),min:"0",step:"0.01"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"maxDeposit",children:"Max Deposit ($)"}),s.jsx(re,{id:"maxDeposit",type:"number",value:x,onChange:q=>y(parseFloat(q.target.value)||0),min:"0",step:"0.01"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"minWithdrawal",children:"Min Withdrawal ($)"}),s.jsx(re,{id:"minWithdrawal",type:"number",value:v,onChange:q=>g(parseFloat(q.target.value)||0),min:"0",step:"0.01"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"maxWithdrawal",children:"Max Withdrawal ($)"}),s.jsx(re,{id:"maxWithdrawal",type:"number",value:w,onChange:q=>p(parseFloat(q.target.value)||0),min:"0",step:"0.01"})]})]}),s.jsx(cx,{children:s.jsx(dx,{children:"These limits are moved from Platform Settings and are now gateway-specific. Changes here will affect all payment forms using this gateway."})})]})]})]}),s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsx(xe,{children:"Payment Instructions"}),s.jsx(lt,{children:"Manage step-by-step instructions shown to users during payment. Drag to reorder."})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsx("div",{className:"space-y-3",children:c.map((q,K)=>s.jsxs("div",{draggable:!0,onDragStart:I=>F(I,K),onDragOver:U,onDrop:I=>Z(I,K),className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg bg-white hover:bg-gray-50 cursor-move",children:[s.jsx(C4,{className:"h-4 w-4 text-gray-400"}),s.jsx("div",{className:"flex-shrink-0 w-8 h-6 bg-blue-100 text-blue-600 rounded flex items-center justify-center text-sm font-medium",children:K+1}),s.jsx(re,{value:q.text,onChange:I=>A(q.id,I.target.value),placeholder:"Enter instruction step...",className:"flex-1"}),s.jsx(E,{variant:"outline",size:"sm",onClick:()=>se(q.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(rn,{className:"h-4 w-4"})})]},q.id))}),s.jsxs(E,{variant:"outline",onClick:Q,className:"w-full border-dashed border-2 border-blue-200 text-blue-600 hover:bg-blue-50",children:[s.jsx(yr,{className:"h-4 w-4 mr-2"}),"Add Instruction Step"]})]})]})]}),s.jsxs(Ye,{value:"stripe",className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h3",{className:"text-lg font-semibold",children:"Stripe Payment Gateway"})}),s.jsx(J,{children:s.jsxs(te,{className:"p-8 text-center",children:[s.jsx(Fi,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Stripe Integration"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Stripe payment gateway configuration will be available here."}),s.jsx("p",{className:"text-sm text-gray-500",children:"This section is currently under development."})]})})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fi,{className:"h-6 w-6"}),s.jsx("h2",{className:"text-2xl font-bold",children:"Payment Gateway Management"})]}),s.jsxs(cx,{children:[s.jsx(Bf,{className:"h-4 w-4"}),s.jsx(dx,{children:"No payment gateways found. Please ensure payment gateways are properly configured in the database."})]})]})}const Yv=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);function gF(){const e=Nt(),[t,r]=m.useState("guest_post"),[n,a]=m.useState("on_going"),{data:i=[]}=ae({queryKey:["/api/admin/pending-activities"]}),{data:l=[]}=ae({queryKey:["/api/admin/delivered-activities"]}),{data:o=[]}=ae({queryKey:["/api/admin/rejected-activities"]}),d=(()=>{let v=[];return t==="guest_post"?v=i.filter(g=>g.type==="order"&&g.status==="on_going"):t==="exchange"?n==="pending"?v=i.filter(g=>g.type==="exchange"&&g.status==="pending"):n==="on_going"&&(v=i.filter(g=>g.type==="exchange"&&g.status==="active")):t==="delivered"?v=l.filter(g=>g.status==="delivered"||g.status==="completed"):t==="rejected"&&(v=o.filter(g=>["rejected","cancelled","declined","refunded"].includes(g.status))),v})(),u=Ee({mutationFn:async v=>{const g=v.type==="order"?`/api/admin/pending-activities/orders/${v.id}/delete`:`/api/admin/pending-activities/exchanges/${v.id}/delete`;return await ve(g,{method:"DELETE"})},onSuccess:(v,g)=>{e.invalidateQueries({queryKey:["/api/admin/pending-activities"]}),e.invalidateQueries({queryKey:["/api/admin/delivered-activities"]}),e.invalidateQueries({queryKey:["/api/admin/rejected-activities"]}),e.invalidateQueries({queryKey:["/api/admin/orders"]}),e.invalidateQueries({queryKey:["/api/admin/stats"]});const w=g.type==="order"?"Guest Post Order":"Exchange",p=g.type==="order"?" Buyer has been refunded automatically.":"";wo({title:"Activity Deleted",description:`${w} #${g.displayId} has been deleted successfully.${p}`})},onError:v=>{wo({title:"Delete Failed",description:"Failed to delete the activity. Please try again.",variant:"destructive"})}}),h=Ee({mutationFn:async v=>{const g=v.type==="order"?`/api/admin/reminders/guest-post/${v.id}`:`/api/admin/reminders/exchange/${v.id}`,w=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json"}}),p=await w.json();if(!w.ok)throw new Error(p.error||"Failed to send reminder");return p},onSuccess:(v,g)=>{const w=g.type==="order"?"Guest Post":"Exchange";wo({title:"Reminder Sent",description:`Reminder email sent successfully for ${w} #${g.displayId}.`})},onError:v=>{wo({title:"Reminder Failed",description:v.message,variant:"destructive"})}}),x=v=>{switch(v.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"on_going":case"active":case"in_progress":return"bg-blue-100 text-blue-800";case"delivered":case"completed":return"bg-green-100 text-green-800";case"cancelled":case"rejected":case"declined":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=v=>new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Activities"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage orders and exchanges by status category"})]})}),s.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[s.jsxs("button",{onClick:()=>{r("guest_post"),a("on_going")},className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ${t==="guest_post"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Guest Post (",i.filter(v=>v.type==="order"&&v.status==="on_going").length,")"]}),s.jsxs("button",{onClick:()=>{r("exchange"),a("pending")},className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ${t==="exchange"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Exchange (",i.filter(v=>v.type==="exchange"&&(v.status==="pending"||v.status==="on_going"||v.status==="active")).length,")"]}),s.jsxs("button",{onClick:()=>r("delivered"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ${t==="delivered"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Delivered (",l.length,")"]}),s.jsxs("button",{onClick:()=>r("rejected"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ${t==="rejected"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Rejected (",o.length,")"]})]}),(t==="guest_post"||t==="exchange")&&s.jsxs("div",{className:"flex space-x-1 bg-gray-50 p-1 rounded-lg",children:[t==="guest_post"&&s.jsxs("button",{onClick:()=>a("on_going"),className:"flex-1 px-3 py-2 text-sm font-medium rounded-md bg-white text-gray-900 shadow-sm",children:["On Going (",i.filter(v=>v.type==="order"&&v.status==="on_going").length,")"]}),t==="exchange"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>a("pending"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ${n==="pending"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Pending (",i.filter(v=>v.type==="exchange"&&v.status==="pending").length,")"]}),s.jsxs("button",{onClick:()=>a("on_going"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ${n==="on_going"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["On Going (",i.filter(v=>v.type==="exchange"&&v.status==="active").length,")"]})]})]}),d.length===0?s.jsx(J,{children:s.jsxs(te,{className:"p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Al,{className:"w-8 h-8 text-green-600"})}),s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["No ",t==="guest_post"?"Ongoing Guest Posts":t==="exchange"?n==="pending"?"Pending Exchanges":"Ongoing Exchanges":t==="delivered"?"Delivered Activities":"Rejected Activities"]}),s.jsx("p",{className:"text-gray-600",children:t==="guest_post"?"All guest post orders are running smoothly.":t==="exchange"?`All ${n==="pending"?"exchange requests":"ongoing exchanges"} are running smoothly.`:t==="delivered"?"No activities have been delivered yet.":"No activities have been rejected."})]})}):s.jsx("div",{className:"grid gap-4",children:d.map(v=>s.jsx(J,{className:"border-l-4 border-l-yellow-400",children:s.jsx(te,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center",children:v.type==="order"?s.jsx(Si,{className:"w-6 h-6 text-gray-600"}):s.jsx(Al,{className:"w-6 h-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:v.type==="order"?"Guest Post Order":"Link Exchange"}),s.jsxs(Pe,{variant:"secondary",className:"font-mono text-xs",children:["#",v.displayId||v.id.slice(0,8)]}),s.jsx(Pe,{className:x(v.status),children:v.status.replace("_"," ")})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ui,{className:"w-4 h-4"}),s.jsx("span",{children:v.type==="order"?`${v.buyerEmail} → ${v.sellerEmail}`:`${v.requesterEmail} ↔ ${v.requestedEmail}`})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(_n,{className:"w-4 h-4"}),s.jsx("span",{children:y(v.createdAt)})]}),v.amount&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Bs,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:Yv(v.amount)})]})]}),s.jsxs("div",{className:"text-sm text-gray-700 mt-1",children:[s.jsx("span",{className:"font-medium",children:"Domain:"})," ",v.domain,v.exchangeInfo&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsx("span",{className:"font-medium",children:"Exchange:"})," ",v.exchangeInfo]})]})]})]}),t!=="delivered"&&t!=="rejected"&&s.jsxs("div",{className:"flex space-x-2",children:[(t==="guest_post"||t==="exchange")&&s.jsxs(E,{variant:"outline",size:"sm",disabled:h.isPending,onClick:()=>h.mutate(v),children:[s.jsx(tc,{className:"w-4 h-4 mr-2"}),h.isPending?"Sending...":"Send Reminder"]}),s.jsxs(cg,{children:[s.jsx(F2,{asChild:!0,children:s.jsxs(E,{variant:"destructive",size:"sm",disabled:u.isPending,children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Delete"]})}),s.jsxs(Sm,{children:[s.jsxs(km,{children:[s.jsxs(Tm,{className:"flex items-center space-x-2",children:[s.jsx(sc,{className:"w-5 h-5 text-red-500"}),s.jsxs("span",{children:["Delete ",v.type==="order"?"Order":"Exchange"]})]}),s.jsxs(Pm,{children:["You are about to permanently delete"," ",s.jsxs("span",{className:"font-semibold",children:[v.type==="order"?"Guest Post Order":"Link Exchange"," ","#",v.displayId||v.id.slice(0,8)]}),".",v.type==="order"&&v.amount&&s.jsx("div",{className:"mt-3 p-3 bg-blue-50 rounded-md",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Automatic Refund:"})," The buyer will be refunded"," ",s.jsx("span",{className:"font-semibold",children:Yv(v.amount)})," ","to their wallet balance."]})}),s.jsx("p",{className:"mt-3 text-sm",children:"This action cannot be undone. Are you sure you want to continue?"})]})]}),s.jsxs(Cm,{children:[s.jsx(Am,{children:"Cancel"}),s.jsx(Em,{onClick:()=>u.mutate(v),className:"bg-red-600 hover:bg-red-700",children:u.isPending?"Deleting...":"Delete Activity"})]})]})]})]})]})})},`${v.type}-${v.id}`))})]})}function Eh(){const{section:e="overview"}=Rw(),{user:t,logout:r,isLoading:n}=ds();$r("admin");const{data:a={totalRevenue:0,totalUsers:0,totalSales:0,totalWalletFees:0,totalSalesFees:0,activeExchange:0,pendingPosts:0}}=ae({queryKey:["/api/admin/stats"],enabled:(t==null?void 0:t.role)==="admin"}),{data:i=[]}=ae({queryKey:["/api/admin/recent-activity"],enabled:(t==null?void 0:t.role)==="admin"});ae({queryKey:["/api/admin/users"],enabled:(t==null?void 0:t.role)==="admin"}),ae({queryKey:["/api/admin/orders"],enabled:(t==null?void 0:t.role)==="admin"});const{data:l=[]}=ae({queryKey:["/api/admin/sites"],enabled:(t==null?void 0:t.role)==="admin"}),{data:o=[]}=ae({queryKey:["/api/admin/wallet-transactions/top_up/processing"],enabled:(t==null?void 0:t.role)==="admin"}),{data:c=[]}=ae({queryKey:["/api/admin/wallet-transactions/withdrawal/processing"],enabled:(t==null?void 0:t.role)==="admin"});ae({queryKey:["/api/admin/domains"],enabled:(t==null?void 0:t.role)==="admin"}),ae({queryKey:["/api/admin/support-messages"],enabled:(t==null?void 0:t.role)==="admin"}),ae({queryKey:["/api/admin/settings"],enabled:(t==null?void 0:t.role)==="admin"});const{data:d=[]}=ae({queryKey:["/api/admin/pending-activities"],enabled:(t==null?void 0:t.role)==="admin"});if(m.useEffect(()=>{!n&&(t==null?void 0:t.role)!=="admin"&&r()},[t==null?void 0:t.role,n,r]),n)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."});if((t==null?void 0:t.role)!=="admin")return null;const u=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[s.jsxs(J,{children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(Bs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(a.totalRevenue||0).toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Top-up, withdrawal & platform fees"})]})]}),s.jsxs(J,{children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Total Sales"}),s.jsx(Si,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a.totalSales||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All guest post purchases"})]})]}),s.jsxs(J,{children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Sales Fee"}),s.jsx(Bs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(a.totalSalesFees||0).toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Platform fees from sales"})]})]}),s.jsxs(J,{children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Total Wallet Fees"}),s.jsx(mi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(a.totalWalletFees||0).toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Top-up & withdrawal fees"})]})]}),s.jsxs(J,{children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(ui,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a.totalUsers||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Registered accounts"})]})]}),s.jsxs(J,{children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Ongoing Guest Posts"}),s.jsx(ci,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:d.filter(j=>j.type==="order"&&["accepted","in_progress","on_going"].includes(j.status)).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Active guest post orders"})]})]})]}),s.jsxs("div",{className:"flex items-center my-6",children:[s.jsx("div",{className:"flex-1 border-t border-gray-300"}),s.jsx("div",{className:"mx-4 text-sm text-gray-500 font-medium",children:"Finances"}),s.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(J,{children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Pending Deposits"}),s.jsx(wp,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(Array.isArray(o)?o:[]).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Manual deposits to review"})]})]}),s.jsxs(J,{children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Pending Withdrawals"}),s.jsx(z4,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(Array.isArray(c)?c:[]).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Withdrawal requests to process"})]})]})]}),s.jsxs("div",{className:"flex items-center my-6",children:[s.jsx("div",{className:"flex-1 border-t border-gray-300"}),s.jsx("div",{className:"mx-4 text-sm text-gray-500 font-medium",children:"Domains"}),s.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(J,{children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Guest Post Domain"}),s.jsx(ci,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(Array.isArray(l)?l:[]).filter(j=>j.purpose==="sales"&&j.status==="pending").length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]})]}),s.jsxs(J,{children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Exchange Domain"}),s.jsx(oa,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(Array.isArray(l)?l:[]).filter(j=>j.purpose==="exchange"&&j.status==="pending").length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]})]})]}),s.jsxs("div",{className:"flex items-center my-6",children:[s.jsx("div",{className:"flex-1 border-t border-gray-300"}),s.jsx("div",{className:"mx-4 text-sm text-gray-500 font-medium",children:"Activities"}),s.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(J,{children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Ongoing Exchange"}),s.jsx(Al,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:d.filter(j=>j.type==="exchange"&&j.status==="active").length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Active exchange requests"})]})]}),s.jsxs(J,{children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Pending Exchange"}),s.jsx(oa,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:d.filter(j=>j.type==="exchange"&&j.status==="pending").length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending exchange requests"})]})]})]}),s.jsxs(J,{children:[s.jsx(fe,{children:s.jsx(xe,{children:"Recent Activity"})}),s.jsx(te,{children:s.jsx("div",{className:"space-y-4",children:i.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No recent activity"}):i.slice(0,10).map(j=>{const b=j.data?JSON.parse(j.data):{};return s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm",children:j.type==="signup"?s.jsxs(s.Fragment,{children:["New user"," ",s.jsxs("strong",{children:[b.firstName," ",b.lastName]})," ","signed up",s.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",b.email,")"]})]}):`${j.type} activity`}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[new Date(j.createdAt).toLocaleString(),b.ipAddress&&s.jsxs("span",{className:"ml-2",children:["from ",b.ipAddress]})]})]}),s.jsx(Pe,{variant:"secondary",children:j.type})]},j.id)})})})]})]}),h=()=>s.jsx(hF,{}),x=()=>s.jsx(L2,{}),y=()=>s.jsx(I2,{}),v=()=>s.jsx(mF,{}),g=()=>s.jsx(dF,{}),w=()=>s.jsx(pF,{}),p=()=>s.jsx(gF,{}),f=()=>{switch(e){case"users":return h();case"finances":return x();case"payment-gateway":return w();case"domains":return y();case"chat":return v();case"pending-activities":return p();case"settings":return g();default:return u()}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Dashboard"}),s.jsx(Pe,{variant:"outline",children:"Administrator"}),s.jsx(ac,{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded border border-blue-200 text-xs",showIcon:!0,showDate:!0,useAdminTimezone:!0})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(E,{variant:"ghost",size:"sm",onClick:()=>window.location.href="/",children:"Back to Platform"}),s.jsxs(E,{variant:"ghost",size:"sm",onClick:r,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[s.jsx(jp,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs(Lr,{value:e,className:"space-y-6",children:[s.jsxs(vr,{className:"grid w-full grid-cols-8",children:[s.jsxs(ze,{value:"overview",onClick:()=>window.location.href=xs,children:[s.jsx(j4,{className:"w-4 h-4 mr-2"}),"Overview"]}),s.jsxs(ze,{value:"users",onClick:()=>window.location.href=`${xs}/users`,children:[s.jsx(ui,{className:"w-4 h-4 mr-2"}),"Users"]}),s.jsxs(ze,{value:"finances",onClick:()=>window.location.href=`${xs}/finances`,children:[s.jsx(Bs,{className:"w-4 h-4 mr-2"}),"Finances"]}),s.jsxs(ze,{value:"payment-gateway",onClick:()=>window.location.href=`${xs}/payment-gateway`,children:[s.jsx(Fi,{className:"w-4 h-4 mr-2"}),"Payment Gateway"]}),s.jsxs(ze,{value:"domains",onClick:()=>window.location.href=`${xs}/domains`,children:[s.jsx(sn,{className:"w-4 h-4 mr-2"}),"Domains"]}),s.jsxs(ze,{value:"chat",onClick:()=>window.location.href=`${xs}/chat`,children:[s.jsx(is,{className:"w-4 h-4 mr-2"}),"Support"]}),s.jsxs(ze,{value:"pending-activities",onClick:()=>window.location.href=`${xs}/pending-activities`,children:[s.jsx(h4,{className:"w-4 h-4 mr-2"}),"Pending Activities"]}),s.jsxs(ze,{value:"settings",onClick:()=>window.location.href=`${xs}/settings`,children:[s.jsx(Bf,{className:"w-4 h-4 mr-2"}),"Settings"]})]}),s.jsx(Ye,{value:e,className:"space-y-6",children:f()})]})})]})}const yF=Re.object({email:Re.string().min(1,"Email is required"),password:Re.string().min(1,"Password is required")});function Zv(){on();const{login:e}=ds(),{toast:t}=at(),r=qs({resolver:Vs(yF),defaultValues:{email:"",password:""}}),n=Ee({mutationFn:async i=>{const l=await fetch("/api/auth/admin-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!l.ok){const o=await l.json();throw new Error(o.message||"Authentication failed")}return l.json()},onSuccess:i=>{if(i.user.role!=="admin"){t({title:"Access Denied",description:"Admin access required",variant:"destructive"});return}e(i.user),window.location.href=xs},onError:i=>{t({title:"Login Failed",description:i instanceof Error?i.message:"Invalid admin credentials",variant:"destructive"})}}),a=i=>{n.mutate(i)};return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-slate-50 p-4",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(fe,{className:"text-center",children:[s.jsx("div",{className:"mb-4 flex justify-center",children:s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(qf,{className:"h-6 w-6 text-red-600"})})}),s.jsx(xe,{className:"text-2xl font-bold text-red-600",children:"Admin Access"}),s.jsx(lt,{children:"Administrative panel login"})]}),s.jsx(te,{children:s.jsxs("form",{onSubmit:r.handleSubmit(a),className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"email",children:"Admin Email"}),s.jsx(re,{id:"email",type:"email",placeholder:"YourEmail@gmail.com",...r.register("email")}),r.formState.errors.email&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:r.formState.errors.email.message})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"password",children:"Password"}),s.jsx(re,{id:"password",type:"password",placeholder:"*****",...r.register("password")}),r.formState.errors.password&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:r.formState.errors.password.message})]}),s.jsx(E,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700",disabled:n.isPending,children:n.isPending?"Signing In...":"Admin Sign In"})]})})]})})}function vF(){var v,g,w;const{toast:e}=at(),[t,r]=m.useState(null),[n,a]=m.useState(""),{data:i,isLoading:l}=ae({queryKey:["/api/admin/support/tickets/all/all/all"],refetchInterval:5e3}),{data:o}=ae({queryKey:["/api/support/tickets",t==null?void 0:t.id,"messages"],enabled:!!(t!=null&&t.id),refetchInterval:3e3}),c=Ee({mutationFn:async p=>await ve(`/api/admin/support/tickets/${p.ticketId}/reply`,{method:"POST",body:{message:p.message}}),onSuccess:()=>{Zt.invalidateQueries({queryKey:["/api/support/tickets",t==null?void 0:t.id,"messages"]}),Zt.invalidateQueries({queryKey:["/api/admin/support/tickets"]}),a(""),e({title:"Message sent successfully",description:"Your reply has been sent to the user."})},onError:()=>{e({title:"Failed to send message",variant:"destructive"})}}),d=Ee({mutationFn:async p=>await ve(`/api/admin/support/tickets/${p.ticketId}/status`,{method:"PUT",body:{status:p.status}}),onSuccess:()=>{Zt.invalidateQueries({queryKey:["/api/admin/support/tickets"]}),Zt.invalidateQueries({queryKey:["/api/support/tickets",t==null?void 0:t.id,"messages"]}),Zt.refetchQueries({queryKey:["/api/admin/support/tickets"]}),e({title:"Status updated successfully",description:"The ticket status has been updated."})},onError:()=>{e({title:"Failed to update status",variant:"destructive"})}}),u=()=>{!t||!n.trim()||c.mutate({ticketId:t.id,message:n})},h=p=>{t&&(r({...t,status:p}),d.mutate({ticketId:t.id,status:p}))},x=p=>{const f={open:{variant:"outline",icon:gs,label:"Open"},replied:{variant:"default",icon:is,label:"Replied"},investigating:{variant:"secondary",icon:sr,label:"Investigating"},resolved:{variant:"default",icon:yt,label:"Resolved"},closed:{variant:"secondary",icon:In,label:"Closed"}},j=f[p]||f.open,b=j.icon;return s.jsxs(Pe,{variant:j.variant,className:"flex items-center gap-1",children:[s.jsx(b,{className:"w-3 h-3"}),j.label]})},y=p=>{const f={low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-red-100 text-red-800",urgent:"bg-red-200 text-red-900"};return s.jsx(Pe,{className:f[p]||f.medium,children:p.charAt(0).toUpperCase()+p.slice(1)})};return l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(J,{children:s.jsxs(fe,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(is,{className:"w-5 h-5"}),"Support Tickets Management"]}),s.jsx(lt,{children:"View and respond to customer support tickets. All support functionality is available to employees."})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(J,{children:[s.jsx(fe,{children:s.jsxs(xe,{children:["All Tickets (",(i==null?void 0:i.length)||0,")"]})}),s.jsxs(te,{className:"space-y-3 max-h-96 overflow-y-auto",children:[i==null?void 0:i.map(p=>{var f,j,b;return s.jsx("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${(t==null?void 0:t.id)===p.id?"border-primary bg-primary/5":"hover:bg-gray-50"}`,onClick:()=>r(p),children:s.jsx("div",{className:"flex items-start justify-between gap-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"font-medium text-sm",children:["#",p.ticketNumber]}),x(p.status),y(p.priority)]}),s.jsx("h4",{className:"font-medium text-sm mb-1",children:p.subject}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Dn,{className:"w-3 h-3"}),((f=p.user)==null?void 0:f.firstName)||"N/A"," ",((j=p.user)==null?void 0:j.lastName)||""]}),s.jsx("span",{children:((b=p.user)==null?void 0:b.email)||"N/A"}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(_n,{className:"w-3 h-3"}),ya(new Date(p.createdAt),"MMM d, yyyy")]})]})]})})},p.id)}),!(i!=null&&i.length)&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(is,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No support tickets found"})]})]})]}),s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsx(xe,{children:t?`Ticket #${t.ticketNumber}`:"Select a Ticket"}),t&&s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsx("span",{children:"Status:"}),s.jsxs(vt,{value:t.status,onValueChange:h,children:[s.jsx(ft,{className:"w-40",children:s.jsx(jt,{})}),s.jsxs(xt,{children:[s.jsx(de,{value:"open",children:"Open"}),s.jsx(de,{value:"investigating",children:"Investigating"}),s.jsx(de,{value:"replied",children:"Replied"}),s.jsx(de,{value:"resolved",children:"Resolved"}),s.jsx(de,{value:"closed",children:"Closed"})]})]})]})]}),s.jsx(te,{children:t?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:t.subject}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:t.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{children:["Customer: ",((v=t.user)==null?void 0:v.firstName)||"N/A"," ",((g=t.user)==null?void 0:g.lastName)||""]}),s.jsxs("span",{children:["Email: ",((w=t.user)==null?void 0:w.email)||"N/A"]}),s.jsxs("span",{children:["Category: ",t.category]})]})]}),s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:o==null?void 0:o.map(p=>s.jsxs("div",{className:`p-3 rounded-lg ${p.isFromUser?"bg-blue-50 border-l-4 border-blue-400 ml-4":"bg-green-50 border-l-4 border-green-400 mr-4"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs font-medium",children:p.isFromUser?"Customer":"Support Team"}),s.jsx("span",{className:"text-xs text-gray-500",children:ya(new Date(p.createdAt),"MMM d, HH:mm")})]}),s.jsx("p",{className:"text-sm",children:p.message})]},p.id))}),s.jsxs("div",{className:"space-y-3 border-t pt-4",children:[s.jsx(W,{htmlFor:"reply",children:"Send Reply"}),s.jsx(Jt,{id:"reply",placeholder:"Type your response here...",value:n,onChange:p=>a(p.target.value),rows:3}),s.jsx(E,{onClick:u,disabled:!n.trim()||c.isPending,className:"w-full",children:c.isPending?"Sending...":"Send Reply"})]})]}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(is,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Select a ticket to view details and messages"})]})})]})]})]})}function jF(){return s.jsx(L2,{isEmployeeView:!0})}function wF(){return s.jsx(I2,{isEmployeeView:!0})}function Ah(){const{user:e,isLoading:t,logout:r}=ds(),[n,a]=m.useState("overview");$r("admin");const{data:i=[]}=ae({queryKey:["/api/admin/sites"],enabled:!!(e!=null&&e.role)&&e.role==="employee"}),{data:l}=ae({queryKey:["/api/admin/wallet-transactions/top_up/processing"],enabled:!!(e!=null&&e.role)&&e.role==="employee"}),{data:o}=ae({queryKey:["/api/admin/wallet-transactions/withdrawal/processing"],enabled:!!(e!=null&&e.role)&&e.role==="employee"}),{data:c}=ae({queryKey:["/api/admin/support/tickets/all/all/all"],enabled:!!(e!=null&&e.role)&&e.role==="employee"}),d=Array.isArray(c)?c.filter(u=>u.status==="open"):[];return t?s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-slate-50",children:s.jsx(J,{className:"w-96",children:s.jsxs(fe,{className:"text-center",children:[s.jsx(xe,{children:"Loading..."}),s.jsx(lt,{children:"Please wait while we verify your access."})]})})}):!e||e.role!=="employee"?(window.location.href=xs,s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-slate-50",children:s.jsx(J,{className:"w-96",children:s.jsxs(fe,{className:"text-center",children:[s.jsx(xe,{children:"Redirecting..."}),s.jsx(lt,{children:"Redirecting to login page..."})]})})})):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsx("div",{className:"border-b bg-white",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Employee Dashboard"}),s.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",e.firstName," ",e.lastName]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Pe,{variant:"secondary",className:"px-3 py-1",children:[s.jsx(ui,{className:"w-4 h-4 mr-2"}),"Employee"]}),s.jsx(E,{variant:"outline",onClick:r,className:"text-red-600 border-red-200 hover:bg-red-50",children:"Logout"})]})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs(Lr,{value:n,onValueChange:a,className:"space-y-6",children:[s.jsxs(vr,{className:"grid w-full grid-cols-4",children:[s.jsx(ze,{value:"overview",children:"Overview"}),s.jsx(ze,{value:"support",children:"Support"}),s.jsx(ze,{value:"finances",children:"Finances"}),s.jsx(ze,{value:"domains",children:"Domains"})]}),s.jsxs(Ye,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(J,{children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Pending Guest Posts"}),s.jsx(ci,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i.filter(u=>u.status==="pending"&&(u.purpose==="sales"||u.purpose==="both")).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Orders awaiting review"})]})]}),s.jsxs(J,{children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Pending Exchanges"}),s.jsx(sn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i.filter(u=>u.status==="pending"&&(u.purpose==="exchange"||u.purpose==="both")).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Exchange requests pending"})]})]}),s.jsxs(J,{children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Pending Top-Ups"}),s.jsx(Bs,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:Array.isArray(l)?l.length:0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Deposits awaiting approval"})]})]}),s.jsxs(J,{children:[s.jsxs(fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xe,{className:"text-sm font-medium",children:"Pending Withdrawals"}),s.jsx(Bs,{className:"h-4 w-4 text-red-600"})]}),s.jsxs(te,{children:[s.jsx("div",{className:"text-2xl font-bold",children:Array.isArray(o)?o.length:0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Withdrawals awaiting approval"})]})]})]}),s.jsxs(J,{children:[s.jsxs(fe,{children:[s.jsx(xe,{children:"Quick Actions"}),s.jsx(lt,{children:"Access your primary tasks and responsibilities"})]}),s.jsxs(te,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(E,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",onClick:()=>a("support"),children:[s.jsx(ui,{className:"h-6 w-6"}),s.jsx("span",{children:"Support Tickets"}),s.jsxs(Pe,{variant:"secondary",children:[d.length," open"]})]}),s.jsxs(E,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",onClick:()=>a("finances"),children:[s.jsx(Bs,{className:"h-6 w-6"}),s.jsx("span",{children:"Financial Reviews"}),s.jsxs(Pe,{variant:"secondary",children:[(Array.isArray(l)?l.length:0)+(Array.isArray(o)?o.length:0)," pending"]})]}),s.jsxs(E,{variant:"outline",className:"h-auto p-4 flex flex-col items-center gap-2",onClick:()=>a("domains"),children:[s.jsx(sn,{className:"h-6 w-6"}),s.jsx("span",{children:"Domain Approvals"}),s.jsx(Pe,{variant:"secondary",children:"Review sites"})]})]})]})]}),s.jsx(Ye,{value:"support",children:s.jsx(vF,{})}),s.jsx(Ye,{value:"finances",children:s.jsx(jF,{})}),s.jsx(Ye,{value:"domains",children:s.jsx(wF,{})})]})})]})}function Xv(){var y,v,g,w,p,f,j,b,k,S,C,P,N,O;$r("home");const[e,t]=m.useState(0),{data:r,isLoading:n}=ae({queryKey:["/api/sites/directory"],enabled:!0}),{data:a}=ae({queryKey:["/api/settings/public"],enabled:!0});function i(D){return D>=1e6?Math.floor(D/1e6)+"M":D>=1e3?Math.floor(D/1e3)+"K":D.toString()}const l=r&&Array.isArray(r)?r.filter(D=>D.domainAuthority&&D.monthlyTraffic&&D.status==="approved").sort((D,M)=>{const H=(M.monthlyTraffic||0)-(D.monthlyTraffic||0);return H!==0?H:(M.domainAuthority||0)-(D.domainAuthority||0)}).slice(0,5).map(D=>{var M,H;return{name:D.domain,category:D.category,da:((M=D.domainAuthority)==null?void 0:M.toString())||"0",dr:((H=D.drScore)==null?void 0:H.toString())||"0",traffic:D.monthlyTraffic?i(D.monthlyTraffic):"0",rating:"4.9",topic:D.description||"Quality content opportunities available",owner:D.user,type:D.purpose==="sales"?"Accepting Guest Posts":D.purpose==="exchange"?"Accepting Collaborations":"Guest Posts & Collaborations"}}):[],o=r&&Array.isArray(r)?r.filter(D=>D.status==="approved"&&(D.purpose==="sales"||D.purpose==="both")&&D.domainAuthority&&D.monthlyTraffic).sort((D,M)=>(M.monthlyTraffic||0)-(D.monthlyTraffic||0)).slice(0,3):[],c=r&&Array.isArray(r)?r.filter(D=>D.status==="approved"&&(D.purpose==="exchange"||D.purpose==="both")&&D.domainAuthority&&D.monthlyTraffic).sort((D,M)=>(M.monthlyTraffic||0)-(D.monthlyTraffic||0)).slice(0,3):[],d=[...o,...c];m.useEffect(()=>{if(l.length>0){const D=setInterval(()=>{t(M=>(M+1)%l.length)},1e4);return()=>clearInterval(D)}},[l.length]);const u=[{number:"1",title:"Submit Your Website",description:"Add your domain for verification and choose to offer guest posts or collaborate on link opportunities.",icon:sn,color:"bg-blue-500"},{number:"2",title:"Discover Opportunities",description:"Browse verified websites offering guest posts or free link collaboration opportunities.",icon:di,color:"bg-green-500"},{number:"3",title:"Live Chat",description:"Chat in real time with guest post providers or link collaboration partners to discuss requirements and share content.",icon:Yy,color:"bg-purple-500"},{number:"4",title:"Publish & Succeed",description:"Collaborate to create quality content, publish guest posts, and mark the task as completed once done.",icon:$4,color:"bg-orange-500"}],h=[{icon:ui,title:"Verified Publishers",description:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"},{icon:qf,title:"Secure Platform",description:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"},{icon:g4,title:"Premium Quality",description:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"},{icon:ch,title:"Content Excellence",description:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"},{icon:wp,title:"Growth Focused",description:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"},{icon:Xy,title:"Fast & Efficient",description:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"}],x=[{icon:ch,title:"Premium Guest Posts",description:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"},{icon:Yy,title:"Free Link Collaboration",description:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"}];return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("header",{className:"border-b border-gray-200 bg-white sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-primary",children:(a==null?void 0:a.platformName)||"CollabPro"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($e,{href:"/auth",children:s.jsx(E,{variant:"outline",size:"sm",children:"Login"})}),s.jsx($e,{href:"/auth",children:s.jsx(E,{size:"sm",children:"Sign Up"})})]})]})})}),s.jsxs("section",{className:"relative bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 py-8 sm:py-12 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[s.jsxs("div",{className:"text-center lg:text-left",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-full text-sm text-primary font-medium mb-6 shadow-sm",children:[s.jsx(Pi,{className:"h-4 w-4"}),"@Demo B2B Platform"]}),s.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 leading-tight",children:["B2B",s.jsx("span",{className:"text-primary block",children:"SEO"}),s.jsx("span",{className:"text-gray-700",children:"Platform"})]}),s.jsx("p",{className:"mt-6 text-xl text-gray-600 leading-relaxed",children:"CConnect with verified site owners, authors, and contributors for guest post placements or link swaps. Build real relationships, share useful content, and grow rankings with niche-matched opportunities. Demo login: demo@demo.com / demo123."}),s.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[s.jsx($e,{href:"/auth",children:s.jsx(E,{size:"lg",className:"text-lg px-8 py-4 h-auto shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 bg-primary hover:bg-primary/90",children:"Start Publishing Today"})}),s.jsx($e,{href:"/auth",children:s.jsx(E,{size:"lg",className:"text-lg px-8 py-4 h-auto shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 bg-primary hover:bg-primary/90",children:"Browse Opportunities"})})]}),s.jsxs("div",{className:"mt-12 grid grid-cols-3 gap-6 sm:gap-8",children:[s.jsxs("div",{className:"text-center group",children:[s.jsxs("div",{className:"text-3xl sm:text-4xl font-bold text-gray-900 group-hover:text-primary transition-colors",children:[r&&Array.isArray(r)?r.length:500,"+"]}),s.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Quality Publishers"})]}),s.jsxs("div",{className:"text-center group",children:[s.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-gray-900 group-hover:text-primary transition-colors",children:"2,500+"}),s.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Guest Posts Published"})]}),s.jsxs("div",{className:"text-center group",children:[s.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-gray-900 group-hover:text-primary transition-colors",children:"99%"}),s.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Success Rate"})]})]})]}),s.jsx("div",{className:"relative lg:scale-110",children:l.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-3xl blur-xl opacity-20 scale-105"}),s.jsx("div",{className:"relative bg-white rounded-3xl shadow-2xl p-8 hover:shadow-3xl transition-all duration-500 hover:-translate-y-2",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[(y=l[e])!=null&&y.owner?s.jsx(Va,{user:l[e].owner,size:"lg"}):s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:s.jsx(ch,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-gray-900 text-lg",children:(v=l[e])==null?void 0:v.name}),s.jsx("div",{className:"text-sm text-gray-500",children:(g=l[e])==null?void 0:g.category})]})]}),s.jsx(Pe,{className:`px-3 py-1 hover:opacity-80 ${((w=l[e])==null?void 0:w.type)==="Accepting Guest Posts"?"bg-green-100 text-green-800":((p=l[e])==null?void 0:p.type)==="Accepting Collaborations"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:(f=l[e])==null?void 0:f.type})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-3 py-4 border-y border-gray-100",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center mb-1",children:[s.jsx("img",{src:"/assets/google-analytics-icon.svg",alt:"Traffic",className:"h-4 w-4 mr-1"}),s.jsx("div",{className:"text-lg font-bold text-green-600",children:(j=l[e])==null?void 0:j.traffic})]}),s.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Traffic"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center mb-1",children:[s.jsx("img",{src:"/assets/Ahrefs-icon.jpeg",alt:"DR",className:"h-4 w-4 mr-1 rounded"}),s.jsx("div",{className:"text-lg font-bold text-orange-600",children:(b=l[e])==null?void 0:b.dr})]}),s.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"DR"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center mb-1",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded flex items-center justify-center mr-1",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"M"})}),s.jsx("div",{className:"text-lg font-bold text-blue-600",children:(k=l[e])==null?void 0:k.da})]}),s.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"DA"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-purple-600",children:(S=l[e])==null?void 0:S.rating}),s.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Rating"})]})]}),((C=l[e])==null?void 0:C.topic)&&s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:((P=l[e])==null?void 0:P.type)==="Accepting Collaborations"?"Latest Collaboration Opportunity:":"Latest Guest Post Opportunity:"}),s.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[s.jsx(Pi,{className:"h-3 w-3 mr-1 fill-yellow-400 text-yellow-400"}),(N=l[e])==null?void 0:N.rating," Rating"]})]}),s.jsx("div",{className:"text-sm text-gray-600",children:(O=l[e])==null?void 0:O.topic})]}),s.jsx("div",{className:"flex justify-center space-x-2",children:l.map((D,M)=>s.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${M===e?"bg-primary":"bg-gray-300"}`},M))})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:n?s.jsx("div",{className:"text-gray-500",children:"Loading top publishers..."}):null})})]})})]}),s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Latest Publishers"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Discover our newest verified publishers ready for guest posts and collaborations"})]}),d.length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:d.map((D,M)=>s.jsx(J,{className:"group hover:shadow-lg transition-all duration-300 border border-gray-200 hover:border-primary/30 h-full",children:s.jsxs(te,{className:"p-6 h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[D.user?s.jsx(Va,{user:D.user,size:"md"}):s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx(sn,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-semibold text-gray-900 truncate",children:D.user?`${D.user.firstName} ${D.user.lastName}`:"Publisher"}),s.jsxs("div",{className:"text-sm text-gray-500 relative",children:[s.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-gray-300 to-gray-400 blur-md opacity-80 z-10 pointer-events-none select-none"}),s.jsx("span",{className:"opacity-0 select-none pointer-events-none","aria-hidden":"true",children:D.domain}),s.jsx("span",{className:"absolute inset-0 flex items-center text-xs text-gray-400 z-20 pointer-events-none select-none",children:"Login to view domain"})]}),s.jsx("div",{className:"mt-2",children:s.jsx(Pe,{className:`px-2 py-1 text-xs ${D.purpose==="sales"?"bg-green-100 text-green-800":D.purpose==="exchange"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:D.purpose==="sales"?"Guest Posts":D.purpose==="exchange"?"Link Collaboration":"Both"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.language}),s.jsx("div",{className:"text-xs text-gray-500",children:"Language"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[s.jsx("img",{src:"/assets/google-analytics-icon.svg",alt:"Traffic",className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:i(D.monthlyTraffic)})]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Traffic"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[s.jsx("img",{src:"/assets/Ahrefs-icon.jpeg",alt:"DR",className:"w-4 h-4 rounded"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:D.drScore})]}),s.jsx("div",{className:"text-xs text-gray-500",children:"DR"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xs",children:"M"})}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:D.domainAuthority})]}),s.jsx("div",{className:"text-xs text-gray-500",children:"DA"})]})]}),s.jsx("div",{className:"mt-auto pt-4 border-t border-gray-100",children:s.jsx($e,{href:"/auth",children:s.jsx(E,{className:"w-full bg-primary hover:bg-primary/90 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 text-sm",children:"View Full Details"})})})]})},D.id))}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-sm text-gray-600 max-w-2xl mx-auto",children:"These site statistics are regularly updated from trusted sources, but we encourage you to double-check all metrics for 100% accuracy before making any business decisions."})})]})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Quality Guest posts & Link Collaboration"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com / demo123"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:x.map((D,M)=>s.jsx(J,{className:"group border border-gray-200 hover:border-primary/30 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:s.jsxs(te,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary/10 to-primary/20 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:s.jsx(D.icon,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4 group-hover:text-primary transition-colors",children:D.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:D.description})]})},M))}),s.jsx("div",{className:"text-center mt-12",children:s.jsx("p",{className:"text-lg text-gray-600 max-w-4xl mx-auto leading-relaxed",children:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com / demo123"})})]})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsxs("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:["Why Choose ",(a==null?void 0:a.platformName)||"CollabPro","?"]}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"The premium platform connecting content creators with quality publishers for authentic guest post collaborations"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:h.map((D,M)=>s.jsx(J,{className:"group border border-gray-200 hover:border-primary/30 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:s.jsxs(te,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary/10 to-primary/20 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform",children:s.jsx(D.icon,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4 group-hover:text-primary transition-colors",children:D.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:D.description})]})},M))}),s.jsx("div",{className:"text-center mt-12",children:s.jsx("p",{className:"text-lg text-gray-600 max-w-4xl mx-auto leading-relaxed",children:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"})})]})}),s.jsx("section",{className:"py-20 bg-gradient-to-br from-gray-50 to-blue-50/30",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"How It Works"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative",children:[s.jsx("div",{className:"hidden lg:block absolute top-24 left-1/4 right-1/4 h-0.5 bg-gradient-to-r from-blue-200 via-green-200 via-purple-200 to-orange-200"}),u.map((D,M)=>s.jsx("div",{className:"relative",children:s.jsx(J,{className:"group border border-gray-200 hover:border-primary/30 hover:shadow-xl transition-all duration-300 hover:-translate-y-2 bg-white/80 backdrop-blur-sm",children:s.jsxs(te,{className:"p-8 text-center relative",children:[s.jsx("div",{className:`w-20 h-20 ${D.color} rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg group-hover:scale-110 transition-transform`,children:s.jsx(D.icon,{className:"h-10 w-10 text-white"})}),s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 w-8 h-8 bg-white border-2 border-primary text-primary rounded-full flex items-center justify-center text-sm font-bold shadow-sm",children:D.number}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 group-hover:text-primary transition-colors",children:D.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:D.description})]})})},M))]}),s.jsxs("div",{className:"text-center mt-16",children:[s.jsxs("div",{className:"inline-flex flex-col sm:flex-row gap-4",children:[s.jsx($e,{href:"/auth",children:s.jsx(E,{size:"lg",className:"text-lg px-10 py-4 h-auto shadow-lg hover:shadow-xl transition-all",children:"Join as Publisher"})}),s.jsx($e,{href:"/auth",children:s.jsx(E,{size:"lg",variant:"outline",className:"text-lg px-10 py-4 h-auto border-2 hover:bg-primary hover:text-white transition-all",children:"Find Guest Post Opportunities"})})]}),s.jsx("div",{className:"text-center mt-12",children:s.jsx("p",{className:"text-lg text-gray-600 max-w-4xl mx-auto leading-relaxed",children:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"})})]})]})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Trusted by Professionals Worldwide"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[s.jsx(J,{className:"group border border-gray-200 hover:border-primary/30 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:s.jsxs(te,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("img",{src:"/assets/Maya_Whitaker.png",alt:"Maya Whitaker",className:"w-12 h-12 rounded-full object-cover mr-4"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Maya Whitaker"}),s.jsx("p",{className:"text-sm text-gray-600",children:"SEO Manager"})]})]}),s.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((D,M)=>s.jsx(Pi,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"},M))}),s.jsx("blockquote",{className:"text-gray-700 italic",children:'"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"'})]})}),s.jsx(J,{className:"group border border-gray-200 hover:border-primary/30 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:s.jsxs(te,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("img",{src:"/assets/Marcus_Rodriguez.png",alt:"Marcus Rodriguez",className:"w-12 h-12 rounded-full object-cover mr-4"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Demo"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Demo"})]})]}),s.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((D,M)=>s.jsx(Pi,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"},M))}),s.jsx("blockquote",{className:"text-gray-700 italic",children:'"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"'})]})}),s.jsx(J,{className:"group border border-gray-200 hover:border-primary/30 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:s.jsxs(te,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("img",{src:"/assets/Raghav_Menon.png",alt:"Raghav Menon",className:"w-12 h-12 rounded-full object-cover mr-4"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Demo"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Demo"})]})]}),s.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((D,M)=>s.jsx(Pi,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"},M))}),s.jsx("blockquote",{className:"text-gray-700 italic",children:'"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"'})]})})]}),s.jsxs("div",{className:"text-center mt-16",children:[s.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"}),s.jsx($e,{href:"/auth",children:s.jsx(E,{size:"lg",className:"text-lg px-10 py-4 h-auto shadow-lg hover:shadow-xl transition-all",children:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"})})]})]})}),s.jsxs("section",{className:"py-20 bg-gradient-to-r from-primary via-blue-600 to-purple-600 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-grid-white/10"}),s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-black/20"}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/20 backdrop-blur-sm rounded-full text-sm text-white font-medium mb-6",children:[s.jsx(Xy,{className:"h-4 w-4"}),"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"]}),s.jsx("h2",{className:"text-3xl sm:text-5xl font-bold text-white mb-6 leading-tight",children:"Ready to Amplify Your Content?"}),s.jsx("p",{className:"text-xl text-blue-100 leading-relaxed max-w-2xl mx-auto",children:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"})]}),s.jsxs("div",{className:"mt-12 flex flex-wrap justify-center items-center gap-8 text-white/80",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qf,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Secure Payments"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Quality Guaranteed"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pi,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:"99% Success Rate"})]})]})]})]}),s.jsx(Ln,{})]})}function bF(){$r("about");const{data:e}=ae({queryKey:["/api/settings/public"],enabled:!0});return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("header",{className:"border-b border-gray-200 bg-white sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx($e,{href:"/",children:s.jsxs(E,{variant:"ghost",size:"sm",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Back"]})}),s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-primary",children:(e==null?void 0:e.platformName)||"CollabPro"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($e,{href:"/auth",children:s.jsx(E,{variant:"ghost",size:"sm",children:"Login"})}),s.jsx($e,{href:"/auth",children:s.jsx(E,{size:"sm",children:"Sign Up"})})]})]})})}),s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"prose prose-lg max-w-none",children:[s.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:["About ",(e==null?void 0:e.platformName)||"CollabPro"]}),s.jsxs("div",{className:"text-xl text-gray-600 mb-8",children:["Founded in 2025, ",(e==null?void 0:e.platformName)||"CollabPro"," is the premier platform connecting website owners, authors, and contributors for authentic link building and guest posting opportunities across the globe."]}),s.jsxs("div",{className:"space-y-6 text-gray-700",children:[s.jsx("p",{children:"Our vision is to make it simple for webmasters, authors, and contributors to collaborate beyond borders. Whether you manage a small blog or a large online publication, our goal is to connect you with the right partners, making collaboration faster, safer, and more effective."}),s.jsxs("p",{children:[(e==null?void 0:e.platformName)||"CollabPro"," was created with the mission to revolutionize how websites grow their authority and reach. We provide a trusted environment where verified site owners can connect, collaborate, and create lasting partnerships through link exchanges and guest post opportunities."]}),s.jsx("p",{children:"We remove the uncertainty of traditional link building by ensuring that all participants are legitimate domain owners. From organic link swaps to purchasing high-quality guest posts, our platform offers the tools, security, and transparency you need."}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Our Mission"}),s.jsx("p",{children:"To create the most transparent, secure, and effective platform for building online authority through authentic collaborations, helping our members form genuine connections that benefit both sides."}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4",children:"Why Choose Us"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[s.jsx("li",{children:"Founded in 2025 with a global collaboration vision"}),s.jsx("li",{children:"Verified site owners and domains"}),s.jsx("li",{children:"Secure payment processing for guest posts"}),s.jsx("li",{children:"Built-in communication tools"}),s.jsx("li",{children:"Quality control and approval process"}),s.jsx("li",{children:"Transparent pricing and policies"})]})]})]})}),s.jsx(Ln,{})]})}function NF(){$r("faq");const[e,t]=m.useState([]),{data:r}=ae({queryKey:["/api/settings/public"],enabled:!0}),n=a=>{t(i=>i.includes(a)?i.filter(l=>l!==a):[...i,a])};return r!=null&&r.platformName,s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("header",{className:"border-b border-gray-200 bg-white sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx($e,{href:"/",children:s.jsxs(E,{variant:"ghost",size:"sm",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Back"]})}),s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-primary",children:(r==null?void 0:r.platformName)||"CollabPro"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($e,{href:"/auth",children:s.jsx(E,{variant:"ghost",size:"sm",children:"Login"})}),s.jsx($e,{href:"/auth",children:s.jsx(E,{size:"sm",children:"Sign Up"})})]})]})})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"}),s.jsxs("p",{className:"text-xl text-gray-600",children:["Find answers to common questions about ",(r==null?void 0:r.platformName)||"Outmarkly"]})]}),s.jsx("div",{className:"space-y-4",children:[{id:1,question:"Demo",answer:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"},{id:2,question:"Demo",answer:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"},{id:3,question:"Demo",answer:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"},{id:4,question:"Demo",answer:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"},{id:5,question:"Demo",answer:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"},{id:6,question:"Demo",answer:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"},{id:7,question:"Demo",answer:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"}].map(a=>s.jsxs(J,{className:"border border-gray-200",children:[s.jsx(fe,{className:"cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>n(a.id.toString()),children:s.jsxs(xe,{className:"flex items-center justify-between text-lg",children:[a.question,s.jsx(pp,{className:`h-5 w-5 transition-transform ${e.includes(a.id.toString())?"rotate-180":""}`})]})}),e.includes(a.id.toString())&&s.jsx(te,{className:"pt-0",children:s.jsx("p",{className:"text-gray-600",children:a.answer})})]},a.id))}),s.jsxs("div",{className:"text-center mt-12",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Still have questions?"}),s.jsx($e,{href:"/contact",children:s.jsx(E,{children:"Contact Us"})})]})]}),s.jsx(Ln,{})]})}function SF(){$r("contact");const{data:e}=ae({queryKey:["/api/settings/public"],enabled:!0});return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("header",{className:"border-b border-gray-200 bg-white sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx($e,{href:"/",children:s.jsxs(E,{variant:"ghost",size:"sm",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Back"]})}),s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-primary",children:(e==null?void 0:e.platformName)||"CollabPro"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($e,{href:"/auth",children:s.jsx(E,{variant:"ghost",size:"sm",children:"Login"})}),s.jsx($e,{href:"/auth",children:s.jsx(E,{size:"sm",children:"Sign Up"})})]})]})})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-12",children:[s.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Contact Us"}),s.jsxs("p",{className:"text-lg sm:text-xl text-gray-600",children:["Get in touch with the ",(e==null?void 0:e.platformName)||"CollabPro"," team"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8",children:[s.jsxs(J,{className:"border border-gray-200",children:[s.jsxs(fe,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(tc,{className:"h-8 w-8 text-primary"})}),s.jsx(xe,{className:"text-xl",children:"Email Support"})]}),s.jsxs(te,{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Send us an email and we'll get back to you within 24 hours."}),s.jsx("a",{href:"mailto:domainexchange@test.com",className:"text-primary font-medium hover:underline",children:"domainexchange@test.com"})]})]}),s.jsxs(J,{className:"border border-gray-200",children:[s.jsxs(fe,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(is,{className:"h-8 w-8 text-primary"})}),s.jsx(xe,{className:"text-xl",children:"General Inquiries"})]}),s.jsxs(te,{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Have questions about our platform or need assistance?"}),s.jsx("p",{className:"text-gray-600",children:"We're here to help with partnerships, technical support, and general questions."})]})]})]}),s.jsx("div",{className:"text-center mt-8 sm:mt-12",children:s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 sm:p-8",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Business Hours"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-2",children:"Monday - Friday: 9:00 AM - 6:00 PM EST"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"We typically respond to emails within 24 hours during business days."})]})})]}),s.jsx(Ln,{})]})}const Ii=[],kF=e=>Ii.find(t=>t.slug===e);function CF(){$r("blog");const{data:e}=ae({queryKey:["/api/settings/public"],enabled:!0}),[t,r]=m.useState(1),n=6,a=Math.ceil(Ii.length/n),i=(t-1)*n,l=i+n,o=m.useMemo(()=>Ii.slice(i,l),[i,l]),c=d=>{r(d),window.scrollTo({top:0,behavior:"smooth"})};return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("header",{className:"border-b border-gray-200 bg-white sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx($e,{href:"/",children:s.jsxs(E,{variant:"ghost",size:"sm",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Back"]})}),s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-primary",children:(e==null?void 0:e.platformName)||"CollabPro"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($e,{href:"/auth",children:s.jsx(E,{variant:"ghost",size:"sm",children:"Login"})}),s.jsx($e,{href:"/auth",children:s.jsx(E,{size:"sm",children:"Sign Up"})})]})]})})}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:[(e==null?void 0:e.platformName)||"CollabPro"," Blog"]}),s.jsx("p",{className:"text-xl text-gray-600",children:"Insights, tips, and news about link building and SEO"})]}),Ii.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:o.map(d=>s.jsxs(J,{className:"hover:shadow-lg transition-shadow duration-300",children:[s.jsxs(fe,{children:[s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:d.tags.slice(0,1).map((u,h)=>s.jsxs("div",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary/10 text-primary rounded-full text-xs",children:[s.jsx(Pb,{className:"h-3 w-3"}),u]},h))}),s.jsx(xe,{className:"text-xl mb-2 line-clamp-2",children:d.title})]}),s.jsxs(te,{children:[s.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:d.excerpt}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Dn,{className:"h-4 w-4"}),s.jsx("span",{children:d.author})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_n,{className:"h-4 w-4"}),s.jsx("time",{dateTime:d.date,children:new Date(d.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),s.jsx($e,{href:`/blog/${d.slug}`,children:s.jsx(E,{className:"w-full",children:"Read Article"})})]})]},d.slug))}),a>1&&s.jsxs("div",{className:"flex justify-center items-center space-x-4 py-8",children:[s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>c(t-1),disabled:t===1,className:"flex items-center gap-2",children:[s.jsx(em,{className:"h-4 w-4"}),"Previous"]}),s.jsx("div",{className:"flex items-center space-x-2",children:Array.from({length:a},(d,u)=>u+1).map(d=>s.jsx(E,{variant:t===d?"default":"outline",size:"sm",onClick:()=>c(d),className:"w-10 h-10 p-0",children:d},d))}),s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>c(t+1),disabled:t===a,className:"flex items-center gap-2",children:["Next",s.jsx(tm,{className:"h-4 w-4"})]})]}),s.jsxs("div",{className:"text-center text-sm text-gray-600 py-4",children:["Showing ",i+1,"-",Math.min(l,Ii.length)," of ",Ii.length," posts"]})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(_n,{className:"h-12 w-12 text-gray-400"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Coming Soon"}),s.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"We're working on creating valuable content about link building, SEO strategies, and platform updates. Check back soon for our latest articles!"}),s.jsx($e,{href:"/",children:s.jsx(E,{children:"Back to Homepage"})})]})]}),s.jsx(Ln,{})]})}function TF({post:e,children:t}){const{data:r}=ae({queryKey:["/api/settings/public"],enabled:!0});return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("header",{className:"border-b border-gray-200 bg-white sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx($e,{href:"/blog",children:s.jsxs(E,{variant:"ghost",size:"sm",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Back to Blog"]})}),s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-primary",children:(r==null?void 0:r.platformName)||"CollabPro"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($e,{href:"/auth",children:s.jsx(E,{variant:"ghost",size:"sm",children:"Login"})}),s.jsx($e,{href:"/auth",children:s.jsx(E,{size:"sm",children:"Sign Up"})})]})]})})}),s.jsxs("article",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("header",{className:"mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-6 leading-tight",children:e.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Dn,{className:"h-4 w-4"}),s.jsx("span",{children:e.author})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_n,{className:"h-4 w-4"}),s.jsx("time",{dateTime:e.date,children:new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),e.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:e.tags.slice(0,1).map((n,a)=>s.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:[s.jsx(Pb,{className:"h-3 w-3"}),n]},a))}),s.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:e.excerpt})]}),s.jsx("div",{className:"prose prose-lg max-w-none prose-headings:text-gray-900 prose-p:text-gray-700 prose-a:text-primary prose-strong:text-gray-900",children:t}),s.jsx("footer",{className:"mt-12 pt-8 border-t border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx($e,{href:"/blog",children:s.jsxs(E,{variant:"outline",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Back to All Posts"]})}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Published on ",new Date(e.date).toLocaleDateString()]})]})})]}),s.jsx(Ln,{})]})}function PF(){const[e,t]=LT("/blog/:slug");if(!e||!(t!=null&&t.slug))return s.jsx(EF,{});const r=kF(t.slug);if(!r)return s.jsx(AF,{slug:t.slug});sR({title:r.title,excerpt:r.excerpt,content:r.content,category:r.category,author:r.author,featuredImage:r.featuredImage});const n=r.component;return s.jsx(TF,{post:r,children:s.jsx(n,{})})}function EF(){return s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(ci,{className:"h-12 w-12 text-gray-400"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"The page you're looking for doesn't exist."}),s.jsx($e,{href:"/blog",children:s.jsxs(E,{children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Back to Blog"]})})]})})}function AF({slug:e}){return s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(ci,{className:"h-12 w-12 text-gray-400"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Blog Post Not Found"}),s.jsxs("p",{className:"text-gray-600 mb-2",children:['The blog post "',e,`" doesn't exist or has been removed.`]}),s.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"Check the URL or browse our available posts."}),s.jsx($e,{href:"/blog",children:s.jsxs(E,{children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Back to All Posts"]})})]})})}function _F(){$r("terms");const{data:e}=ae({queryKey:["/api/settings/public"],enabled:!0});return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"border-b border-gray-200 bg-white sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx($e,{href:"/",children:s.jsxs(E,{variant:"ghost",size:"sm",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Back"]})}),s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-primary",children:(e==null?void 0:e.platformName)||"CollabPro"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($e,{href:"/auth",children:s.jsx(E,{variant:"ghost",size:"sm",children:"Login"})}),s.jsx($e,{href:"/auth",children:s.jsx(E,{size:"sm",children:"Sign Up"})})]})]})})}),s.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Terms of Service"}),s.jsxs("div",{className:"prose prose-gray max-w-none",children:[s.jsxs("p",{className:"text-gray-600 mb-6",children:[s.jsx("strong",{children:"Last Updated:"})," August 8, 2025"]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"1. Acceptance of Terms"}),s.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["By accessing and using ",(e==null?void 0:e.platformName)||"Outmarkly"," ",'("the Platform"), you agree to comply with and be bound by these Terms of Service and any related policies. If you do not agree with these terms, you must discontinue using the Platform immediately.']})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"2. Description of Service"}),s.jsxs("p",{className:"text-gray-700 leading-relaxed",children:[(e==null?void 0:e.platformName)||"Outmarkly"," is a platform that facilitates link collaborations (reciprocal and non-reciprocal) and guest post opportunities between website owners. Users can register domains, list opportunities, search for potential partners, and manage transactions through our integrated wallet system."]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"3. User Responsibilities"}),s.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[s.jsx("li",{children:"Provide accurate and truthful information when registering and listing domains"}),s.jsx("li",{children:"Maintain the confidentiality and security of your account credentials"}),s.jsx("li",{children:"Ensure you own or are authorized to list the domains you submit"}),s.jsx("li",{children:"Comply with all applicable laws and regulations"}),s.jsx("li",{children:"Refrain from spam, fraudulent activity, or abusive behavior towards other users"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"4. Domain Verification"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"All domains listed on the Platform are subject to verification. We reserve the right to approve, reject, or remove domain listings that do not meet our quality standards or violate these Terms."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"5. Wallet, Top-ups, and Withdrawals"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"The Platform provides an internal wallet for handling payments related to guest post transactions only. Link collaborations between users are free and do not require any payment through the Platform. Top-ups for guest post payments are processed via supported payment methods and are usually available immediately after confirmation. Withdrawals from your wallet are typically completed within a few minutes but may take up to 24 hours. It is the user’s responsibility to ensure payment details are correct, as transactions cannot be reversed. Any applicable platform fees are shown before each transaction and deducted automatically."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"6. Prohibited Activities"}),s.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[s.jsx("li",{children:"Submitting false or misleading information"}),s.jsx("li",{children:"Attempting to bypass or manipulate verification processes"}),s.jsx("li",{children:"Engaging in illegal, fraudulent, or unauthorized transactions"}),s.jsx("li",{children:"Harassment or abuse of other users"}),s.jsx("li",{children:"Distribution of spam, malware, or harmful content"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"7. Limitation of Liability"}),s.jsxs("p",{className:"text-gray-700 leading-relaxed",children:[(e==null?void 0:e.platformName)||"Outmarkly"," is not liable for any indirect, incidental, or consequential damages, including but not limited to loss of profits, revenue, or data, arising from your use of the Platform."]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"8. Support and Dispute Policy"}),s.jsxs("p",{className:"text-gray-700 leading-relaxed",children:[(e==null?void 0:e.platformName)||"Outmarkly"," Team is available to assist with any issues related to guest post orders or collaboration requests while the transaction remains active. A transaction is considered active until it is marked as completed by the parties involved. Once a transaction is marked as completed, it is considered closed and we will no longer be able to intervene or provide dispute resolution. Users are encouraged to communicate and resolve any concerns before marking a transaction as completed."]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"9. Termination"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We reserve the right to suspend or terminate accounts at our discretion if a user violates these Terms or engages in activities that may harm the integrity of the Platform. Users may also request account closure through our support system."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"10. Changes to Terms"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We may update or modify these Terms at any time. Significant changes will be communicated to users, and continued use of the Platform after changes take effect constitutes acceptance of the updated Terms."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"11. Contact Information"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"If you have any questions or concerns about these Terms of Service, please contact us through our support system or via the contact page on the Platform."})]})]})]})}),s.jsx(Ln,{})]})}function DF(){$r("privacy");const{data:e}=ae({queryKey:["/api/settings/public"],enabled:!0});return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"border-b border-gray-200 bg-white sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx($e,{href:"/",children:s.jsxs(E,{variant:"ghost",size:"sm",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Back"]})}),s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-primary",children:(e==null?void 0:e.platformName)||"CollabPro"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx($e,{href:"/auth",children:s.jsx(E,{variant:"ghost",size:"sm",children:"Login"})}),s.jsx($e,{href:"/auth",children:s.jsx(E,{size:"sm",children:"Sign Up"})})]})]})})}),s.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-12",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6 lg:p-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6 sm:mb-8",children:"Privacy Policy"}),s.jsxs("div",{className:"prose prose-gray max-w-none",children:[s.jsxs("p",{className:"text-gray-600 mb-6",children:[s.jsx("strong",{children:"Last Updated:"})," August 3, 2025"]}),s.jsxs("section",{className:"mb-6 sm:mb-8",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4",children:"1. Information We Collect"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-700 leading-relaxed mb-4",children:"This is a demo environment. All features are active, data may reset. Demo login: demo@demo.com - demo123"}),s.jsxs("ul",{className:"list-disc pl-4 sm:pl-6 text-sm sm:text-base text-gray-700 space-y-2",children:[s.jsx("li",{children:"Email address (for account creation and communication)"}),s.jsx("li",{children:"First and last name"}),s.jsx("li",{children:"Any additional details you approve when requested"})]})]}),s.jsxs("section",{className:"mb-6 sm:mb-8",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4",children:"2. How We Use Your Information"}),s.jsxs("ul",{className:"list-disc pl-4 sm:pl-6 text-sm sm:text-base text-gray-700 space-y-2",children:[s.jsx("li",{children:"To provide and maintain our service"}),s.jsx("li",{children:"To contact you regarding your account or platform activity"}),s.jsx("li",{children:"To verify ownership or eligibility for certain features"}),s.jsx("li",{children:"To send important service notifications"}),s.jsx("li",{children:"To improve the platform and user experience"})]})]}),s.jsxs("section",{className:"mb-6 sm:mb-8",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4",children:"3. Information Sharing"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-700 leading-relaxed mb-4",children:"We do not sell, trade, or otherwise transfer your personal information to third parties except as described in this policy:"}),s.jsxs("ul",{className:"list-disc pl-4 sm:pl-6 text-sm sm:text-base text-gray-700 space-y-2",children:[s.jsx("li",{children:"With your consent or at your direction"}),s.jsx("li",{children:"To comply with legal obligations"}),s.jsx("li",{children:"To protect our rights and prevent fraud"}),s.jsx("li",{children:"With service providers who assist in our operations"})]})]}),s.jsxs("section",{className:"mb-6 sm:mb-8",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4",children:"4. Data Security"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-700 leading-relaxed",children:"We implement appropriate security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. However, no method of transmission over the internet is 100% secure."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"5. Data Retention"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We retain your information for as long as your account is active or as needed to provide services. Certain information may be retained for legal or security purposes."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"6. Cookies and Tracking"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We use cookies and similar technologies to maintain your session and enhance your experience. You can control cookie settings through your browser preferences."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"7. Your Rights"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Depending on your location, you may have certain rights regarding your personal information:"}),s.jsxs("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[s.jsx("li",{children:"Right to access your personal information"}),s.jsx("li",{children:"Right to correct inaccurate information"}),s.jsx("li",{children:"Right to delete your information"}),s.jsx("li",{children:"Right to refuse providing additional requested information"}),s.jsx("li",{children:"Right to object to processing"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"8. Third-Party Services"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our service may contain links to third-party websites or integrate with third-party services. We are not responsible for the privacy practices of these external services."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"9. Children's Privacy"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our service is not intended for children under 13 years of age. We do not knowingly collect personal information from children under 13."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"10. Changes to This Policy"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:'We may update this privacy policy from time to time. We will notify you of any material changes by posting the new policy on this page and updating the "Last Updated" date.'})]}),s.jsxs("section",{className:"mb-6 sm:mb-8",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4",children:"11. Contact Us"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-700 leading-relaxed",children:"If you have any questions about this Privacy Policy, please contact us through our contact page or support system."})]})]})]})}),s.jsx(Ln,{})]})}function Lt(){const{data:e}=ae({queryKey:["/api/settings/public"]}),t=(e==null?void 0:e.maintenanceMessage)||"We are currently performing maintenance. Please check back soon.";return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(fe,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"bg-orange-100 p-3 rounded-full",children:s.jsx(V4,{className:"h-8 w-8 text-orange-600"})})}),s.jsxs(xe,{className:"flex items-center justify-center gap-2",children:[s.jsx(sc,{className:"h-5 w-5 text-orange-600"}),"Site Under Maintenance"]})]}),s.jsxs(te,{className:"text-center space-y-4",children:[s.jsx("p",{className:"text-gray-600",children:t}),s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:s.jsx("p",{className:"text-sm text-orange-800",children:"We apologize for any inconvenience. Our team is working to improve your experience."})}),s.jsx("p",{className:"text-sm text-gray-500",children:"Thank you for your patience."})]})]})})}const RF=Re.object({email:Re.string().email("Please enter a valid email address")});function MF(){const[e,t]=m.useState(!1),{toast:r}=at(),n=qs({resolver:Vs(RF),defaultValues:{email:""}}),a=Ee({mutationFn:async l=>ve("/api/auth/forgot-password",{method:"POST",body:l,headers:{"Content-Type":"application/json"}}),onSuccess:l=>{t(!0),l.emailSent||r({title:"Email service unavailable",description:"Password reset request was processed, but email could not be sent. Please contact support.",variant:"destructive"})},onError:l=>{r({title:"Error",description:l.message||"Failed to process password reset request",variant:"destructive"})}}),i=l=>{a.mutate(l)};return e?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(fe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100",children:s.jsx(tc,{className:"h-6 w-6 text-green-600"})}),s.jsx(xe,{className:"mt-4",children:"Check Your Email"}),s.jsx(lt,{children:"If an account with that email exists, we've sent you a password reset link."})]}),s.jsxs(te,{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-gray-600 text-center",children:[s.jsx("p",{children:"Check your email (including spam folder) and follow the instructions to reset your password."}),s.jsx("p",{className:"mt-2",children:"The link will expire in 1 hour."})]}),s.jsx("div",{className:"pt-4",children:s.jsx($e,{href:"/auth",children:s.jsxs(E,{variant:"outline",className:"w-full",children:[s.jsx(ws,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(fe,{children:[s.jsx(xe,{children:"Forgot Password"}),s.jsx(lt,{children:"Enter your email address and we'll send you a link to reset your password."})]}),s.jsx(te,{children:s.jsx(ji,{...n,children:s.jsxs("form",{onSubmit:n.handleSubmit(i),className:"space-y-6",children:[s.jsx(ys,{control:n.control,name:"email",render:({field:l})=>s.jsxs(ns,{children:[s.jsx(vs,{children:"Email Address"}),s.jsx(as,{children:s.jsx(re,{type:"email",placeholder:"Enter your email address",...l})}),s.jsx(Ps,{})]})}),s.jsx(E,{type:"submit",className:"w-full",disabled:a.isPending,children:a.isPending?"Sending...":"Send Reset Link"}),s.jsx("div",{className:"text-center",children:s.jsx($e,{href:"/auth",children:s.jsxs(E,{variant:"ghost",className:"text-sm",children:[s.jsx(ws,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})})]})})})]})})}const FF=Re.object({newPassword:Re.string().min(6,"Password must be at least 6 characters"),confirmPassword:Re.string()}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function OF(){const[,e]=on(),[t,r]=m.useState(null),[n,a]=m.useState(!1),{toast:i}=at(),l=qs({resolver:Vs(FF),defaultValues:{newPassword:"",confirmPassword:""}});m.useEffect(()=>{const u=new URLSearchParams(window.location.search).get("token");u?r(u):(i({title:"Invalid Reset Link",description:"The password reset link is invalid or missing. Please request a new one.",variant:"destructive"}),e("/auth/forgot-password"))},[e,i]);const o=Ee({mutationFn:async d=>ve("/api/auth/reset-password",{method:"POST",body:{token:t,newPassword:d.newPassword},headers:{"Content-Type":"application/json"}}),onSuccess:()=>{a(!0)},onError:d=>{i({title:"Error",description:d.message||"Failed to reset password",variant:"destructive"})}}),c=d=>{if(!t){i({title:"Invalid Token",description:"Reset token is missing. Please request a new password reset.",variant:"destructive"});return}o.mutate(d)};return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(fe,{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100",children:s.jsx(yt,{className:"h-6 w-6 text-green-600"})}),s.jsx(xe,{className:"mt-4",children:"Password Reset Successfully"}),s.jsx(lt,{children:"Your password has been reset. You can now log in with your new password."})]}),s.jsx(te,{children:s.jsx($e,{href:"/auth",children:s.jsx(E,{className:"w-full",children:"Continue to Login"})})})]})}):t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(fe,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Cb,{className:"h-5 w-5 text-gray-600"}),s.jsx(xe,{children:"Reset Password"})]}),s.jsx(lt,{children:"Enter your new password below. Make sure it's at least 6 characters long."})]}),s.jsx(te,{children:s.jsx(ji,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-6",children:[s.jsx(ys,{control:l.control,name:"newPassword",render:({field:d})=>s.jsxs(ns,{children:[s.jsx(vs,{children:"New Password"}),s.jsx(as,{children:s.jsx(re,{type:"password",placeholder:"Enter your new password",...d})}),s.jsx(Ps,{})]})}),s.jsx(ys,{control:l.control,name:"confirmPassword",render:({field:d})=>s.jsxs(ns,{children:[s.jsx(vs,{children:"Confirm New Password"}),s.jsx(as,{children:s.jsx(re,{type:"password",placeholder:"Confirm your new password",...d})}),s.jsx(Ps,{})]})}),s.jsx(E,{type:"submit",className:"w-full",disabled:o.isPending,children:o.isPending?"Resetting...":"Reset Password"}),s.jsx("div",{className:"text-center",children:s.jsx($e,{href:"/auth",children:s.jsxs(E,{variant:"ghost",className:"text-sm",children:[s.jsx(ws,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})})]})})})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs(J,{className:"w-full max-w-md",children:[s.jsxs(fe,{className:"text-center",children:[s.jsx(xe,{children:"Invalid Reset Link"}),s.jsx(lt,{children:"The password reset link is invalid or has expired."})]}),s.jsx(te,{children:s.jsx($e,{href:"/auth/forgot-password",children:s.jsx(E,{className:"w-full",children:"Request New Reset Link"})})})]})})}function IF(){const[,e]=on(),[t,r]=m.useState("ready"),[n,a]=m.useState(""),[i,l]=m.useState(null),{data:o}=ae({queryKey:["/api/settings/public"],enabled:!0});m.useEffect(()=>{const h=new URLSearchParams(window.location.search),x=h.get("token"),y=h.get("error");if(!x){r("invalid"),a("Invalid verification link. Please check your email and try again.");return}if(y==="invalid"){r("error"),a("The verification link is invalid or has expired. Please request a new verification email.");return}l(x),a("Click the button below to verify your email address.")},[]);const c=async()=>{if(i){r("loading"),a("Verifying your email address...");try{const x=await(await fetch(`/api/auth/verify-token/${i}`,{method:"GET"})).json();x.success?(r("success"),a("Your email has been successfully verified! You can now log in to your account.")):(r("error"),a(x.message||"The verification link is invalid or has expired. Please request a new verification email."))}catch(h){console.error("Verification error:",h),r("error"),a("An error occurred while verifying your email. Please try again later.")}}},d=()=>{e("/auth")},u=()=>{e("/auth?tab=register&resend=true")};return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs(J,{className:"shadow-2xl border-0",children:[s.jsxs(fe,{className:"text-center pb-6",children:[s.jsxs("div",{className:"flex justify-center mb-4",children:[t==="ready"&&s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(tc,{className:"h-8 w-8 text-blue-600"})}),t==="loading"&&s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(_4,{className:"h-8 w-8 text-blue-600 animate-spin"})}),t==="success"&&s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(yt,{className:"h-8 w-8 text-green-600"})}),(t==="error"||t==="invalid")&&s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(bn,{className:"h-8 w-8 text-red-600"})})]}),s.jsxs(xe,{className:"text-2xl font-bold text-gray-900",children:[t==="ready"&&"Verify Your Email",t==="loading"&&"Verifying Email...",t==="success"&&"Email Verified!",(t==="error"||t==="invalid")&&"Verification Failed"]}),s.jsxs(lt,{className:"text-gray-600 mt-2",children:[t==="loading"&&"Please wait while we verify your email address.",n]})]}),s.jsxs(te,{className:"space-y-4",children:[t==="ready"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs(E,{onClick:c,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(yt,{className:"h-4 w-4 mr-2"}),"Verify My Email"]}),s.jsxs(E,{variant:"outline",onClick:d,className:"w-full",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Back to Login"]})]}),t==="success"&&s.jsx("div",{className:"space-y-4",children:s.jsx(E,{onClick:d,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Continue to Login"})}),(t==="error"||t==="invalid")&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs(E,{onClick:u,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(tc,{className:"h-4 w-4 mr-2"}),"Request New Verification Email"]}),s.jsxs(E,{variant:"outline",onClick:d,className:"w-full",children:[s.jsx(ws,{className:"h-4 w-4 mr-2"}),"Back to Login"]})]}),t==="loading"&&s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-sm text-gray-500",children:"This should only take a few seconds..."})})]})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsxs("p",{className:"text-sm text-gray-500",children:[(o==null?void 0:o.platformName)||"CollabPro"," - Advanced Link Exchange Platform"]})})]})})}function LF(){const{isAuthenticated:e,isLoading:t,user:r}=ds(),{data:n}=ae({queryKey:["/api/settings/public"]}),a=(n==null?void 0:n.maintenanceMode)==="true";return console.log("Router render - isAuthenticated:",e,"isLoading:",t,"user:",r),t?s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-slate-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s.jsxs(zT,{children:[s.jsx(gt,{path:`${xs}/:section?`,component:e&&(r==null?void 0:r.role)==="admin"?Eh:Zv}),s.jsx(gt,{path:xs,component:e&&(r==null?void 0:r.role)==="admin"?Eh:Zv}),s.jsx(gt,{path:`${Rl}/:section?`,component:e&&(r==null?void 0:r.role)==="employee"?Ah:ir}),s.jsx(gt,{path:Rl,component:e&&(r==null?void 0:r.role)==="employee"?Ah:ir}),s.jsx(gt,{path:"/",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):e?(r==null?void 0:r.role)==="admin"?s.jsx(Eh,{}):(r==null?void 0:r.role)==="employee"?s.jsx(Ah,{}):s.jsx(qr,{}):s.jsx(Xv,{})}),s.jsx(gt,{path:"/signup",component:()=>{const l=new URLSearchParams(window.location.search).get("ref");if(l&&localStorage.setItem("pendingReferralCode",l),e&&r)window.location.href="/dashboard";else{const o=l?`/auth?ref=${l}`:"/auth";window.location.href=o}return null}}),s.jsx(gt,{path:"/register",component:()=>{const l=new URLSearchParams(window.location.search).get("ref");if(l&&localStorage.setItem("pendingReferralCode",l),e&&r)window.location.href="/dashboard";else{const o=l?`/auth?ref=${l}`:"/auth";window.location.href=o}return null}}),s.jsx(gt,{path:"/auth",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):s.jsx(ir,{})}),s.jsx(gt,{path:"/auth/forgot-password",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):s.jsx(MF,{})}),s.jsx(gt,{path:"/auth/reset-password",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):s.jsx(OF,{})}),s.jsx(gt,{path:"/verify-email",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):s.jsx(IF,{})}),s.jsx(gt,{path:"/about",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):s.jsx(bF,{})}),s.jsx(gt,{path:"/faq",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):s.jsx(NF,{})}),s.jsx(gt,{path:"/contact",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):s.jsx(SF,{})}),s.jsx(gt,{path:"/blog",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):s.jsx(CF,{})}),s.jsx(gt,{path:"/blog/:slug",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):s.jsx(PF,{})}),s.jsx(gt,{path:"/terms",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):s.jsx(_F,{})}),s.jsx(gt,{path:"/privacy",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):s.jsx(DF,{})}),s.jsx(gt,{path:"/dashboard/:section?",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):e&&(r==null?void 0:r.role)==="user"?s.jsx(qr,{}):s.jsx(ir,{})}),s.jsx(gt,{path:"/sites",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):e&&(r==null?void 0:r.role)==="user"?s.jsx(qr,{}):s.jsx(ir,{})}),s.jsx(gt,{path:"/directory",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):e&&(r==null?void 0:r.role)==="user"?s.jsx(qr,{}):s.jsx(ir,{})}),s.jsx(gt,{path:"/wallet",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):e&&(r==null?void 0:r.role)==="user"?s.jsx(qr,{}):s.jsx(ir,{})}),s.jsx(gt,{path:"/orders",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):e&&(r==null?void 0:r.role)==="user"?s.jsx(qr,{}):s.jsx(ir,{})}),s.jsx(gt,{path:"/chat",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):e&&(r==null?void 0:r.role)==="user"?s.jsx(qr,{}):s.jsx(ir,{})}),s.jsx(gt,{path:"/profile",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):e&&(r==null?void 0:r.role)==="user"?s.jsx(qr,{}):s.jsx(ir,{})}),s.jsx(gt,{path:"/referral",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):e&&(r==null?void 0:r.role)==="user"?s.jsx(qr,{}):s.jsx(ir,{})}),s.jsx(gt,{path:"/support",component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):e&&(r==null?void 0:r.role)==="user"?s.jsx(qr,{}):s.jsx(ir,{})}),s.jsx(gt,{component:()=>a&&(!r||r.role!=="admin")?s.jsx(Lt,{}):s.jsx(Xv,{})})]})}function $F(){return s.jsx(lP,{client:Zt,children:s.jsx(JA,{children:s.jsxs(ZA,{children:[s.jsx(CE,{}),s.jsx(LF,{})]})})})}window.addEventListener("unhandledrejection",e=>{var t,r,n,a,i;if(((t=e.reason)==null?void 0:t.name)==="AbortError"){e.preventDefault(),console.log("Request cancelled - this is normal during navigation");return}if((n=(r=e.reason)==null?void 0:r.message)!=null&&n.includes("Network connection failed")||(i=(a=e.reason)==null?void 0:a.message)!=null&&i.includes("Not authenticated")){e.preventDefault(),console.warn("Network/auth error handled gracefully:",e.reason);return}console.error("Unhandled promise rejection:",e.reason)});Nw(document.getElementById("root")).render(s.jsx($F,{}));
